(this["webpackJsonpoh-my-blog"]=this["webpackJsonpoh-my-blog"]||[]).push([[0],{103:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=(a(68),a(6)),i=a.n(s),o=a(3),m=a(24),u=(a(70),a(5)),d=(a(71),a(8));var p=Object(d.b)((function(e){return{shop:e.shop.session,cart:e.cart}}))((function(e){var t=Object(m.g)(),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],s=c[1],i=e.shop,d=e.cart;return Object(n.useEffect)((function(){return window.onscroll=function(){s(window.pageYOffset>69)},function(){window.onscroll=null}}),[]),r.a.createElement("div",{className:"navBar",style:{boxShadow:l?"0px 1px 8px #dddddd":"none",border:"0.5px solid #dddddd"}},r.a.createElement("div",{className:"navBar-wrapper"},r.a.createElement("div",{className:"navBar-item title"},i.logo.length>0?r.a.createElement("img",{className:"logo",src:i.logo}):null,r.a.createElement("h2",null,i.name)),r.a.createElement("div",{className:"navBar-item"},r.a.createElement(o.b,{to:"/",style:{fontWeight:"/"===t.pathname?500:300}},"Home")),r.a.createElement("div",{className:"navBar-item"},r.a.createElement(o.b,{to:"/blogs",style:{fontWeight:t.pathname.startsWith("/blogs")?500:300}},"Blog")),r.a.createElement("div",{className:"navBar-item"},r.a.createElement(o.b,{to:"/products",style:{fontWeight:t.pathname.startsWith("/products")?500:300}},"Shop")),r.a.createElement("div",{className:"navBar-item"},r.a.createElement(o.b,{to:"/cart"},d.items.length>0?r.a.createElement("span",{className:"count"},d.items.length):null,r.a.createElement("i",{className:"fas fa-shopping-cart"}))),r.a.createElement("div",{className:"navBar-item"},r.a.createElement(o.b,{to:"/users"},r.a.createElement("i",{className:"fas fa-user"})))))}));a(77);var f=Object(d.b)((function(e){return{shop:e.shop.session,settings:e.shop.settings}}))((function(e){var t=e.shop,a=e.settings;return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"cols"},r.a.createElement("div",{className:"col shop"},r.a.createElement("div",{className:"shop-title"},t.name),r.a.createElement("div",{className:"shop-desc"},t.description)),r.a.createElement("div",{className:"col links"},r.a.createElement(o.b,{to:"/"},"Home"),r.a.createElement(o.b,{to:"/blogs"},"Blog"),r.a.createElement(o.b,{to:"/products"},"Shop"),r.a.createElement(o.b,{to:"/cart"},"Cart"),r.a.createElement(o.b,{to:"/users"},"My Account")),r.a.createElement("div",{className:"col links"},r.a.createElement(o.b,{to:"/pages/terms_and_conditions"},"Terms and Conditions"),r.a.createElement(o.b,{to:"/pages/privacy_policy"},"Privacy Policy"),r.a.createElement(o.b,{to:"/pages/shipping_policy"},"Shipping Policy")),r.a.createElement("div",{className:"col links social"},function(){var e={facebook:"fab fa-facebook",instagram:"fab fa-instagram",twitter:"fab fa-twitter",youtube:"fab fa-youtube",pinterest:"fab fa-pinterest"},t=((a||{}).links||{}).social||{};return Object.keys(t).filter((function(e){return t[e].length>0||"#"!=t[e]})).map((function(a){return r.a.createElement("a",{key:"footer-social-link-".concat(a),href:t[a],target:"_blank"},r.a.createElement("i",{className:e[a]}))}))}())),r.a.createElement("div",{className:"copyright"},"Copyright@",(new Date).getFullYear()," ",t.name))})),h=(a(78),"SET_SHOP"),g="SET_PRODUCTS",E="SET_ARTICLES",v="INIT_CART",b="SET_CART_ITEMS",y="SET_HOME_CONTEXT",N=a(11),w=a(4);var j=function(e){return r.a.createElement("div",{id:e.id,style:Object(w.a)({width:"100%",height:1,backgroundColor:"#dfdfdf"},e.styles)})},O=(a(103),a(7)),x=a.n(O),k=a(28);var C=Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:y,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,l=new x.a;function s(e){return{title:e.sections[0].title,thumbnail:((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||""}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);l.article.get(Object(w.a)({},a)).then((function(e){return t(c,e)})).catch((function(e){alert("Failed to get featured article")}))}()}),[]),a[c]?r.a.createElement("div",{className:"widget-banner",style:Object(w.a)({},e.styles)},function(){var t={duration:void 0!=e.duration?e.duration:5e3,transitionDuration:void 0!=e.transitionDuration?e.transitionDuration:300,infinite:void 0!=e.infinite&&e.infinite,indicators:void 0==e.indicators||e.indicators,arrows:void 0==e.arrows||e.arrows};return r.a.createElement(k.Slide,t,(a[c]||[]).map((function(e,t){return r.a.createElement(o.b,{key:"slide-image-".concat(t),to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(s(e).thumbnail,")")}},r.a.createElement("h1",null,s(e).title))))})))}()):r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})))})),_=(a(125),a(29)),S=a.n(_);var T=Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home,shop:e.shop.session},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:y,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,l=e.shop,s=new x.a;function i(e){return{title:e.name,thumbnail:((((e.variants||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||"",price:e.price}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);s.merchandise.get(Object(w.a)({},a)).then((function(e){return t(c,e)})).catch((function(e){alert("Failed to get products")}))}()}),[]),a[c]?r.a.createElement("div",{className:"widget-product",style:Object(w.a)({},e.styles)},r.a.createElement("h1",null,e.title),r.a.createElement(S.a,{cols:e.cols||5,rows:e.rows||1,gap:15,loop:!0},(a[c]||[]).map((function(e,t){return r.a.createElement(S.a.Item,{key:"slide-image-".concat(t)},r.a.createElement(o.b,{to:"/products/".concat(e.id)},r.a.createElement("div",{className:"product-grid"},r.a.createElement("img",{src:i(e).thumbnail}),r.a.createElement("div",{className:"title"},i(e).title),r.a.createElement("div",{className:"price"},l.currency.toUpperCase()," ",i(e).price.toFixed(2)))))})))):r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})))})),I=(a(129),a(22)),L=a.n(I);var q={Banner:C,Product:T,Seperator:j,ArticleTile:Object(d.b)((function(e,t){return Object(w.a)({homeContext:e.home,shop:e.shop.session},t)}),(function(e){return{setHomeContext:function(t,a){return e({type:y,payload:a,key:t})}}}))((function(e){var t=e.setHomeContext,a=e.homeContext,c=e.id,l=(e.shop,new x.a);function s(e){return{title:e.sections[0].title,description:e.sections[0].description,thumbnail:((((e.sections||[]).filter((function(e){return e.media.length>0}))||[])[0]||{}).media||[])[0].url||""}}return(Object(n.useEffect)((function(){a[c]||function(){var a={};(e.ordering||"").length>0&&(a.ordering=e.ordering);(e.tags||"").length>0&&(a.tags=e.tags);(e.keywords||"").length>0&&(a.keywords=e.keywords);(e.ids||"").length>0&&(a.ids=e.ids);l.article.get(Object(w.a)({},a)).then((function(e){return t(c,e)})).catch((function(e){alert("Failed to get articles")}))}()}),[]),a[c]?r.a.createElement("div",{className:"widget-article",style:Object(w.a)({},e.styles)},r.a.createElement("h1",null,e.title),r.a.createElement(S.a,{cols:e.cols||2,rows:e.rows||2,gap:15,loop:!0},(a[c]||[]).map((function(e,t){return r.a.createElement(S.a.Item,{key:"slide-image-".concat(t)},r.a.createElement(o.b,{to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"article-grid"},r.a.createElement("img",{src:s(e).thumbnail}),r.a.createElement("div",{className:"title"},s(e).title),r.a.createElement("div",{className:"desc"},L()(s(e).description)))))})))):r.a.createElement("div",{style:{width:"100%",height:500,display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})))}))};var B=Object(d.b)((function(e){return{session:e.shop.session,settings:e.shop.settings}}))((function(e){var t=e.settings.layout;return r.a.createElement("div",{className:"home"},t.content.map((function(e,t){var a=void 0!=e.widget&&e.widget.length>0?q[e.widget]:void 0;if(void 0!=a)return r.a.createElement(a,Object.assign({key:"widget-".concat(e.widget,"-").concat(t),id:"widget-".concat(e.widget,"-").concat(t)},e))})))}));a(141);var F=Object(d.b)((function(e){return{products:e.product.products}}),(function(e){return{setProducts:function(t){return e({type:g,payload:t})}}}))((function(e){var t=new x.a,a=e.products,c=Object(n.useState)({loading:!1}),l=Object(u.a)(c,2),s=l[0],i=l[1];function m(){p(),t.merchandise.get({page:Math.ceil(a.length/15)+1}).then((function(t){e.setProducts(a.concat(t)),p()})).catch((function(e){return console.error(e)}))}function d(e){var t="https://via.placeholder.com/150",a=e.variants.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function p(){i((function(e){var t=Object(w.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||m()}),[]),r.a.createElement("div",{className:"products"},r.a.createElement("h1",null,"Products - All"),r.a.createElement("div",{className:"list"},(a||[]).map((function(e,t){return r.a.createElement("div",{key:"product-".concat(t),className:"item"},r.a.createElement(o.b,{to:"/products/".concat(e.id)},r.a.createElement("div",{className:"item-wrapper"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:d(e)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"price"},"HKD ",e.price)))))}))),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===s.loading?r.a.createElement("button",{className:"load-more-btn",onClick:m},"Load more"):r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0}))))})),A=a(21);a(142);var P=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=Object(m.h)(),c=Object(n.useState)({}),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(n.useState)({}),f=Object(u.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)({loading:!1,addingToCart:!1}),v=Object(u.a)(E,2),b=v[0],y=v[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),C=O[0],_=O[1],S=Object(n.useState)({}),T=Object(u.a)(S,2),I=T[0],L=T[1],q=e.cart,B=e.shop;function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y((function(a){var n=Object(w.a)({},a);return t?n.addingToCart=e:n.loading=e,n}))}function P(e,t){g((function(a){var n=Object(w.a)({},a);return Object.keys(n[e]).forEach((function(a){return n[e][a]=a==t})),n})),L((function(a){var n=Object(w.a)({},a);return n[e]=t,n}))}function M(){var e=null;return((s||{}).variants||[]).forEach((function(t){var a=t.description;if(Object.keys(I).length===Object.keys(a).length){var n=!0;Object.keys(a).forEach((function(e){a[e]!=I[e]&&(n=!1)})),n&&(e=t)}})),e}Object(n.useEffect)((function(){b.loading||Object.keys(s).length||(F(!0),t.merchandise.get({page:b.page,ids:a.id}).then((function(e){e.length||_("/notfound"),d(function(){var t=Object(w.a)({},e[0]);return t.variants=t.variants.map((function(e){return e.description=e.description.split(",").map((function(e){return Object(A.a)({},e.split(":")[0],e.split(":")[1])})).reduce((function(e,t){return Object.assign(e,t)}),{}),e})),t}()),g(function(){var t={};return(e[0].variants||[]).forEach((function(e){Object.keys(e.description).forEach((function(a){var n=a,r=e.description[a];t[n]=t[n]||{},t[n][r]=t[n][r]||0==Object.keys(t[n]).length}))})),t}()),F(!1)})).catch((function(e){F(!1),_("/notfound")}))),Object.keys(h).length>0&&!Object.keys(I).length&&Object.keys(h).forEach((function(e){Object.keys(h[e]).forEach((function(t){!0===h[e][t]&&P(e,t)}))}))}),[h]);var U=M()||{};return b.loading?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})):C?r.a.createElement(m.a,{to:C}):r.a.createElement("div",{className:"product-detail"},r.a.createElement("div",{className:"rows"},r.a.createElement("div",{className:"back-button-wrapper"},r.a.createElement(o.b,{to:"/products"},r.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Products")),r.a.createElement("div",{className:"upper-row"},r.a.createElement("div",{className:"slide-container"},r.a.createElement(k.Slide,{duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0},function(){var e=[];return(s.variants||[]).forEach((function(t){return t.media.forEach((function(t){return e.push(t.url)}))})),e.filter((function(t,a){return e.indexOf(t)===a})).map((function(e,t){return r.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e,")")}}))}))}()))),r.a.createElement("div",{className:"lower-row"},r.a.createElement("div",{className:"description"},r.a.createElement("h1",null,s.name),r.a.createElement("div",{className:"price"},B.currency.toUpperCase()," ",(U.price||0).toFixed(2),0==U.stock?r.a.createElement("span",{className:"out-of-stock"},"Out of stock"):null),r.a.createElement("p",null,s.description),r.a.createElement("div",{className:"tags"},(s.tags||[]).map((function(e){return r.a.createElement("div",{key:"product-tag-".concat(e),className:"tag"},"#",e)})))),r.a.createElement("div",{style:{width:"50px"}}),r.a.createElement("div",{className:"variants"},1==Object.keys(h).length&&1==Object.values(h).length?null:Object.keys(h).map((function(e){return r.a.createElement("div",{key:"variant-list-".concat(e),className:"list"},r.a.createElement("h4",null,e.toUpperCase()),r.a.createElement("div",{className:"items"},Object.keys(h[e]).map((function(t){return r.a.createElement("div",{onClick:function(){P(e,t)},key:"variant-".concat(e,"-").concat(t),className:"item ".concat(!0===h[e][t]?"selected":"")},t)}))))})),r.a.createElement("button",{className:"add-to-cart",onClick:function(){var a,n,r;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(F(!0,!0),!(a=(M()||{}).id||null)){c.next=19;break}return n=0,q.items.forEach((function(e){e.id==a&&(n=e.qty)})),c.prev=5,c.next=8,i.a.awrap(t.cart.item.add(q.id,{id:a,qty:n+1}));case 8:return c.next=10,i.a.awrap(t.cart.item.get(q.id));case 10:r=c.sent,e.setCartItems(r),F(!1,!0),c.next=19;break;case 15:c.prev=15,c.t0=c.catch(5),alert("Failed to add item to cart"),F(!1,!0);case 19:case"end":return c.stop()}}),null,null,[[5,15]])},disabled:0==U.stock||b.addingToCart},b.addingToCart?r.a.createElement(N.MoonLoader,{size:20,color:"white",loading:!0}):"Add to Cart")))))}));a(143);var M=Object(d.b)((function(e){return{articles:e.article.articles}}),(function(e){return{setArticles:function(t){return e({type:E,payload:t})}}}))((function(e){var t=new x.a,a=e.articles,c=Object(n.useState)({loading:!1}),l=Object(u.a)(c,2),s=l[0],i=l[1];function m(){f(),t.article.get({page:Math.ceil(a.length/15)+1}).then((function(t){e.setArticles(a.concat(t)),f()})).catch((function(e){return console.error(e)}))}function d(e){var t="https://via.placeholder.com/150",a=e.sections.filter((function(e){return e.media.length>0}));return a.length>0&&(t=a[0].media[0].url),t}function p(e){var t={};return(e.sections||[]).forEach((function(e){!Object.keys(t).length&&e.title.length>0&&(t=e)})),t}function f(){i((function(e){var t=Object(w.a)({},e);return t.loading=!t.loading,t}))}return(Object(n.useEffect)((function(){(a||[]).length||m()}),[]),r.a.createElement("div",{className:"blogs"},r.a.createElement("h1",null,"Blog - All"),r.a.createElement("div",{className:"list"},a.map((function(e,t){return r.a.createElement("div",{key:"blog-".concat(e.id),className:"blog"},r.a.createElement(o.b,{to:"/blogs/".concat(e.id)},r.a.createElement("div",{className:"blog-wrapper"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:d(e)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},p(e).title),r.a.createElement("div",{className:"description"},L()(p(e).description)||"")))))}))),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"30px 0px"}},!1===s.loading?r.a.createElement("button",{className:"load-more-btn",onClick:m},"Load more"):r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0}))))}));a(144);var U=function(e){var t,a=new x.a,c=Object(m.h)(),l=Object(n.useState)({}),s=Object(u.a)(l,2),i=s[0],d=s[1],p=Object(n.useState)({loading:!1}),f=Object(u.a)(p,2),h=f[0],g=f[1],E=Object(n.useState)(null),v=Object(u.a)(E,2),b=v[0],y=v[1];function j(e){g((function(t){var a=Object(w.a)({},t);return a.loading=e,a}))}return e.shop,Object(n.useEffect)((function(){h.loading||Object.keys(i).length||(j(!0),a.article.get({ids:c.id}).then((function(e){e.length||y("/notfound"),d(e[0]),j(!1)})).catch((function(e){j(!1),y("/notfound")})))}),[]),h.loading?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})):b?r.a.createElement(m.a,{to:b}):r.a.createElement("div",{className:"article-detail"},r.a.createElement("div",{className:"article-detail-wrapper"},r.a.createElement("div",{className:"back-button-wrapper"},r.a.createElement(o.b,{to:"/blogs"},r.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Blog")),r.a.createElement("div",{className:"content"},((t=i).sections||[]).map((function(e,a,n){return r.a.createElement("div",{key:"article-section-".concat(a),className:"section"},e.media.length>0?function(e){return r.a.createElement("div",{className:"slide-container"},r.a.createElement(k.Slide,{duration:5e3,transitionDuration:300,infinite:!1,indicators:!0,arrows:!0},(e.media||[]).map((function(e,t){return r.a.createElement("div",{key:"slide-image-".concat(t),className:"each-slide"},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.url,")")}}))}))))}(e):null,0==a&&n.length>1?r.a.createElement("h1",null,e.title):r.a.createElement("h2",null,e.title),0==a?r.a.createElement("span",null,new Date(t.time).toLocaleDateString()):null,r.a.createElement("p",null,L()(e.description)))})))))};var R=function(){return r.a.createElement("div",null,"404 Not Found")},D=a(61),H=(a(145),a(60)),z=a(58),$=a(37),W=function(e,t){var a=Z(e),n=J(e,t);return a?G(a,n):null},Y={contact:{first_name:{field_name:"First Name",regex:/^.*$/,required:!0},last_name:{field_name:"Last Name",regex:/^.*$/,required:!0},email:{field_name:"Email",regex:/^[a-zA-Z0-9\-\_]+\@([0-9a-zA-Z\-\_]+\.)+[a-zA-Z0-9\-\_]+$/,required:!0},phone:{field_name:"Phone",regex:/^\+?[0-9]+$/,required:!0}},payment:{card:{field_name:"Card Number",regex:/^([0-9]{4}\-?){4}$/,required:!0},csc:{field_name:"CVC",regex:/^[0-9]{3,4}$/,required:!0},exp_date:{field_name:"Expiry",regex:/^[0-9]{2}\/?[0-9]{2}$/,required:!0}},coupons:{field_name:"Coupon",regex:/^[a-zA-Z0-9]+$/,required:!1},shipping:{address:{field_name:"Address",regex:/^.*$/,required:!0},country:{field_name:"Country",regex:/^[A-Z]{2}$/,required:!0}}},Z=function(e){return J(e,Y)},J=function(e,t){return function e(t,a){var n=t.shift();return t.length>0&&a[n]&&"[object Object]"===Object.prototype.toString.call(a[n])?e(t,a[n]):a[n]||null}(e.split("."),t)},K=function(e,t){if(e&&t){"string"===typeof t&&(t=t.split("."));for(var a=0;a<t.length-1;a++)if("undefined"===typeof(e=e[t[a]]))return;delete e[t.pop()]}},X=function(e,t,a){return function e(t,a,n){if("string"===typeof a&&(a=a.split(".")),a.length>1){var r=a.shift();e(t[r]="[object Object]"===Object.prototype.toString.call(t[r])?t[r]:{},a,n)}else t[a[0]]=n}(e,t,a)},G=function(e,t){return(t||"").length?new RegExp(e.regex,"ig").test(t)?null:"".concat(e.field_name," is invalid"):!0!==e.required||(t||"").length?void 0:"".concat(e.field_name," is required")};var V=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session,user:e.user.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=e.cart,c=e.shop,l=e.user,s=Object(n.useState)(1),d=Object(u.a)(s,2),p=d[0],f=d[1],h=Object(n.useState)([]),g=Object(u.a)(h,2),E=g[0],v=g[1],b=Object(n.useState)(!1),y=Object(u.a)(b,2),j=y[0],O=y[1],k=Object(n.useState)(null),C=Object(u.a)(k,2),_=C[0],S=C[1],T=Object(n.useState)(null),I=Object(u.a)(T,2),L=I[0],q=I[1],B=Object(n.useState)({contact:{first_name:"",last_name:"",email:"",phone:""},payment:{card:"",csc:"",exp_date:""},shipping:{address:null,country:"HK"},shippings:Object(A.a)({},c.id,null),items:a.id,notes:""}),F=Object(u.a)(B,2),P=F[0],M=F[1],U=Object(n.useState)({}),R=Object(u.a)(U,2),Y=R[0],Z=R[1],G=Object(z.getCodeList)();function V(){var e,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(O(!0),((e=Object(w.a)({},P)).coupons||"").trim().length||delete P.coupons,(e.notes||"").trim().length||delete P.notes,e.payment.exp_date="".concat(e.payment.exp_date.slice(0,2),"/").concat(e.payment.exp_date.slice(2)),r.prev=5,null==l){r.next=12;break}return r.next=9,i.a.awrap(t.consumer.checkout(e));case 9:r.t0=r.sent,r.next=15;break;case 12:return r.next=14,i.a.awrap(t.order.create(e));case 14:r.t0=r.sent;case 15:(n=r.t0).rows&&(n.rows||[]).length>0?q(Object(w.a)({},_,{shipping:P.shipping,contact:P.contact,notes:P.notes||"",items:Object(D.a)(a.items)})):alert("Unknown error occured, please try again"),O(!1),r.next=24;break;case 20:r.prev=20,r.t1=r.catch(5),Array.isArray(r.t1.message)&&(r.t1.message||[]).length>0?alert(r.t1.message.join("\n")):alert("Unknown error occured, please try again"),O(!1);case 24:case"end":return r.stop()}}),null,null,[[5,20]])}function Q(e,t){M((function(a){var n=Object(w.a)({},a);return X(n,e,t),n}))}function ee(e){var t=J(e,Y)||null;return r.a.createElement("span",{className:"error-msg"},t||"")}function te(e){var t=W(e||"",P);Z((function(a){var n=Object(w.a)({},a);return t?X(n,e,t):K(n,e),n}))}function ae(){var e=!0;return["contact","payment","shipping"].forEach((function(t){void 0!=Y[t]&&Object.keys(Y[t]).length>0&&(e=!1)})),e}var ne=[function(){return r.a.createElement("div",{className:"step-1"},r.a.createElement("h2",null,"Your Information"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{placeholder:"Peter",value:P.contact.first_name,onChange:function(e){return Q("contact.first_name",e.target.value)},onBlur:function(){return te("contact.first_name")}}),ee("contact.first_name")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{placeholder:"Chan",value:P.contact.last_name,onChange:function(e){return Q("contact.last_name",e.target.value)},onBlur:function(){return te("contact.last_name")}}),ee("contact.last_name"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{placeholder:"Peter.chan@abc.com",value:P.contact.email,onChange:function(e){return Q("contact.email",e.target.value)},onBlur:function(){return te("contact.email")}}),ee("contact.email")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{placeholder:"+85291234567",value:P.contact.phone,onChange:function(e){return Q("contact.phone",e.target.value)},onBlur:function(){return te("contact.phone")}}),ee("contact.phone"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Country"),r.a.createElement(H.a,{value:{value:(P.shipping.country||"hk").toLowerCase(),label:G[(P.shipping.country||"hk").toLowerCase()]},onChange:function(e){return Q("shipping.country",e.value.toUpperCase())},options:Object.keys(G).map((function(e){return{value:e,label:G[e]}}))})),r.a.createElement("div",{className:"form-group"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){return function(){var e,t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return O(!0),e=[],r.prev=2,r.next=5,i.a.awrap(fetch("/api/shipping_methods",{method:"GET"}));case 5:return t=r.sent,r.next=8,i.a.awrap(t.json());case 8:if(t=r.sent.data.rows[0].shipping_methods,e=e.concat(t.map((function(e){return{id:e.code.replace(/\r?\n|\r/g,""),charge:e.charge,title:e.title,address_required:e.shipping_address_required}}))),!c.auto_ship){r.next=18;break}return r.next=13,i.a.awrap(fetch("/api/carts/".concat(a.id,"/shipment/rates"),{method:"POST",body:JSON.stringify({shipping:{address:"HK",country:P.shipping.country}})}));case 13:return n=r.sent,r.next=16,i.a.awrap(n.json());case 16:n=r.sent.data.rows,e=e.concat(n.filter((function(e){return void 0!=e.rates[c.id]})).map((function(e){return{id:e.id,charge:e.rates[c.id],title:e.name,address_required:!0}})));case 18:e.length&&null==P.shippings[c.id]&&Q("shippings.".concat(c.id),e[0].id),v(e),f(2),O(!1),r.next=28;break;case 24:r.prev=24,r.t0=r.catch(2),alert("Failed to load shipping methods"),O(!1);case 28:case"end":return r.stop()}}),null,null,[[2,24]])}()},disabled:!(P.contact.first_name||"").length||!(P.contact.last_name||"").length||!(P.contact.email||"").length||!(P.contact.phone||"").length||!ae()},"Shipping ",r.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return r.a.createElement("div",{className:"step-2"},r.a.createElement("h2",null,"Select a Shipping Method"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"shipping-methods"},E.map((function(e){return r.a.createElement("div",{key:"shipping-method-".concat(e.id),className:"shipping-method ".concat(P.shippings[c.id]==e.id?"selected":""),onClick:function(){return Q("shippings.".concat(c.id),e.id)}},P.shippings[c.id]==e.id?r.a.createElement("i",{className:"fas fa-check-square"}):r.a.createElement("i",{className:"far fa-check-square"}),r.a.createElement("div",{className:"title"},e.title)," -",r.a.createElement("div",{className:"charge"},c.currency.toUpperCase()," ",e.charge))})))),r.a.createElement("h2",null,"Shipping Address"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"1/F, ABC Building, 12 ABC Road, Hong Kong",value:P.shipping.address||"",onChange:function(e){return Q("shipping.address",e.target.value)},onBlur:function(){return te("shipping.address")}}),ee("shipping.address"))),r.a.createElement("h2",null,"Coupons"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{placeholder:"SUMMERSALE10",value:P.coupons||"",onChange:function(e){return Q("coupons",e.target.value)},onBlur:function(){return te("coupons")}}),ee("coupons"))),r.a.createElement("h2",null,"Notes"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{value:P.notes||"",placeholder:"Notes to us",maxLength:500,onChange:function(e){return Q("notes",e.target.value)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){Z({}),f(1)}},r.a.createElement("i",{className:"fas fa-chevron-left"})," Information")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){return function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return O(!0),n.prev=1,0==((e=Object(w.a)({},P)).coupons||"").trim().length&&delete e.coupons,n.next=6,i.a.awrap(fetch("/api/carts/".concat(a.id,"/previews"),{method:"POST",body:JSON.stringify(Object(w.a)({},e))}));case 6:return t=n.sent,n.next=9,i.a.awrap(t.json());case 9:(t=n.sent).data?(t=t.data.rows[0],S(t),f(3)):alert(t.messages?(t.messages||[]).join("\n"):"Failed to confirm order amount."),O(!1),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),alert("Failed to confirm order amount."),O(!1);case 18:case"end":return n.stop()}}),null,null,[[1,14]])}()},disabled:!(P.shipping.address||"").length||!ae()},"Payment ",r.a.createElement("i",{className:"fas fa-chevron-right"})))))},function(){return r.a.createElement("div",{className:"step-3"},r.a.createElement("h2",null,"Payment"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Card Number"),r.a.createElement("input",{placeholder:"4242-4242-4242-4242",value:((P.payment.card||"").match(new RegExp("[0-9]{1,4}","g"))||[]).join("-"),onChange:function(e){return Q("payment.card",(e.target.value||"").split("-").join(""))},maxLength:19,onBlur:function(){return te("payment.card")}}),ee("payment.card"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Expiry Date"),r.a.createElement("input",{placeholder:"10/20",value:((P.payment.exp_date||"").match(new RegExp("[0-9]{1,2}","g"))||[]).join("/"),onChange:function(e){return Q("payment.exp_date",(e.target.value||"").split("/").join(""))},onBlur:function(){return te("payment.exp_date")},maxLength:5}),ee("payment.exp_date")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"CSC"),r.a.createElement("input",{placeholder:"123",type:"password",value:P.payment.csc||"",onChange:function(e){return Q("payment.csc",e.target.value)},onBlur:function(){return te("payment.csc")},maxLength:4}),ee("payment.csc"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{onClick:function(){S(null),Z({}),f(2)}},r.a.createElement("i",{className:"fas fa-chevron-left"})," Shipping")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"pay-btn",onClick:V,disabled:!(P.payment.card||"").length||!(P.payment.exp_date||"").length||!(P.payment.csc||"").length||!ae()},"Confirm & Pay ",r.a.createElement("i",{className:"fas fa-check-circle"})))))}];return L?r.a.createElement(m.a,{to:{pathname:"/checkout/success",state:L}}):r.a.createElement("div",{className:"checkout"},r.a.createElement("h1",null,"Checkout"),r.a.createElement("div",{className:"checkout-wrapper"},j?r.a.createElement("div",{className:"loading-mask"},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})):null,r.a.createElement("div",{className:"steps"},r.a.createElement("div",{className:"progress-bar"},["Information","Shipping","Finish"].map((function(e,t){return r.a.createElement("div",{key:"step-label-".concat(t),className:"step-label ".concat(p>=t+1?"active":"")},e)})),r.a.createElement("div",{className:"bar"},r.a.createElement("div",{className:"bar-fill",style:{width:"".concat((p-1)/2*100,"%")}}))),r.a.createElement("div",{className:"form"},ne[p-1]()),r.a.createElement("div",{className:"back-to-shopping-cart"},r.a.createElement(o.b,{to:"/cart"},r.a.createElement("i",{className:"fas fa-chevron-left"}),"Back to Shopping Cart"))),r.a.createElement("div",{style:{width:15}}),r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary-wrapper"},r.a.createElement("h3",null,"Summary"),r.a.createElement("div",{className:"amounts"},r.a.createElement("div",{className:"amt subtotal"},r.a.createElement("label",null,"Subtotal"),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(_?_.sub_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)).toFixed(2))),r.a.createElement("div",{className:"amt shipping-fee"},r.a.createElement("label",null,"Shipping fee"),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(_?_.shipping_fee:null!=P.shippings[c.id]&&(E.filter((function(e){return e.id==P.shippings[c.id]}))[0]||{}).charge||0).toFixed(2))),_&&((_.breakdowns[0]||{}).discounts||[]).length>0?r.a.createElement("div",{className:"amt discounts"},r.a.createElement("label",null,"Discounts"),_.breakdowns[0].discounts.map((function(e){return r.a.createElement("div",{key:"discount-".concat(e.id),className:"item"},r.a.createElement("label",{"data-tip":e.title||""},(e.title||"").length>20?"".concat((e.title||"").substring(0,20),"..."):e.title,r.a.createElement($.a,null)),r.a.createElement("div",{className:"deducted-amt"},"- ",c.currency.toUpperCase()," ",e.amount))}))):null,r.a.createElement("div",{className:"amt total"},r.a.createElement("label",null,"TOTAL"),r.a.createElement("div",{className:"amount"},c.currency.toUpperCase()," ",(_?_.gross_total:(a.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0)+(null!=P.shippings[c.id]?(E.filter((function(e){return e.id==P.shippings[c.id]}))[0]||{}).charge:0)).toFixed(2))))))))}));a(147);var Q=function(e){console.log(e);var t=e.profile,a=new x.a;return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-wrapper"},r.a.createElement("h1",null,"Profile"),r.a.createElement("div",{className:"data-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("div",null,t.first_name)),r.a.createElement("div",{className:"data-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("div",null,t.last_name)),r.a.createElement("button",{onClick:function(){a.consumer.logout().then((function(){window.location.pathname="/users"})).catch((function(e){alert(e.message)}))}},"Logout")))};a(148);var ee=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),o=i[0],d=i[1],p=new x.a;return Object(n.useEffect)((function(){p.consumer.profile.get().then((function(e){var t=e[0];l(t),d(!1)})).catch((function(e){d(!1),l(null)}))}),[]),r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"wrapper"},o?r.a.createElement("div",{className:"loading"},"Loading..."):c?r.a.createElement(Q,{profile:c}):r.a.createElement(m.a,{to:"/users/login"})))};a(149);var te=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(u.a)(l,2),i=s[0],m=s[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(""),E=Object(u.a)(g,2),v=E[0],b=E[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),w=N[0],j=N[1],O=new x.a;return r.a.createElement("div",{className:"user-register"},r.a.createElement("div",{className:"user-register-wrapper"},r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",value:v,onChange:function(e){b(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",value:w,onChange:function(e){j(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",value:a,onChange:function(e){c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:i,onChange:function(e){m(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",value:f,onChange:function(e){h(e.target.value)}})),r.a.createElement("button",{onClick:function(){O.consumer.signUp({email:a,passwd:i,confpasswd:f,first_name:v,last_name:w}).then((function(){window.location.href="/users/login"})).catch((function(e){return alert(e.message)}))}},"Register"),r.a.createElement("div",{className:"register"},r.a.createElement(o.b,{to:"/users/login"},"Already a Member?")))))};a(150);var ae=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),s=Object(u.a)(l,2),i=s[0],m=s[1],d=new x.a;return r.a.createElement("div",{className:"user-login"},r.a.createElement("div",{className:"user-login-wrapper"},r.a.createElement("div",{className:"form"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",value:a,onChange:function(e){c(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:i,onChange:function(e){m(e.target.value)}})),r.a.createElement("button",{onClick:function(){d.consumer.login({email:a,passwd:i}).then((function(){window.location.href="/users"})).catch((function(e){alert(e.message)}))}},"Login"),r.a.createElement("div",{className:"register"},r.a.createElement(o.b,{to:"/users/new"},"Not a Member? Register Now!")))))};a(151);var ne=Object(d.b)((function(e){return{cart:e.cart,shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],s=c[1],m=e.cart,d=e.shop;function p(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}function f(e){return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),a.prev=1,a.next=4,i.a.awrap(t.cart.item.remove(m.id,e));case 4:return a.next=6,i.a.awrap(g());case 6:s(!1),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),alert("Failed to remove item"),s(!1);case 13:case"end":return a.stop()}}),null,null,[[1,9]])}function h(e,a){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.prev=1,n.next=4,i.a.awrap(t.cart.item.add(m.id,{id:e,qty:a}));case 4:return n.next=6,i.a.awrap(g());case 6:s(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),alert("Failed to edit item qty"),s(!1);case 13:case"end":return n.stop()}}),null,null,[[1,9]])}function g(){var a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(t.cart.item.get(m.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert("Failed to get cart item");case 10:case"end":return n.stop()}}),null,null,[[0,7]])}return r.a.createElement("div",{className:"cart"},r.a.createElement("h1",null,"My Cart"),r.a.createElement("div",{className:"list"},(m.items||[]).length?r.a.createElement("div",{className:"items"},l?r.a.createElement("div",{className:"loading-mask"},r.a.createElement(N.MoonLoader,{size:20,color:"#000000",loading:!0})):null,(m.items||[]).map((function(e,t){return r.a.createElement("div",{key:"item-".concat(t),className:"item"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:p(e),alt:"image of ".concat(e.name)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"description"},e.variant)),r.a.createElement("div",{className:"unit-price"},(d.currency||"hkd").toUpperCase()," ",e.price," ",r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"qty"},e.qty),r.a.createElement("div",{className:"qty-btns"},r.a.createElement("button",{onClick:function(){return h(e.id,e.qty+1)}},r.a.createElement("i",{className:"fas fa-sort-up"})),r.a.createElement("button",{onClick:function(){return e.qty<2?f(e.id):h(e.id,e.qty-1)}},r.a.createElement("i",{className:"fas fa-sort-down"})))),r.a.createElement("div",{className:"subtotal"},(d.currency||"hkd").toUpperCase()," ",(e.price*e.qty).toFixed(2)),r.a.createElement("div",{className:"remove-btn-wrapper"},r.a.createElement("button",{onClick:function(){return f(e.id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})),r.a.createElement("div",{className:"checkout-btn-wrapper"},r.a.createElement("div",{className:"total"},"Total : ",(d.currency||"hkd").toUpperCase()," ",(m.items||[]).reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(o.b,{to:"/checkout"},"Checkout"))):r.a.createElement("div",{className:"placeholder"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("div",{className:"message"},"Your shopping cart is empty."),r.a.createElement(o.b,{to:"/products"},"Shop Now"))))})),re=(a(152),a(31));var ce=Object(d.b)((function(e){return{shop:e.shop.session}}),(function(e){return{setCartItems:function(t){return e({type:b,payload:t})},initCart:function(t){return e({type:v,payload:t})}}}))((function(e){var t=new x.a,a=(Object(m.g)()||{}).state||null,c=(e.shop.currency||"hkd").toUpperCase();function l(e){var t="https://via.placeholder.com/150";return(e.media||[]).length>0&&(t=e.media[0]),t}return Object(n.useEffect)((function(){null!=a&&function a(){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.a.awrap(t.cart.create());case 3:n=r.sent.rows[0].id,(new re.default).set("cartId",n),e.initCart(n),e.setCartItems([]),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),a();case 13:case"end":return r.stop()}}),null,null,[[0,10]])}()}),[]),null!=a?r.a.createElement("div",{className:"order-snapshot"},r.a.createElement("div",{className:"order-snapshot-wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Thank You!"),r.a.createElement("div",{className:"order-id"},r.a.createElement("b",null,"Order #",a.id)),r.a.createElement("div",{className:"order-detail"},r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-male"})),a.contact.first_name," ",a.contact.last_name),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-envelope"})),a.contact.email),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-phone"})),a.contact.phone),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})),a.shipping.address),r.a.createElement("div",{className:"order-detail-row"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-sticky-note"})),a.notes||"---")),r.a.createElement("div",{className:"items"},(a.items||[]).map((function(e){return r.a.createElement("div",{key:"order-snapshot-item-".concat(e.id),className:"item"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:l(e),alt:"image of ".concat(e.name)})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},e.name),r.a.createElement("div",{className:"description"},e.variant)),r.a.createElement("div",{className:"unit-price"},c," ",e.price.toFixed(2)," ",r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"qty"},e.qty),r.a.createElement("div",{className:"subtotal"},c," ",(e.price*e.qty).toFixed(2)))}))),r.a.createElement("div",{className:"order-summary"},r.a.createElement("div",{className:"subtotal"},"Subtotal: ",c," ",a.sub_total.toFixed(2)),(((a.breakdowns||[])[0]||{}).discounts||[]).length>0?r.a.createElement("div",{className:"discount"},r.a.createElement("i",{"data-tip":"".concat(a.breakdowns[0].discounts.map((function(e,t){return"".concat(t+1,". <b>").concat(e.title,"</b> -").concat(c).concat(e.amount)})).join("<br/>")),className:"fas fa-info-circle"})," Discount: ",c," ",a.discounted_amount.toFixed(2),r.a.createElement($.a,{type:"dark",html:!0})):null,r.a.createElement("div",{className:"total"},"Total: ",c," ",a.gross_total.toFixed(2)))))):r.a.createElement(m.a,{to:"/products"})}));a(153);var le=Object(d.b)((function(e){return{shop:e.shop.session}}))((function(e){e.shop;var t=Object(m.h)().file,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){!function(e){var t;i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(fetch("/assets/text_files/".concat(e,".txt")));case 3:return t=a.sent,a.next=6,i.a.awrap(t.text());case 6:t=a.sent,s(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),s("Failed to load ".concat(e,".txt."));case 13:case"end":return a.stop()}}),null,null,[[0,10]])}(t)})),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"content"},L()(l)))}));var se=Object(m.i)((function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(p,null),r.a.createElement("div",{className:"scene"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",component:B,exact:!0}),r.a.createElement(m.b,{path:"/products",component:F,exact:!0}),r.a.createElement(m.b,{path:"/products/:id",component:P,exact:!0}),r.a.createElement(m.b,{path:"/blogs",component:M,exact:!0}),r.a.createElement(m.b,{path:"/blogs/:id",component:U,exact:!0}),r.a.createElement(m.b,{path:"/pages/:file",component:le,exact:!0}),r.a.createElement(m.b,{path:"/users",component:ee,exact:!0}),r.a.createElement(m.b,{path:"/users/new",component:te,exact:!0}),r.a.createElement(m.b,{path:"/users/login",component:ae,exact:!0}),r.a.createElement(m.a,{from:"/login",to:"/users/login",exact:!0}),r.a.createElement(m.b,{path:"/checkout",component:V,exact:!0}),r.a.createElement(m.b,{path:"/checkout/success",component:ce,exact:!0}),r.a.createElement(m.b,{path:"/cart",component:ne,exact:!0}),r.a.createElement(m.b,{component:R}))),r.a.createElement(f,null))}));var ie=Object(d.b)((function(e,t){return{shop:e.shop.session,cart:e.cart}}),(function(e,t){return{setShop:function(t){return e({type:h,payload:t})},initCart:function(t){return e({type:v,payload:t})},setCartItems:function(t){return e({type:b,payload:t})}}}))((function(e){var t=new x.a,a=new re.default,c=e.shop,l=e.cart;function s(){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.a.awrap(t.cart.create());case 3:n=r.sent.rows[0].id,a.set("cartId",n),e.initCart(n),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),s();case 11:case"end":return r.stop()}}),null,null,[[0,8]])}return Object(n.useEffect)((function(){c||function a(){t.shop.settings().then((function(t){e.setShop(t[0])})).catch((function(e){a()}))}(),l.id?function(){var a;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(t.cart.item.get(l.id));case 3:a=n.sent,e.setCartItems(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),s();case 10:case"end":return n.stop()}}),null,null,[[0,7]])}():s()}),[]),null==c||null==l.id?r.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(N.MoonLoader,{size:30,color:"#000000",loading:!0})):r.a.createElement(o.a,null,r.a.createElement(se,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(27),me={products:[],best_sellers:[]},ue={articles:[]},de={user:null},pe=a(59),fe=a.n(pe),he={session:null},ge={id:(new(0,a(31).default)).get("cartId")||null,items:[]},Ee={},ve=Object(oe.b)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(w.a)({},e,{products:t.payload});case"ADD_BEST_SELLERS":return Object(w.a)({},e,{best_sellers:t.payload});default:return e}},article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ARTICLES":return Object(w.a)({},e,{articles:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{user:t.payload};default:return e}},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SHOP":return{session:t.payload,settings:fe.a.settings};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_CART":return Object(w.a)({},e,{id:t.payload});case"SET_CART_ITEMS":return Object(w.a)({},e,{items:t.payload});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOME_CONTEXT":return Object(w.a)({},e,Object(A.a)({},t.key,t.payload));default:return e}}}),be=Object(oe.c)(ve);l.a.render(r.a.createElement(d.a,{store:be},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t){e.exports={settings:{layout:{content:[{widget:"Banner",tags:"",ordering:"",numberToShow:1,ids:"",duration:5e3,transitionDuration:300,infinite:!0,indicators:!1,arrows:!1,styles:{height:630}},{widget:"Product",tags:"",ordering:"",ids:"",rows:1,cols:4,title:"Best Sellers",type:"sale",styles:{}},{widget:"Seperator",styles:{margin:"50px 0px 60px 0px",height:"0.5px"}},{widget:"ArticleTile",tags:"",ordering:"",ids:"",numberToShow:4,title:"Latest",type:"sale",styles:{}}]},links:{policies:{shipping_policy:"shipping_policy",privacy_policy:"privacy_policy",terms_and_conditions:"terms_and_conditions"},social:{facebook:"https://facebook.com",instagram:"https://instagram.com",youtube:"https://youtube.com",twitter:"https://twitter.com",pinterest:"https://pinterest.com"}}}}},63:function(e,t,a){e.exports=a(154)},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.3f0575c9.chunk.js.map