{"version":3,"sources":["components/Widget/DropDown.tsx","components/Layout/Header.js"],"names":["makeStyles","theme","createStyles","root","title","fontWeight","btnText","icon","marginRight","styles","createUseStyles","topbar","display","justifyContent","borderBottom","minHeight","padding","nav","position","& > $openMenu","logo","marginLeft","& > button","borderWidth","backgroundColor","alignItems","cursor","&:focus","outline","shopLogo","shopName","mobileMenu","flexDirection","color","margin","openMenu","left","& button","desktopMenu","& > div","_button","fontFamily","fontSize","Object","defineProperty","toolbar","& > div:last-child > button","languages","minWidth","& > div > button","width","languageOptions","marginTop","boxShadow","&:before","content","borderColor","borderStyle","top","& > li","listStyle","& > li > button","searchBar","height","border","borderRadius","transition","shoppingCart","@media (max-width: 600px)","flex","& > $mobileMenu","bottom","right","zIndex","withRouter","connect","state","cart","items","keyword","common","products","product","feeds","feed","shopInfo","dispatch","closeMobileMenu","e","parent","target","test","className","parentNode","style","openMobileMenu","menu","values","childNodes","filter","c","closeLanguageOptions","editShoppingCart","index","type","CART_OPERATE_SHOPPING_CART","payload","key","value","editSearchBar","arguments","length","undefined","COMMON_EDIT_SEARCH_BAR","props","classes","history","commonReducer","useContext","reducer","name","config","showArticles","showShop","react_default","a","createElement","onClick","redirectUrl","src","replace","classNames","I18nText","keyOfI18n","FEEDS","PRODUCTS","CHECKOUT","placeholder","concat","useI18nText","SEARCH","LANGUAGE","actionType","COMMON_INIT_I18N","locale"],"mappings":"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","file":"static/js/3.ec807f4a.chunk.js","sourcesContent":["import React, {Fragment, useState} from 'react';\nimport {Theme} from '@material-ui/core/styles';\nimport {ListItem, Typography} from '@material-ui/core';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport {Clickable} from \"../../interfaces/client/Common\";\nimport {makeStyles} from \"@material-ui/styles\";\nimport ImageWrapper from './Img';\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n    root: {},\n    title: {\n        fontWeight: 'lighter',\n    },\n    btnText: {},\n    icon: {\n        marginRight: '5px',\n    }\n\n}));\n\ninterface Props {\n    icon?: string,\n    icon2?: string,\n    label?: string,\n    labelExtra?: string,\n    options: Array<Clickable>,\n    selectedValue?: string,\n}\n\nconst DropDown: React.FunctionComponent<Props> = props => {\n\n    const [anchorEl, setAnchorEl]: [any, any] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const classes = useStyles();\n    const handleMenuItemClick = (index: number, cb: Function): void => {\n        setSelectedIndex(index);\n        setAnchorEl(null);\n        cb()\n    };\n\n\n    const {\n        icon,\n        icon2, label,\n        labelExtra, options,\n        selectedValue\n    } = props;\n\n\n    return (\n        <Fragment>\n            <ListItem button\n                      className={classes.root}\n                      onClick={e => setAnchorEl(e.currentTarget)}\n            >\n                {icon && <span className={classes.icon + ' ' + icon}/>}\n                <Typography variant={'body1'}>\n                    {label}{labelExtra}\n                </Typography>\n                <Typography variant={'body1'}>\n                    {selectedValue ? selectedValue : options[selectedIndex].label}\n                </Typography>\n                {icon2 && <span className={classes.icon + ' ' + icon2}/>}\n            </ListItem>\n\n            <Menu\n                id=\"lock-menu\"\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={() => setAnchorEl(null)}\n\n            >\n                {options.map((n, i) => (\n                    <MenuItem\n                        key={i}\n                        selected={i === selectedIndex}\n                        onClick={() => handleMenuItemClick(i, n.onClick)}\n                    >\n                        <Typography variant={'body1'}>\n                            {n.label}</Typography>\n                    </MenuItem>\n                ))}\n            </Menu>\n        </Fragment>\n    )\n};\n\n//todo(need to improve)\nexport default (DropDown);","import React, {useContext, useState} from 'react';\nimport {withRouter} from \"react-router-dom\";\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\n\nimport PropTypes from 'prop-types';\nimport 'animate.css/animate.min.css';\n\nimport {I18nText} from \"../Widget/I18nText\";\nimport {redirectUrl} from \"../../api/ApiUtils\";\n\nimport classNames from \"classnames\";\nimport {CART_OPERATE_SHOPPING_CART, COMMON_EDIT_SEARCH_BAR} from \"../../constants/actionType\";\nimport {useI18nText} from \"../../hooks/useI18nText\";\nimport {keyOfI18n} from \"../../constants/locale/interface\";\nimport DropDown from \"../Widget/DropDown\";\nimport actionType from \"../../context/actionType\";\nimport {reducer} from \"../../context\";\n\n\nconst styles = createUseStyles({\n    topbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        borderBottom: '1px solid #eee',\n        minHeight: 65,\n        padding: '0 15px'\n    },\n    nav: {\n        display: 'flex',\n        position: 'relative',\n        '& > $openMenu': {\n            display: 'none'\n        },\n    },\n    logo: {\n        display: 'flex',\n        marginLeft : 15,\n        '& > button': {\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            cursor: 'pointer',\n            '&:focus': {\n                outline: 'none'\n            }\n        }\n    },\n    shopLogo : {\n        marginRight : 10\n    },\n    shopName : {\n        fontWeight : 600\n    },\n\n    mobileMenu: {\n        display: 'none',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        '& > button': {\n            display: 'block',\n            borderWidth: 0,\n            color: '#fff',\n            backgroundColor: 'transparent',\n            margin: '15px 0',\n            cursor: 'pointer'\n        }\n    },\n    openMenu: {\n        position: 'absolute',\n        left: 0,\n        '& button': {\n            cursor: 'pointer',\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            //textTransform: 'uppercase',\n            '&:focus': {\n                outline: 'none'\n            }\n        }\n    },\n\n    desktopMenu: {\n        display: 'flex',\n        marginLeft: 50,\n        '& > div': {\n            display: 'flex'\n        },\n        '& button': {\n            cursor: 'pointer',\n            fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n            fontWeight: 300,\n            fontSize: 16,\n            margin : \"0px 5px\",\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            //textTransform: 'uppercase',\n            cursor: 'pointer',\n            '&:focus': {\n                outline: 'none'\n            }\n        }\n    },\n\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        '& > div:last-child > button': {\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            fontSize: 17,\n            fontWeight: 300,\n            marginRight : 25,\n            fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n            cursor: 'pointer',\n            '&:focus': {\n                outline: 0\n            }\n        }\n    },\n    languages: {\n        position: 'relative',\n        minWidth: 100,\n        '& > div > button': {\n            display: 'block',\n            width: '100%',\n            cursor: 'pointer',\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            fontSize: 14,\n            '&:focus': {\n                outline: 0\n            }\n        }\n    },\n    languageOptions: {\n        width: '100%',\n        position: 'absolute',\n        display: 'none',\n        marginTop: 15,\n        padding: 0,\n        boxShadow: '0 3px 8px 3px rgba(92, 92, 92, 0.2)',\n        '&:before': {\n            content: '\"\"',\n            position: 'absolute',\n            borderColor: 'transparent transparent #f3f3f3',\n            borderStyle: 'solid',\n            borderWidth: '10px 15px',\n            top: -20,\n            left: 'calc(50% - 15px)'\n        },\n        '& > li': {\n            listStyle: 'none'\n        },\n        '& > li > button': {\n            display: 'block',\n            width: '100%',\n            borderWidth: 0,\n            backgroundColor: '#f3f3f3',\n            cursor: 'pointer',\n            padding: '5px 0',\n            fontSize: 15,\n            '&:focus': {\n                outline: 0\n            }\n        }\n    },\n    searchBar: {\n        height : 20,\n        fontSize : 14,\n        padding : 5,\n        border : \"1px #DDD solid\",\n        borderRadius : 3,\n        transition : \"border 0.3s\",\n        \"&:focus\" : {\n            border : \"1px black solid\",\n        }\n    },\n    shoppingCart: {\n        display: 'none',\n        '& > button': {\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            cursor: 'pointer'\n        }\n    },\n\n\n\n\n\n\n\n    // for mobile\n    '@media (max-width: 600px)': {\n        nav: {\n            alignItems: 'center',\n            justifyContent: 'center',\n            flex: 1,\n            '& > $mobileMenu': {\n                display: 'none',\n                position: 'fixed',\n                top: 0,\n                bottom: 0,\n                left: 0,\n                right: 0,\n                backgroundColor: 'rgba(50,50,50,.9)',\n                zIndex: 99999\n            },\n            '& > $openMenu': {\n                display: 'block'\n            }\n        },\n        desktopMenu: {\n            display: 'none'\n        },\n        toolbar: {\n            display: 'none'\n        },\n        shoppingCart: {\n            display: 'block',\n            right: 0,\n            position: 'absolute'\n        }\n    }\n});\n\n\nconst mapStateToProps = state => ({\n    shoppingCart: state.cart.items,\n    keyword: state.common.searchBar,\n    products: state.product.products,\n    feeds: state.feed.feeds,\n    shopInfo: state.common.shopInfo,\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    closeMobileMenu: e => {\n        var parent = e.target;\n        while (!/^mobileMenu-/i.test(parent.className)) parent = parent.parentNode;\n        if (/^mobileMenu-/i.test(parent.className)) parent.style.display = 'none';\n    },\n    openMobileMenu: e => {\n        var parent = e.target;\n        while (!/^nav-/i.test(parent.className)) parent = parent.parentNode;\n        if (/^nav-/i.test(parent.className)) {\n            var menu = Object.values(parent.childNodes).filter(c => /^mobileMenu-/i.test(c.className))[0];\n            if (menu) menu.style.display = 'flex';\n        }\n    },\n    closeLanguageOptions: e => {\n        var parent = e.target;\n        while (parent && !/^languages-/i.test(parent.className)) parent = parent.parentNode;\n        if (parent) {\n            var target = Object.values(parent.childNodes).filter(c => /^languageOptions-/i.test(c.className))[0];\n            if (target) target.style.display = !/^block$/i.test(target.style.display) ? 'block' : 'none';\n        }\n    },\n\n\n\n\n        editShoppingCart: (index) => dispatch({\n            type: CART_OPERATE_SHOPPING_CART,\n            payload: {\n                key: 'remove',\n                value: index,\n\n            }\n        }),\n        editSearchBar: (keyword = null) => dispatch({\n            type: COMMON_EDIT_SEARCH_BAR,\n            payload: keyword\n        })\n    }\n\n);\n\nconst Header = props => {\n    const classes = styles();\n    const {feeds, products, history, shopInfo} = props;\n    const {commonReducer} = useContext(reducer);\n\n    const logo = (shopInfo || {}).logo || '';\n    const name = (shopInfo || {}).name || '';\n\n    const config = {\n        showArticles: (feeds || []).length > 0,\n        showShop: (products || []).length > 0,\n    };\n\n    return <div className={classes.topbar}>\n\n\n        {/* --------------------------- Left topbar --------------------------- */}\n        <div className={classes.nav}>\n            <div className={classes.openMenu}>\n                <button type=\"button\" onClick={props.openMobileMenu}>\n                    <i className=\"icon-menu\"/>\n                </button>\n            </div>\n\n            {(logo.length > 0 || name.length > 0) && <div className={classes.logo}>\n                <button type=\"button\" onClick={e => redirectUrl('/', history)}>\n                    {logo.length > 0 && <img className={classes.shopLogo} src={shopInfo.logo.replace('.cloud/','.cloud/AUTOx50/')} height={30}/>}\n                    {name.length > 0 && <span className={classes.shopName}>{shopInfo.name}</span>}\n                </button>\n            </div>}\n\n            {/* --------------- Mobile menu  --------------- */}\n            <div className={classNames(classes.mobileMenu, 'animated', 'fadeIn', 'faster')}>\n                {config.showArticles && <button type=\"button\" onClick={e => {\n                    redirectUrl('/articles', history);\n                    props.closeMobileMenu(e);\n                }}>\n                    <I18nText keyOfI18n={keyOfI18n.FEEDS}/>\n                </button>}\n                {config.showShop && <button type=\"button\" onClick={e => {\n                    redirectUrl('/products', history);\n                    props.closeMobileMenu(e);\n                }}>\n                    <I18nText keyOfI18n={keyOfI18n.PRODUCTS}/>\n                </button>}\n                {config.showShop && <button type=\"button\" onClick={e => {\n                    redirectUrl('/checkout', history);\n                    props.closeMobileMenu(e);\n                }}>\n                    <I18nText keyOfI18n={keyOfI18n.CHECKOUT}/>\n                </button>}\n                <button type=\"button\" onClick={props.closeMobileMenu}>X</button>\n            </div>\n\n\n            {/* --------------- Desktop menu  --------------- */}\n            <div className={classes.desktopMenu}>\n                {config.showArticles && <div>\n                    <button type=\"button\" onClick={e => redirectUrl('/articles', history)}>\n                        <I18nText keyOfI18n={keyOfI18n.FEEDS}/>\n                    </button>\n                </div>}\n                {config.showShop && <div>\n                    <button type=\"button\" onClick={e => redirectUrl('/products', history)}>\n                        <I18nText keyOfI18n={keyOfI18n.PRODUCTS}/>\n                    </button>\n                    <button type=\"button\" onClick={e => redirectUrl('/checkout', history)}>\n                        <I18nText keyOfI18n={keyOfI18n.CHECKOUT}/>\n                    </button>\n                </div>}\n            </div>\n            {\n                (products || []).length > 0 && \n                <div className={classes.shoppingCart} >\n                    <button type=\"button\" onClick={() => redirectUrl('/shopping-cart', history)}>\n                        <i className=\"icon-cart\"/>\n                    </button>\n                </div>\n            }\n        </div>\n\n\n        {/* --------------------------- Right topbar --------------------------- */}\n        <div className={classes.toolbar}>\n            {/* ---- search bar ---- */}\n            <div>\n                <input\n                    type=\"text\"\n                    className={classes.searchBar}\n                    placeholder={`${useI18nText(keyOfI18n.SEARCH)}…`}\n                />\n            </div>\n            {/* ---- Language selector ---- */}\n            <div className={classes.languages}>\n                <div>\n                    <button type=\"button\" onClick={props.closeLanguageOptions}>\n                        <I18nText keyOfI18n={keyOfI18n.LANGUAGE}/>\n                    </button>\n                </div>\n                <ul className={classes.languageOptions}>\n                    <li>\n                        <button type=\"button\" onClick={e => {\n                            commonReducer.dispatch({\n                                type: actionType.common.COMMON_INIT_I18N,\n                                payload: {\n                                    locale: 'en'\n                                }\n                            });\n                            props.closeLanguageOptions(e);\n                        }}>English</button>\n                    </li>\n                    <li>\n                        <button type=\"button\" onClick={e => {\n                            commonReducer.dispatch({\n                                type: actionType.common.COMMON_INIT_I18N,\n                                payload: {\n                                    locale: 'zh'\n                                }\n                            });\n                            props.closeLanguageOptions(e);\n                        }}>繁體中文</button>\n                    </li>\n                </ul>\n            </div>\n            {/* ---- Shoppin cart ---- */}\n            {(products || []).length > 0 && <div>\n                <button type=\"button\" onClick={() => redirectUrl('/shopping-cart', history)}>\n                    {/* <I18nText keyOfI18n={keyOfI18n.SHOPPING_CART}/> */}\n                    <i className=\"icon-cart\"/>\n                </button>\n            </div>}\n        </div>\n    </div>;\n};\n\nHeader.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))"],"sourceRoot":""}