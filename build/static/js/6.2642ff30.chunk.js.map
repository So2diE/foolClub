{"version":3,"sources":["components/Feed/Overview.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","moment__WEBPACK_IMPORTED_MODULE_4__","moment__WEBPACK_IMPORTED_MODULE_4___default","html2plaintext__WEBPACK_IMPORTED_MODULE_5__","html2plaintext__WEBPACK_IMPORTED_MODULE_5___default","classnames__WEBPACK_IMPORTED_MODULE_6__","classnames__WEBPACK_IMPORTED_MODULE_6___default","_Layout_Body_Header__WEBPACK_IMPORTED_MODULE_7__","_Widget_SearchBar_original__WEBPACK_IMPORTED_MODULE_8__","_api_ApiUtils__WEBPACK_IMPORTED_MODULE_9__","_constants_actionType__WEBPACK_IMPORTED_MODULE_10__","_Layout_LoadingPage__WEBPACK_IMPORTED_MODULE_11__","_Widget_I18nText__WEBPACK_IMPORTED_MODULE_12__","_constants_locale_interface__WEBPACK_IMPORTED_MODULE_13__","_hooks_useI18nText__WEBPACK_IMPORTED_MODULE_14__","styles","createUseStyles","feeds","wrapper","display","padding","menu","width","list","marginLeft","flexWrap","searchBox","marginBottom","categoryList","listStyle","margin","& > li:first-child > button","borderTop","menuHead","menuTitle","flex","fontFamily","fontSize","fontWeight","marginTop","backgroundColor","menuItem","color","borderBottom","borderLeftWidth","borderRightWidth","borderTopWidth","textTransform","cursor","textAlign","&:hover","menuTool","transform","borderWidth","height","opened","placeholder","item","flexBasis","flexDirection","transition","boxShadow","feedTitle","feedTimestamp","& > i","feedDesc","media","& > img","objectFit","@media (max-width: 1279px)","@media (max-width: 600px)","paddingTop","& > div:first-child","connect","state","feed","sort","filter","dispatch","editFeedFilter","key","value","type","FEED_EDIT_FILTER","payload","props","classes","a","createElement","className","keyOfI18n","SEARCH","keyword","useI18nText","TYPE_KEYWORDS","FEED_CATEGORY","classNames","onClick","e","btn","target","parentNode","nextSibling","window","getComputedStyle","getPropertyValue","style","classList","none","block","getTagsCountsArray","tag","map","t","i","label","undefined","length","NO_POST_AVAILABLE","desc","h2p","sections","description","short","substr","m","test","ext","redirectUrl","id","history","src","url","replace","title","moment","time","format","concat"],"mappings":"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","file":"static/js/6.2642ff30.chunk.js","sourcesContent":["import React from 'react';\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport h2p from 'html2plaintext';\nimport classNames from 'classnames';\n\nimport Header from '../Layout/Body/Header';\nimport SearchBar from '../Widget/SearchBar/original'\nimport {getTagsCountsArray, refactorTextLength} from \"../../api/ApiUtils\";\n\nimport {FEED_EDIT_FILTER} from \"../../constants/actionType\";\nimport LoadingPage from '../Layout/LoadingPage'\nimport {I18nText} from \"../Widget/I18nText\";\nimport {keyOfI18n} from \"../../constants/locale/interface\";\nimport {useI18nText} from \"../../hooks/useI18nText\";\nimport {redirectUrl} from \"../../api/ApiUtils\";\n\n\nconst styles = createUseStyles({\n    // for desktop & tablet\n    feeds: {\n        \n    },\n    wrapper: {\n        display: 'flex',\n        padding: '0 9%'\n    },\n    menu: {\n        width: '25%'\n    },\n    list: {\n        width: 'calc(75% - 35px)',\n        marginLeft: 35,\n        display: 'flex',\n        flexWrap: 'wrap'\n    },\n    \n    searchBox: {\n        marginBottom: 35\n    },\n    categoryList: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        '& > li:first-child > button': {\n            borderTop: '1px solid rgb(169, 169, 169)'\n        }\n    },\n\n    menuHead: {\n        display: 'flex'\n    },\n    menuTitle: {\n        flex: 1,\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        fontSize: 19,\n        fontWeight: 400,\n        padding: 0,\n        marginTop: 0,\n        backgroundColor: 'transparent'\n    },\n    menuItem: {\n        width: '100%',\n        color: '#000',\n        listStyle: 'none',\n        borderBottom: '1px solid rgb(169, 169, 169)',\n        borderLeftWidth: 0,\n        borderRightWidth: 0,\n        borderTopWidth: 0,\n        textTransform: 'uppercase',\n        backgroundColor: 'transparent',\n        margin: 0,\n        cursor: 'pointer',\n        padding: 10,\n        textAlign: 'left',\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        fontSize: 14,\n        '&:hover': {\n            backgroundColor: '#f4f4f4'\n        }\n    },\n    menuTool: {\n        display: 'none',\n        transform: 'rotate(90deg)',\n        padding: 0,\n        margin: '-18px 18px 0 0',\n        borderWidth: 0,\n        width: 25,\n        height: 60,\n        cursor: 'pointer',\n        backgroundColor: 'transparent'\n    },\n    opened: {\n        transform: 'rotate(90deg) !important'\n    },\n\n    placeholder: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif'\n    },\n    item: {\n        width: 'calc(33.3% - 30px)',\n        backgroundColor: 'transparent',\n        borderWidth: 0,\n        flexBasis: 'auto',\n        //boxShadow: '0px 1px 2px rgba(0, 0, 0, 0.1)',\n        cursor: 'pointer',\n        margin : 15,\n        padding: 15,\n        display: 'flex',\n        flexDirection: 'column',\n        transition : \"box-shadow 0.3s\",\n        \"&:hover\" : {\n            boxShadow: '3px 3px 15px rgba(0, 0, 0, 0.1)',\n        }\n    },\n    feedTitle : {\n        textAlign : \"left\",\n        margin : \"10px 0px\"\n    },\n    feedTimestamp : {\n        textAlign : \"left\",\n        \"& > i\" : {\n            textAlign : \"left\",\n            fontSize : \"12px\",\n            color : \"#666\"\n        }\n    },\n    feedDesc : {\n        textAlign : \"left\",\n        fontSize : \"14px\",\n        color : \"#333\"\n    },\n    media: {\n        '& > img': {\n            width: '100%',\n            height : \"150px\",\n            objectFit : \"cover\"\n        }\n    },\n    \n    '@media (max-width: 1279px)': {\n        item: {\n            width: '100%'\n        }\n    },\n\n    // for mobile\n    '@media (max-width: 600px)': {\n        feeds: {\n            paddingTop: 25,\n            '& > div:first-child': {\n                display: 'none'\n            }\n        },\n        wrapper: {\n            display: 'block',\n            padding: '0 5%'\n        },\n        menu: {\n            width: '100%'\n        },\n        list: {\n            width: '100%',\n            marginLeft: 0\n        },\n\n        categoryList: {\n            display: 'none',\n            marginBottom: 20\n        },\n\n        menuTool: {\n            display: 'block',\n            transform: 'rotate(270deg)',\n            paddingTop: 45\n        }\n    }\n});\n\n\nconst mapStateToProps = state => ({\n    feeds: state.feed.feeds,\n    sort: state.feed.sort,\n    filter: state.feed.filter\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n        editFeedFilter: (key, value) => dispatch({\n            type: FEED_EDIT_FILTER,\n            payload: {\n                key: key,\n                value: value,\n            },\n        }),\n\n    }\n);\n\n\nconst ResponsiveDialog = props => {\n    const classes = styles();\n    const {feeds} = props;\n\n    const renderMenu = () => <div className={classes.menu}>\n        <div className={classes.searchBox}>\n            <h3 className={classes.menuTitle}>\n                <I18nText keyOfI18n={keyOfI18n.SEARCH}/>\n            </h3>\n            <div>\n                <SearchBar\n                    value={props.filter.keyword}\n                    // onChange={value => this.onChange(value)}\n                    placeholder={useI18nText(keyOfI18n.TYPE_KEYWORDS)}/>\n            </div>\n        </div>\n        <div>\n            <div className={classes.menuHead}>\n                <h3 className={classes.menuTitle}>\n                    <I18nText keyOfI18n={keyOfI18n.FEED_CATEGORY}/>\n                </h3>\n                <button\n                    type=\"button\"\n                    className={classNames(classes.menuTool, 'icon-play3')}\n                    onClick={e => {\n                        const btn = e.target;\n                        const categoryList = btn.parentNode.nextSibling;\n                        const value = window.getComputedStyle(categoryList).getPropertyValue('display') == 'none' ? 'block' : 'none';\n                        categoryList.style.display = value;\n                        btn.classList[{\n                            none: 'remove',\n                            block: 'add'\n                        }[value]](classes.opened);\n                        btn.style['padding' + {\n                            none: 'Top',\n                            block: 'Bottom'\n                        }[value]] = '45px';\n                        btn.style['padding' + {\n                            none: 'Bottom',\n                            block: 'Top'\n                        }[value]] = 0;\n                    }}\n                ></button>\n            </div>\n            <ul className={classes.categoryList}>\n                {getTagsCountsArray(feeds, tag => props.editFeedFilter('tag', tag)).map((t, i) => <li\n                    key={i}\n                >\n                    <button\n                        type=\"button\"\n                        className={classes.menuItem}\n                    >{t.label}</button>\n                </li>)}\n            </ul>\n        </div>\n    </div>;\n    const renderList = () => <div className={classes.list}>\n        {feeds == undefined ? <LoadingPage/> : (\n            feeds.length < 1 ? <p className={classes.placeholder}>\n                    <I18nText keyOfI18n={keyOfI18n.NO_POST_AVAILABLE}/>\n            </p> : feeds.map((n, i) => {\n                const desc = h2p(n.sections[0].description);\n                const short = desc.substr(0, 70);\n                const media = (n.sections[0].media || []).filter(m => /^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(m.ext));\n                return <button\n                    key={i}\n                    type=\"button\"\n                    className={classes.item}\n                    onClick={() => redirectUrl('/articles/' + n.id, props.history)}\n                >\n                    {media.length > 0 && <div className={classes.media}>\n                        <img src={media[0].url.replace('.cloud/','.cloud/380xAUTO/')} width=\"100%\"/> \n                    </div>}\n                    <h5 className={classes.feedTitle}>{n.sections[0].title}</h5>\n                    <div className={classes.feedTimestamp}>\n                        <i>{moment(n.time).format('ll')}</i>\n                    </div>\n                    <p className={classes.feedDesc}>{short == desc ? short : `${short}...`}</p>\n                </button>;\n            })\n        )}\n    </div>;\n\n    return <div className={classes.feeds}>\n        <Header/>\n        <div className={classes.wrapper}>\n            {renderMenu()}\n            {renderList()}\n        </div>\n    </div>;\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResponsiveDialog)"],"sourceRoot":""}