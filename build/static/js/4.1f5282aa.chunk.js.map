{"version":3,"sources":["components/Widget/DropDown.tsx","components/Layout/Header.js"],"names":["makeStyles","theme","createStyles","root","title","fontWeight","btnText","icon","marginRight","styles","createUseStyles","topbar","display","justifyContent","borderBottom","minHeight","padding","nav","position","& > $openMenu","logo","marginLeft","& > button","borderWidth","backgroundColor","alignItems","cursor","&:focus","outline","shopLogo","shopName","mobileMenu","flexDirection","color","margin","openMenu","left","& button","desktopMenu","& > div","_button","fontFamily","fontSize","Object","defineProperty","toolbar","& > div:last-child > button","languages","minWidth","& > div > button","width","languageOptions","zIndex","marginTop","boxShadow","&:before","content","borderColor","borderStyle","top","& > li","listStyle","& > li > button","searchBar","height","border","borderRadius","transition","shoppingCart","@media (max-width: 600px)","flex","& > $mobileMenu","bottom","right","withRouter","connect","state","cart","items","keyword","common","products","product","feeds","feed","shopInfo","dispatch","closeMobileMenu","e","parent","target","test","className","parentNode","style","openMobileMenu","menu","values","childNodes","filter","c","closeLanguageOptions","editShoppingCart","index","type","CART_OPERATE_SHOPPING_CART","payload","key","value","editSearchBar","arguments","length","undefined","COMMON_EDIT_SEARCH_BAR","props","classes","history","commonReducer","useContext","reducer","name","config","showArticles","showShop","react_default","a","createElement","onClick","redirectUrl","src","replace","classNames","I18nText","keyOfI18n","FEEDS","PRODUCTS","CHECKOUT","placeholder","concat","useI18nText","SEARCH","LANGUAGE","actionType","COMMON_INIT_I18N","locale"],"mappings":"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","file":"static/js/4.1f5282aa.chunk.js","sourcesContent":["import React, {Fragment, useState} from 'react';\r\nimport {Theme} from '@material-ui/core/styles';\r\nimport {ListItem, Typography} from '@material-ui/core';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport createStyles from \"@material-ui/core/styles/createStyles\";\r\nimport {Clickable} from \"../../interfaces/client/Common\";\r\nimport {makeStyles} from \"@material-ui/styles\";\r\nimport ImageWrapper from './Img';\r\n\r\nconst useStyles = makeStyles((theme: Theme) => createStyles({\r\n    root: {},\r\n    title: {\r\n        fontWeight: 'lighter',\r\n    },\r\n    btnText: {},\r\n    icon: {\r\n        marginRight: '5px',\r\n    }\r\n\r\n}));\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    icon2?: string,\r\n    label?: string,\r\n    labelExtra?: string,\r\n    options: Array<Clickable>,\r\n    selectedValue?: string,\r\n}\r\n\r\nconst DropDown: React.FunctionComponent<Props> = props => {\r\n\r\n    const [anchorEl, setAnchorEl]: [any, any] = useState(null);\r\n    const [selectedIndex, setSelectedIndex] = useState(0);\r\n    const classes = useStyles();\r\n    const handleMenuItemClick = (index: number, cb: Function): void => {\r\n        setSelectedIndex(index);\r\n        setAnchorEl(null);\r\n        cb()\r\n    };\r\n\r\n\r\n    const {\r\n        icon,\r\n        icon2, label,\r\n        labelExtra, options,\r\n        selectedValue\r\n    } = props;\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <ListItem button\r\n                      className={classes.root}\r\n                      onClick={e => setAnchorEl(e.currentTarget)}\r\n            >\r\n                {icon && <span className={classes.icon + ' ' + icon}/>}\r\n                <Typography variant={'body1'}>\r\n                    {label}{labelExtra}\r\n                </Typography>\r\n                <Typography variant={'body1'}>\r\n                    {selectedValue ? selectedValue : options[selectedIndex].label}\r\n                </Typography>\r\n                {icon2 && <span className={classes.icon + ' ' + icon2}/>}\r\n            </ListItem>\r\n\r\n            <Menu\r\n                id=\"lock-menu\"\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={() => setAnchorEl(null)}\r\n\r\n            >\r\n                {options.map((n, i) => (\r\n                    <MenuItem\r\n                        key={i}\r\n                        selected={i === selectedIndex}\r\n                        onClick={() => handleMenuItemClick(i, n.onClick)}\r\n                    >\r\n                        <Typography variant={'body1'}>\r\n                            {n.label}</Typography>\r\n                    </MenuItem>\r\n                ))}\r\n            </Menu>\r\n        </Fragment>\r\n    )\r\n};\r\n\r\n//todo(need to improve)\r\nexport default (DropDown);","import React, {useContext, useState} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {createUseStyles} from 'react-jss';\r\nimport {connect} from 'react-redux';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport 'animate.css/animate.min.css';\r\n\r\nimport {I18nText} from \"../Widget/I18nText\";\r\nimport {redirectUrl} from \"../../api/ApiUtils\";\r\n\r\nimport classNames from \"classnames\";\r\nimport {CART_OPERATE_SHOPPING_CART, COMMON_EDIT_SEARCH_BAR} from \"../../constants/actionType\";\r\nimport {useI18nText} from \"../../hooks/useI18nText\";\r\nimport {keyOfI18n} from \"../../constants/locale/interface\";\r\nimport DropDown from \"../Widget/DropDown\";\r\nimport actionType from \"../../context/actionType\";\r\nimport {reducer} from \"../../context\";\r\n\r\n\r\nconst styles = createUseStyles({\r\n    topbar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        borderBottom: '1px solid #eee',\r\n        minHeight: 65,\r\n        padding: '0 15px'\r\n    },\r\n    nav: {\r\n        display: 'flex',\r\n        position: 'relative',\r\n        '& > $openMenu': {\r\n            display: 'none'\r\n        },\r\n    },\r\n    logo: {\r\n        display: 'flex',\r\n        marginLeft : 15,\r\n        '& > button': {\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            cursor: 'pointer',\r\n            '&:focus': {\r\n                outline: 'none'\r\n            }\r\n        }\r\n    },\r\n    shopLogo : {\r\n        marginRight : 10\r\n    },\r\n    shopName : {\r\n        fontWeight : 600\r\n    },\r\n\r\n    mobileMenu: {\r\n        display: 'none',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        '& > button': {\r\n            display: 'block',\r\n            borderWidth: 0,\r\n            color: '#fff',\r\n            backgroundColor: 'transparent',\r\n            margin: '15px 0',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n    openMenu: {\r\n        position: 'absolute',\r\n        left: 0,\r\n        '& button': {\r\n            cursor: 'pointer',\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            //textTransform: 'uppercase',\r\n            '&:focus': {\r\n                outline: 'none'\r\n            }\r\n        }\r\n    },\r\n\r\n    desktopMenu: {\r\n        display: 'flex',\r\n        marginLeft: 50,\r\n        '& > div': {\r\n            display: 'flex'\r\n        },\r\n        '& button': {\r\n            cursor: 'pointer',\r\n            fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\r\n            fontWeight: 300,\r\n            fontSize: 16,\r\n            margin : \"0px 5px\",\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            //textTransform: 'uppercase',\r\n            cursor: 'pointer',\r\n            '&:focus': {\r\n                outline: 'none'\r\n            }\r\n        }\r\n    },\r\n\r\n    toolbar: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        '& > div:last-child > button': {\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            fontSize: 17,\r\n            fontWeight: 300,\r\n            marginRight : 25,\r\n            fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\r\n            cursor: 'pointer',\r\n            '&:focus': {\r\n                outline: 0\r\n            }\r\n        }\r\n    },\r\n    languages: {\r\n        position: 'relative',\r\n        minWidth: 100,\r\n        '& > div > button': {\r\n            display: 'block',\r\n            width: '100%',\r\n            cursor: 'pointer',\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            fontSize: 14,\r\n            '&:focus': {\r\n                outline: 0\r\n            }\r\n        }\r\n    },\r\n    languageOptions: {\r\n        width: '100%',\r\n        position: 'absolute',\r\n        zIndex: 999,\r\n        display: 'none',\r\n        marginTop: 15,\r\n        padding: 0,\r\n        boxShadow: '0 3px 8px 3px rgba(92, 92, 92, 0.2)',\r\n        '&:before': {\r\n            content: '\"\"',\r\n            position: 'absolute',\r\n            borderColor: 'transparent transparent #f3f3f3',\r\n            borderStyle: 'solid',\r\n            borderWidth: '10px 15px',\r\n            top: -20,\r\n            left: 'calc(50% - 15px)'\r\n        },\r\n        '& > li': {\r\n            listStyle: 'none'\r\n        },\r\n        '& > li > button': {\r\n            display: 'block',\r\n            width: '100%',\r\n            borderWidth: 0,\r\n            backgroundColor: '#f3f3f3',\r\n            cursor: 'pointer',\r\n            padding: '5px 0',\r\n            fontSize: 15,\r\n            '&:focus': {\r\n                outline: 0\r\n            }\r\n        }\r\n    },\r\n    searchBar: {\r\n        height : 20,\r\n        fontSize : 14,\r\n        padding : 5,\r\n        border : \"1px #DDD solid\",\r\n        borderRadius : 3,\r\n        transition : \"border 0.3s\",\r\n        \"&:focus\" : {\r\n            border : \"1px black solid\",\r\n        }\r\n    },\r\n    shoppingCart: {\r\n        display: 'none',\r\n        '& > button': {\r\n            borderWidth: 0,\r\n            backgroundColor: 'transparent',\r\n            cursor: 'pointer'\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // for mobile\r\n    '@media (max-width: 600px)': {\r\n        nav: {\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            flex: 1,\r\n            '& > $mobileMenu': {\r\n                display: 'none',\r\n                position: 'fixed',\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                backgroundColor: 'rgba(50,50,50,.9)',\r\n                zIndex: 99999\r\n            },\r\n            '& > $openMenu': {\r\n                display: 'block'\r\n            }\r\n        },\r\n        desktopMenu: {\r\n            display: 'none'\r\n        },\r\n        toolbar: {\r\n            display: 'none'\r\n        },\r\n        shoppingCart: {\r\n            display: 'block',\r\n            right: 0,\r\n            position: 'absolute'\r\n        }\r\n    }\r\n});\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    shoppingCart: state.cart.items,\r\n    keyword: state.common.searchBar,\r\n    products: state.product.products,\r\n    feeds: state.feed.feeds,\r\n    shopInfo: state.common.shopInfo,\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    closeMobileMenu: e => {\r\n        var parent = e.target;\r\n        while (!/^mobileMenu-/i.test(parent.className)) parent = parent.parentNode;\r\n        if (/^mobileMenu-/i.test(parent.className)) parent.style.display = 'none';\r\n    },\r\n    openMobileMenu: e => {\r\n        var parent = e.target;\r\n        while (!/^nav-/i.test(parent.className)) parent = parent.parentNode;\r\n        if (/^nav-/i.test(parent.className)) {\r\n            var menu = Object.values(parent.childNodes).filter(c => /^mobileMenu-/i.test(c.className))[0];\r\n            if (menu) menu.style.display = 'flex';\r\n        }\r\n    },\r\n    closeLanguageOptions: e => {\r\n        var parent = e.target;\r\n        while (parent && !/^languages-/i.test(parent.className)) parent = parent.parentNode;\r\n        if (parent) {\r\n            var target = Object.values(parent.childNodes).filter(c => /^languageOptions-/i.test(c.className))[0];\r\n            if (target) target.style.display = !/^block$/i.test(target.style.display) ? 'block' : 'none';\r\n        }\r\n    },\r\n    editShoppingCart: (index) => dispatch({\r\n        type: CART_OPERATE_SHOPPING_CART,\r\n        payload: {\r\n            key: 'remove',\r\n            value: index,\r\n\r\n        }\r\n    }),\r\n    editSearchBar: (keyword = null) => dispatch({\r\n        type: COMMON_EDIT_SEARCH_BAR,\r\n        payload: keyword\r\n    })\r\n});\r\n\r\nconst Header = props => {\r\n    const classes = styles();\r\n    const {feeds, products, history, shopInfo} = props;\r\n    const {commonReducer} = useContext(reducer);\r\n\r\n    const logo = (shopInfo || {}).logo || '';\r\n    const name = (shopInfo || {}).name || '';\r\n\r\n    const config = {\r\n        showArticles: (feeds || []).length > 0,\r\n        showShop: (products || []).length > 0,\r\n    };\r\n\r\n    return <div className={classes.topbar}>\r\n\r\n\r\n        {/* --------------------------- Left topbar --------------------------- */}\r\n        <div className={classes.nav}>\r\n            <div className={classes.openMenu}>\r\n                <button type=\"button\" onClick={props.openMobileMenu}>\r\n                    <i className=\"icon-menu\"/>\r\n                </button>\r\n            </div>\r\n\r\n            {(logo.length > 0 || name.length > 0) && <div className={classes.logo}>\r\n                <button type=\"button\" onClick={e => redirectUrl('/', history)}>\r\n                    {logo.length > 0 && <img className={classes.shopLogo} src={shopInfo.logo.replace('.cloud/','.cloud/AUTOx50/')} height={30}/>}\r\n                    {name.length > 0 && <span className={classes.shopName}>{shopInfo.name}</span>}\r\n                </button>\r\n            </div>}\r\n\r\n            {/* --------------- Mobile menu  --------------- */}\r\n            <div className={classNames(classes.mobileMenu, 'animated', 'fadeIn', 'faster')}>\r\n                {config.showArticles && <button type=\"button\" onClick={e => {\r\n                    redirectUrl('/articles', history);\r\n                    props.closeMobileMenu(e);\r\n                }}>\r\n                    <I18nText keyOfI18n={keyOfI18n.FEEDS}/>\r\n                </button>}\r\n                {config.showShop && <button type=\"button\" onClick={e => {\r\n                    redirectUrl('/products', history);\r\n                    props.closeMobileMenu(e);\r\n                }}>\r\n                    <I18nText keyOfI18n={keyOfI18n.PRODUCTS}/>\r\n                </button>}\r\n                {config.showShop && <button type=\"button\" onClick={e => {\r\n                    redirectUrl('/checkout', history);\r\n                    props.closeMobileMenu(e);\r\n                }}>\r\n                    <I18nText keyOfI18n={keyOfI18n.CHECKOUT}/>\r\n                </button>}\r\n                <button type=\"button\" onClick={props.closeMobileMenu}>X</button>\r\n            </div>\r\n\r\n\r\n            {/* --------------- Desktop menu  --------------- */}\r\n            <div className={classes.desktopMenu}>\r\n                {config.showArticles && <div>\r\n                    <button type=\"button\" onClick={e => redirectUrl('/articles', history)}>\r\n                        <I18nText keyOfI18n={keyOfI18n.FEEDS}/>\r\n                    </button>\r\n                </div>}\r\n                {config.showShop && <div>\r\n                    <button type=\"button\" onClick={e => redirectUrl('/products', history)}>\r\n                        <I18nText keyOfI18n={keyOfI18n.PRODUCTS}/>\r\n                    </button>\r\n                    <button type=\"button\" onClick={e => redirectUrl('/checkout', history)}>\r\n                        <I18nText keyOfI18n={keyOfI18n.CHECKOUT}/>\r\n                    </button>\r\n                </div>}\r\n            </div>\r\n            {\r\n                (products || []).length > 0 && \r\n                <div className={classes.shoppingCart} >\r\n                    <button type=\"button\" onClick={() => redirectUrl('/shopping-cart', history)}>\r\n                        <i className=\"icon-cart\"/>\r\n                    </button>\r\n                </div>\r\n            }\r\n        </div>\r\n\r\n\r\n        {/* --------------------------- Right topbar --------------------------- */}\r\n        <div className={classes.toolbar}>\r\n            {/* ---- search bar ---- */}\r\n            <div>\r\n                <input\r\n                    type=\"text\"\r\n                    className={classes.searchBar}\r\n                    placeholder={`${useI18nText(keyOfI18n.SEARCH)}…`}\r\n                />\r\n            </div>\r\n            {/* ---- Language selector ---- */}\r\n            <div className={classes.languages}>\r\n                <div>\r\n                    <button type=\"button\" onClick={props.closeLanguageOptions}>\r\n                        <I18nText keyOfI18n={keyOfI18n.LANGUAGE}/>\r\n                    </button>\r\n                </div>\r\n                <ul className={classes.languageOptions}>\r\n                    <li>\r\n                        <button type=\"button\" onClick={e => {\r\n                            commonReducer.dispatch({\r\n                                type: actionType.common.COMMON_INIT_I18N,\r\n                                payload: {\r\n                                    locale: 'en'\r\n                                }\r\n                            });\r\n                            props.closeLanguageOptions(e);\r\n                        }}>English</button>\r\n                    </li>\r\n                    <li>\r\n                        <button type=\"button\" onClick={e => {\r\n                            commonReducer.dispatch({\r\n                                type: actionType.common.COMMON_INIT_I18N,\r\n                                payload: {\r\n                                    locale: 'zh'\r\n                                }\r\n                            });\r\n                            props.closeLanguageOptions(e);\r\n                        }}>繁體中文</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            {/* ---- Shoppin cart ---- */}\r\n            {(products || []).length > 0 && <div>\r\n                <button type=\"button\" onClick={() => redirectUrl('/shopping-cart', history)}>\r\n                    {/* <I18nText keyOfI18n={keyOfI18n.SHOPPING_CART}/> */}\r\n                    <i className=\"icon-cart\"/>\r\n                </button>\r\n            </div>}\r\n        </div>\r\n    </div>;\r\n};\r\n\r\nHeader.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header))"],"sourceRoot":""}