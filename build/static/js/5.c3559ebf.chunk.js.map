{"version":3,"sources":["components/MainPage/Overview.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","html2plaintext__WEBPACK_IMPORTED_MODULE_4__","html2plaintext__WEBPACK_IMPORTED_MODULE_4___default","_constants_actionType__WEBPACK_IMPORTED_MODULE_5__","_agent__WEBPACK_IMPORTED_MODULE_6__","styles","createUseStyles","featuredMerchandises","padding","featuredMerchandisesWrapper","display","margin","featuredMerchandisesItem","width","backgroundColor","borderWidth","cursor","tips","tipsWrapper","flexWrap","tipsItem","connect","state","product","featuredArticles","feed","shopInfo","common","dispatch","initFeaturedArticles","agent","Feeds","getFeaturedArticles","then","res","type","ARTICLE_INIT_FEATURED","payload","data","rows","catch","err","initTips","getTips","ARTICLE_INIT_TIPS","initFeaturedMerchandises","Products","getFeaturedMerchandises","MERCHANDISE_INIT_FEATURED","withRouter","props","classes","history","useEffect","undefined","a","createElement","map","article","idx","key","style","backgroundImage","concat","sections","media","url","backgroundSize","height","alignItems","justifyContent","textShadow","color","fontSize","title","className","fontFamily","slice","length","flex","backgroundPosition","flexDirection","h2p","description","item","onClick","push","id","name","price","currency","toUpperCase"],"mappings":"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","file":"static/js/5.c3559ebf.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\n\nimport h2p from 'html2plaintext';\n\nimport {\n    ARTICLE_INIT_FEATURED,\n    ARTICLE_INIT_TIPS,\n    MERCHANDISE_INIT_FEATURED\n} from '../../constants/actionType';\nimport agent from '../../agent';\n\n\nconst styles = createUseStyles({\n    featuredMerchandises: {\n        padding: '0 3%'\n    },\n    featuredMerchandisesWrapper: {\n        display: 'flex',\n        margin: 0,\n        padding: 0\n    },\n    featuredMerchandisesItem: {\n        width: 'calc(20% - 20px)',\n        margin: 10,\n        backgroundColor: 'transparent',\n        borderWidth: 0,\n        cursor: 'pointer'\n    },\n\n    tips: {\n        padding: '0 3%'\n    },\n    tipsWrapper: {\n        margin: 0,\n        display: 'flex',\n        flexWrap: 'wrap',\n        padding: 0\n    },\n    tipsItem: {\n        display: 'flex',\n        width: 'calc(50% - 20px)',\n        backgroundColor: '#f7f7f7',\n        margin: 10\n    }\n    \n    // section: {\n    //     width: '100%',\n    //     margin: '0 80px'\n    // },\n    // productCategory: {\n    //     paddingTop: '40px',\n\n    //     paddingBottom: '40px',\n    //     // backgroundColor: theme.palette.background.paper\n    // },\n    // text: {\n    //     textAlign: 'center',\n    //     // color: theme.palette.secondary.light,\n    //     marginBottom: '30px',\n    //     wordWrap: 'break-word',\n    //     wordBreak: 'break-all'\n\n    // },\n    // title: {\n    //     paddingTop: '20px',\n    //     marginTop: '50px',\n    //     fontWeight: '700',\n    //     // color: theme.palette.primary.dark,\n    //     marginBottom: '20px',\n    //     textAlign: 'center'\n    // }\n});\n\n\nconst mapStateToProps = state => ({\n    featuredMerchandises: state.product.featuredMerchandises,\n    featuredArticles: state.feed.featuredArticles,\n    tips: state.feed.tips,\n    shopInfo: state.common.shopInfo\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    initFeaturedArticles: () => {\n        try {\n            agent.Feeds.getFeaturedArticles()\n            .then(res => {\n                dispatch({\n                    type    : ARTICLE_INIT_FEATURED,\n                    payload : res.data.data.rows || []\n                })\n            })\n            .catch(err => {\n\n            })\n        } catch(err) {\n\n        }\n    },\n    initTips: () => {\n        try {\n            agent.Feeds.getTips()\n            .then(res => {\n                dispatch({\n                    type    : ARTICLE_INIT_TIPS,\n                    payload : res.data.data.rows || []\n                })\n            })\n            .catch(err => {\n\n            })\n        } catch(err) {\n\n        }\n    },\n    initFeaturedMerchandises: () => {\n        try {\n            agent.Products.getFeaturedMerchandises()\n            .then(res => {\n                dispatch({\n                    type    : MERCHANDISE_INIT_FEATURED,\n                    payload : res.data.data.rows || []\n                })\n            })\n            .catch(err => {\n\n            })\n        } catch(err) {\n\n        }\n    }\n});\n\n\nconst MainPageOverview = props => {\n    const classes = styles();\n    const {featuredMerchandises, featuredArticles, tips, history, shopInfo} = props;\n\n    useEffect(() => {\n        if (featuredArticles === undefined) props.initFeaturedArticles();\n        if (tips === undefined) props.initTips();\n        if (featuredMerchandises === undefined) props.initFeaturedMerchandises();\n        return () => {\n\n        };\n    }, [featuredArticles, tips, featuredMerchandises]);\n\n    return <div>\n        <div>\n            {(featuredArticles || []).map((article, idx) => <li\n                key={idx}\n                style={{\n                    backgroundImage: `url(${article.sections[0].media[0].url})`,\n                    backgroundSize: 'cover',\n                    height: 390,\n                    display: 'flex',\n                    alignItems: 'flex-end',\n                    justifyContent: 'flex-end'\n                }}\n            >\n                <span\n                    style={{\n                        textShadow: '0px 1px 4px #000',\n                        color: '#fff',\n                        fontSize: 15,\n                        margin: 15\n                    }}\n                >{article.sections[0].title}</span>\n            </li>)}\n        </div>\n\n        <br/><br/><br/><br/>\n\n        <div className={classes.tips}>\n            <h2 style={{ fontSize: 21, fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif' }}>Latest Information</h2>\n            <ul className={classes.tipsWrapper}>\n                {(tips || []).slice(0, 4).map((article, idx) => <li\n                    key={idx}\n                    className={classes.tipsItem}\n                >\n                    {(article.sections[0] || {}).media.length > 0 && <div\n                        style={{\n                            flex: 4,\n                            height: 250,\n                            backgroundImage: `url(${article.sections[0].media[0].url})`,\n                            backgroundSize: 'cover',\n                            backgroundPosition: 'center'\n                        }}\n                    />}\n                    <div\n                        style={{\n                            flex: 6,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            padding: 25,\n                            alignItems: 'center',\n                            justifyContent: 'center'\n                        }}\n                    >\n                        <h5\n                            style={{\n                                margin: 0\n                            }}\n                        >{article.sections[0].title}</h5>\n                        <p>{h2p(article.sections[0].description)}</p>\n                    </div>\n                </li>)}\n            </ul>\n        </div>\n\n        <br/><br/><br/><br/>\n        \n        <div className={classes.featuredMerchandises}>\n            <h2 style={{ fontSize: 21, fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif' }}>Featured Products</h2>\n            <ul className={classes.featuredMerchandisesWrapper}>\n                {(featuredMerchandises || []).map((item, idx) => <button\n                    key={idx}\n                    type=\"button\"\n                    className={classes.featuredMerchandisesItem}\n                    onClick={() => history.push(`/products/${item.id}`)}\n                >\n                    <div\n                        style={{\n                            backgroundImage: `url(${item.media[0].url})`,\n                            backgroundPosition: 'top center',\n                            backgroundSize: 'cover',\n                            height: 280\n                        }}\n                    />\n                    <br/>\n                    <div>\n                        <div>{item.name}</div>\n                        <div>{`${item.price} ${shopInfo.currency.toUpperCase()}`}</div>\n                    </div>\n                </button>)}\n            </ul>\n        </div>\n    </div>;\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MainPageOverview))"],"sourceRoot":""}