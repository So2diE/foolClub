{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Product/product.style.js","components/Product/Overview.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","styles","createUseStyles","wrapper","display","padding","flexDirection","menu","width","categoryList","alignItems","overflow","-ms-overflow-style","&::-webkit-scrollbar","& > button","fontSize","border","margin","backgroundColor","borderRadius","cursor","transition","&:hover","opacity","list","topbar","borderTop","& > div","flex","& > div:nth-child(2)","modes","_button","marginLeft","defineProperty","& > button:first-child","icon","status","fontFamily","textAlign","sort","context","flexWrap","item","flexBasis","media","marginBottom","height","& > img","objectFit","name","marginTop","color","price","tags","wordBreak","textTransform","rowItem","rowItemInfo","minWidth","justifyContent","rowItemMedia","rowItemName","rowItemDescription","rowItemPrice","stockStatus","& > span > i","loadMoreBtnWrapper","sortSelect","position","& > div > button","borderWidth","&:focus","outline","sortOptions","boxShadow","&:before","content","borderColor","borderStyle","top","left","& > li","listStyle","& > li > button","@media (max-width: 600px)","menuTool","transform","paddingTop","filterOptions","key","element","react_default","a","createElement","I18nText","keyOfI18n","SHOP_SORT_NAME_ASC","SHOP_SORT_NAME_DES","SHOP_SORT_PRICE_ASC","SHOP_SORT_PRICE_DES","SHOP_SORT_CLEAR","connect","state","products","product","viewMode","filter","productIsLoading","dispatch","changeViewMode","mode","type","EDIT_PRODUCT_VIEW_MODE","payload","editProductSort","PRODUCT_EDIT_SORT","value","editProductFilter","PRODUCT_EDIT_FILTER","closeSortOptions","e","parent","target","test","className","parentNode","values","childNodes","c","style","loadProducts","_loadProducts","asyncToGenerator","regenerator_default","mark","_callee","page","currentProducts","wrap","_context","prev","next","agent","Products","sent","LOAD_PRODUCTS","concat","stop","_x","_x2","apply","this","arguments","props","classes","toConsumableArray","sortBy","b","tag","p","includes","renderProductRows","map","n","m","ext","variants","prices","v","indexOf","onClick","redirectUrl","id","history","src","thumbnail","url","replace","forEach","stock","reduce","o","PRODUCT_DETAIL_OUT_OF_STOCK","react_number_format_es","thousandSeparator","prefix","displayType","renderText","description","trim","substr","join","renderProductGrids","Header","title","SHOP","route","getTagsCountsArray","unique","toLowerCase","t","menuItem","console","log","label","toUpperCase","classNames","Math","ceil","LOAD_MORE","LoadingPage"],"mappings":"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","file":"static/js/9.f2ecb03b.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import {createUseStyles} from 'react-jss';\n\nconst styles = createUseStyles({\n    wrapper: {\n        display: 'flex',\n        padding: '0 9%',\n        flexDirection : 'column'\n    },\n\n\n    menu: {\n        width: 'calc(100% - 35px)',\n    },\n    categoryList: {\n        display:'flex',\n        flexDirection : 'row',\n        alignItems : 'center',\n        overflow : 'scroll',\n        padding: 15,\n        \"-ms-overflow-style\" : \"none\",\n        '&::-webkit-scrollbar' : {\n            display : \"none\"\n        },\n        '& > button' : {\n            fontSize : 13,\n            padding : \"10px 20px\",\n            border : 'none',\n            margin : 5,\n            backgroundColor : 'transparent',\n            borderRadius : 25,\n            cursor : 'pointer',\n            transition : 'opacity 0.3s',\n            '&:hover' : {\n                opacity : 0.6\n            }\n        }\n    },\n\n\n    list: {\n        width: 'calc(100% - 35px)',\n        // marginLeft: 35\n    },\n    topbar: {\n        display: 'flex',\n        borderTop: '1px solid #efefef',\n        //borderBottom: '1px solid #efefef',\n        padding: '15px 15px',\n        alignItems: 'center',\n        '& > div': {\n            flex: 1\n        },\n        '& > div:nth-child(2)': {\n            flex: 2.5\n        }\n    },\n    modes: {\n        '& > button': {\n            marginLeft: 5,\n            border: '1px solid #eee',\n            backgroundColor: 'transparent',\n            border : \"none\",\n            transition : \"opacity 0.3s\",\n            '&:hover' : {\n                opacity : 0.6\n            }\n        },\n        '& > button:first-child': {\n            marginLeft: 0\n        }\n    },\n    icon: {\n        padding: 10,\n        cursor: 'pointer',\n        alignItems: 'center',\n        border: '1px solid black',\n    },\n    status: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        textAlign: 'center',\n        //textTransform: 'uppercase'\n    },\n    sort: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        textAlign: 'right',\n        //textTransform: 'uppercase'\n    },\n    context: {\n        display: 'flex',\n        flexWrap: 'wrap'\n    },\n\n\n    // ------------------ Items\n    item: {\n        display : 'flex',\n        flexDirection : \"column\",\n        width: 'calc(33.3% - 50px)',\n        backgroundColor: 'transparent',\n        flexBasis: 'auto',\n        margin: 25,\n        padding: '10px 15px',\n        cursor: 'pointer',\n        border: 'none',\n        alignItems : 'center',\n        transition : \"opacity 0.3s\",\n        '&:hover': {\n            opacity : 0.6\n        }\n    },\n    media: {\n        marginBottom: 25,\n        height : 250,\n        '& > img': {\n            width: '100%',\n            height : \"100%\",\n            objectFit : \"contain\"\n        }\n    },\n    name: {\n        textAlign : \"left\",\n        marginTop: 3,\n        padding: 0,\n        fontSize : 18,\n        color : \"#333\"\n    },\n    price: {\n        textAlign : \"left\",\n        color : \"#333\"\n    },\n    tags: {\n        padding : \"10px 0px\",\n        textAlign : 'left',\n        fontSize: 10,\n        color: '#666',\n        wordBreak: 'break-word',\n        textTransform : 'uppercase',\n    },\n\n\n    rowItem: {\n        display : 'flex',\n        flexDirection : \"row\",\n        width: 'calc(100% - 50px)',\n        backgroundColor: 'transparent',\n        flexBasis: 'auto',\n        margin: 25,\n        flexWrap : 'wrap',\n        padding: '10px 15px',\n        cursor: 'pointer',\n        border: 'none',\n        transition : \"opacity 0.3s\",\n        '&:hover': {\n            opacity : 0.6\n        }\n    },\n    rowItemInfo : {\n        display : 'flex',\n        flexDirection : 'column',\n        padding : 10,\n        flexWrap : 'wrap',\n        minWidth : 200,\n        flex : 2,\n        alignItems : \"flex-start\",\n        justifyContent : \"center\"\n    },\n    rowItemMedia: {\n        flex : 1,\n        minWidth : 180,\n        marginBottom: 15,\n        height : 180,\n        '& > img': {\n            width: '100%',\n            height : \"100%\",\n            objectFit : \"contain\"\n        }\n    },\n    rowItemName: {\n        textAlign : \"left\",\n        marginTop: 5,\n        padding: 0,\n        fontSize : 18,\n        color : \"#333\"\n    },\n    rowItemDescription : {\n        textAlign : \"left\",\n        color : \"#666\",\n        fontSize : 13,\n    },\n    rowItemPrice: {\n        textAlign : \"left\",\n        margin: '3px 0px 5px 0px',\n        color : \"#333\"\n    },\n    stockStatus : {\n        fontSize:12, \n        margin : \"5px 0px\",\n        textAlign : 'left',\n        '& > span > i' : {\n            fontSize:12\n        }\n    },\n\n    loadMoreBtnWrapper : {\n        width : \"100%\",\n        display : 'flex',\n        flexDirection : 'column',\n        justifyContent : 'center',\n        alignItems : 'center',\n        '& > button' : {\n            marginTop : 25,\n            width : 150,\n            border : 'none',\n            backgroundColor : '#f6f6f6',\n            fontSize : 12,\n            padding : \"10px 20px\",\n            transition : 'opacity 0.3s',\n            cursor : \"pointer\",\n            '&:hover' : {\n                opacity : 0.6\n            }\n        }\n    },\n\n\n    sortSelect: {\n        position: 'relative',\n        display : 'flex',\n        justifyContent : 'flex-end',\n        minWidth: 100,\n        '& > div > button': {\n            display: 'block',\n            cursor: 'pointer',\n            borderWidth: 0,\n            backgroundColor: 'transparent',\n            fontSize: 14,\n            transition : 'opacity 0.3s',\n            '&:focus': {\n                outline: 0\n            },\n            '&:hover' : {\n                opacity : 0.6\n            }\n        }\n    },\n    sortOptions: {\n        width: '100%',\n        position: 'absolute',\n        display: 'none',\n        marginTop: 35,\n        padding: 0,\n        boxShadow: '0 3px 8px 3px rgba(92, 92, 92, 0.2)',\n        '&:before': {\n            content: '\"\"',\n            position: 'absolute',\n            borderColor: 'transparent transparent #f3f3f3',\n            borderStyle: 'solid',\n            borderWidth: '10px 15px',\n            top: -20,\n            left: 'calc(90% - 15px)'\n        },\n        '& > li': {\n            listStyle: 'none'\n        },\n        '& > li > button': {\n            display: 'block',\n            width: '100%',\n            borderWidth: 0,\n            backgroundColor: '#f3f3f3',\n            cursor: 'pointer',\n            padding: '5px 0',\n            fontSize: 15,\n            '&:focus': {\n                outline: 0\n            }\n        }\n    },\n\n\n\n\n    // for mobile\n    '@media (max-width: 600px)': {\n        wrapper: {\n            display: 'block',\n            padding: '0 5%'\n        },\n        menu: {\n            width: '100%'\n        },\n        list: {\n            width: '100%',\n            marginLeft: 0\n        },\n\n        topbar: {\n            display: 'none'\n        },\n\n        categoryList: {\n            display: 'none',\n            marginBottom: 20\n        },\n\n        menuTool: {\n            display: 'block',\n            transform: 'rotate(270deg)',\n            paddingTop: 45\n        },\n\n        item: {\n            width: 'calc(100% - 50px)'\n        },\n        name: {\n            fontSize: 14\n        },\n\n        rowItem : {\n            alignItems : 'center',\n            justifyContent : 'center'\n        },\n        rowItemDescription : {\n            display : 'none'\n        }\n    }\n});\n\nexport default styles;","import React, {useEffect, useRef} from 'react';\nimport {connect} from 'react-redux';\nimport NumberFormat from 'react-number-format';\nimport _ from 'lodash';\nimport agent from '../../agent';\nimport classNames from 'classnames';\nimport Header from '../Layout/Body/Header'\nimport {EDIT_PRODUCT_VIEW_MODE, LOAD_PRODUCTS, PRODUCT_EDIT_FILTER, PRODUCT_EDIT_SORT, PRODUCT_IS_LOADING} from \"../../constants/actionType\";\nimport LoadingPage from '../Layout/LoadingPage'\nimport styles from './product.style';\nimport {\n    getTagsCountsArray,\n    redirectUrl,\n} from \"../../api/ApiUtils\";\nimport {keyOfI18n} from \"../../constants/locale/interface\";\nimport {I18nText} from \"../Widget/I18nText\";\n\nconst filterOptions = [\n    {\n        key : 'nameAsc',\n        element : <I18nText keyOfI18n={keyOfI18n.SHOP_SORT_NAME_ASC}/>\n    },\n    {\n        key : 'nameDes',\n        element : <I18nText keyOfI18n={keyOfI18n.SHOP_SORT_NAME_DES}/>\n    },\n    {\n        key : 'priceAsc',\n        element : <I18nText keyOfI18n={keyOfI18n.SHOP_SORT_PRICE_ASC}/>\n    },\n    {\n        key : 'priceDes',\n        element : <I18nText keyOfI18n={keyOfI18n.SHOP_SORT_PRICE_DES}/>\n    },\n    {\n        key : 'clear',\n        element : <I18nText keyOfI18n={keyOfI18n.SHOP_SORT_CLEAR}/>\n    },\n];\n\nconst mapStateToProps = state => ({\n    products: state.product.products,\n    viewMode: state.product.viewMode,\n    sort: state.product.sort,\n    filter: state.product.filter,\n    productIsLoading : state.product.productIsLoading\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    changeViewMode: (mode) => dispatch({\n        type: EDIT_PRODUCT_VIEW_MODE,\n        payload: mode,\n    }),\n    editProductSort: (key) => dispatch({\n        type: PRODUCT_EDIT_SORT,\n        payload: {\n            key : \"sortBy\",\n            value : key\n        }\n    }),\n    editProductFilter: (key, value) => dispatch({\n        type: PRODUCT_EDIT_FILTER,\n        payload: {\n            key: key,\n            value: value\n        }\n    }),\n    closeSortOptions: e => {\n        var parent = e.target;\n        while (parent && !/^sortSelect-/i.test(parent.className)) parent = parent.parentNode;\n        if (parent) {\n            var target = Object.values(parent.childNodes).filter(c => /^sortOptions-/i.test(c.className))[0];\n            if (target) target.style.display = !/^block$/i.test(target.style.display) ? 'block' : 'none';\n        }\n    },\n    loadProducts: async (page, currentProducts) => {\n        // fetch products\n        let products = await agent.Products.loadProducts(page);\n        // append products\n        if(products.length){\n            dispatch({\n                type : LOAD_PRODUCTS,\n                payload : currentProducts.concat(products)\n            });\n        }\n    }\n});\n\n\nconst ShopOverview = props => {\n\n    const classes = styles();\n    var products = [...(props.products || [])];\n\n    // init\n    if(!products.length){\n        // load products\n        props.loadProducts(1, []);\n    }\n\n    // ----------- has sorting?\n    if(props.sort.sortBy && props.sort.sortBy.length && !/^clear$/.test(props.sort.sortBy)){\n        products = products.sort((a, b) => {\n            if(/^nameAsc$/.test(props.sort.sortBy)){\n                return a.name > b.name;\n            } else \n            if(/^nameDes$/.test(props.sort.sortBy)){\n                return a.name < b.name;\n            } else \n            if(/^priceAsc$/.test(props.sort.sortBy)){\n                return a.price > b.price;\n            } else \n            if(/^priceDes$/.test(props.sort.sortBy)){\n                return a.price < b.price;\n            }\n        });\n    } else {\n        // filter cleared, clone original array\n        products = [...(props.products || [])];\n    }\n\n    // ----------- has filter?\n    if(props.filter.tag){\n        products = products.filter(p => p.tags.includes(props.filter.tag));\n    }\n\n    // ----------------------------------------------------------------  Menu ----------------------------------------------------------------\n    const renderMenu = () => <div className={classes.menu}>\n        <ul key=\"menu\" className={classes.categoryList}>\n            {getTagsCountsArray(props.products || [])\n            .reduce((unique, item) => unique.map(i => (i.value || \"\").toLowerCase()).includes((item.value || \"\").toLowerCase()) ? unique : [...unique, item], [])\n            .map((t, i) => (\n                <button\n                    type=\"button\"\n                    style={{border: ((props.filter || {}).tag || '') == t.value ? \"1px solid black\" : \"none\"}}\n                    className={classes.menuItem}\n                    onClick={() => { \n                        console.log(props.filter);\n                        props.editProductFilter('tag', t.value); \n                    }}\n                >\n                    {t.label.toUpperCase()}\n                </button>\n            ))}\n        </ul>\n    </div>;\n    // ----------------------------------------------------------------  /Menu ----------------------------------------------------------------\n\n    // ----------------------------------------------------------------  Product List ----------------------------------------------------------------\n\n    const renderProductList = () => <div className={classes.list}>\n        {/* ------------------ Top bar ------------------ */}\n        <div key=\"product-list\" className={classes.topbar}>\n            <div className={classes.modes}>\n                <button\n                    type=\"button\"\n                    onClick={() => props.changeViewMode('form')}\n                    className={classNames(classes.icon, 'icon-table')}\n                />\n                <button\n                    type=\"button\"\n                    onClick={() => props.changeViewMode('list')}\n                    className={classNames('icon-list', classes.icon)}\n                />\n            </div>\n            <div className={classes.status}>\n                {/* <I18nText keyOfI18n={keyOfI18n.ITEMS}/>&nbsp;\n                <I18nText keyOfI18n={keyOfI18n.OF}/> */}\n            </div>\n            <div className={classes.sortSelect}>\n                <div style={{display:'flex', flexDirection:'row', alignItems:'center'}}>\n                    {props.sort.sortBy && !/^clear$/.test(props.sort.sortBy) ? filterOptions.filter(o => o.key == props.sort.sortBy)[0].element : null}\n                    <button type=\"button\" \n                            onClick={props.closeSortOptions} \n                            className={classNames('icon-filter', classes.icon)} >\n                    </button>\n                </div>\n                <ul className={classes.sortOptions}>\n                    {filterOptions.map(o => (<li>\n                        <button type=\"button\" onClick={(e) => {\n                            props.editProductSort(o.key); \n                            // close\n                            props.closeSortOptions(e);\n                        }}>\n                            {o.element}\n                        </button>\n                    </li>))}\n                </ul>\n            </div>\n        </div>\n        {/* ------------------ /Top bar ------------------ */}\n\n\n        {/* ------------------ product list ------------------ */}\n        <div className={classes.context}>\n            {/^form$/.test(props.viewMode) ? renderProductGrids() : renderProductRows()}\n            <div className={classes.loadMoreBtnWrapper}>\n                <button onClick={() => {\n                    props.loadProducts(Math.ceil((props.products || []).length/15) + 1, products);\n                }}>\n                    <I18nText keyOfI18n={keyOfI18n.LOAD_MORE}/>\n                </button>\n            </div>\n        </div>\n        {/* ------------------ /product list ------------------ */}\n    </div>;\n\n    \n\n\n    /**\n     * \n     *  ------------------------------- LIST -------------------------------\n     *  @function renderProductRows\n     * \n     */\n    const renderProductRows = function(){\n        return products.map((n, i) => {\n            const media = (n.media || []).filter(m => /^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(m.ext));\n            const variants = n.variants || [];\n            const prices = [n.price].concat(n.variants.map(v => v.price)).filter((p, i, a) => a.indexOf(p) == i).sort((a, b) => a - b);\n            \n            return <button\n                key={i}\n                type=\"button\"\n                className={classes.rowItem}\n                onClick={() => redirectUrl('/products/' + n.id, props.history)}\n            >\n                <div className={classes.rowItemMedia}>\n                    <img src={(function(){\n                        // preset thumbnail url\n                        var thumbnail = '/notFound/not-found-image.jpg';\n                        // has media?\n                        if(media.length && media[0].url){\n                            thumbnail = media[0].url.replace('.cloud/','.cloud/380xAUTO/');\n                        } else {\n                            // get from variants\n                            variants.forEach(v => {\n                                if(v.media.length > 0 && thumbnail == '/notFound/not-found-image.jpg'){\n                                    thumbnail = v.media[0].url;\n                                }\n                            });\n                        }\n                        return thumbnail;\n                    })()} width=\"100%\"/>\n                </div>\n                <div className={classes.rowItemInfo}>\n                    {/* ---- Name ----- */}\n                    <div className={classes.rowItemName}>\n                        {n.name}\n                    </div>\n                    {/* ----- stock status ------ */}\n                    <div className={classes.stockStatus}>\n                        {\n                            (n.variants || []).map(v => v.stock).reduce((c, o) => (c+o), 0) <= 0 ?\n                            <span style={{ color : \"#e0674f\" }}>\n                                <i><I18nText keyOfI18n={keyOfI18n.PRODUCT_DETAIL_OUT_OF_STOCK}/></i>\n                            </span> :\n                            null\n                        }\n                    </div>\n                    {/* ---- media ----- */}\n                    <div className={classes.rowItemPrice}>\n                        {(function(){\n                            if(prices.length > 1){\n                                return (\n                                    <span>\n                                        <NumberFormat\n                                            value={prices[0]}\n                                            thousandSeparator={true}\n                                            prefix={'HK$'}\n                                            displayType={'text'}\n                                            renderText={v => v}\n                                        /> -&nbsp;\n                                        <NumberFormat\n                                            value={prices[prices.length - 1]}\n                                            thousandSeparator={true}\n                                            prefix={'HK$'}\n                                            displayType={'text'}\n                                            renderText={v => v}\n                                        />\n                                    </span>\n                                );\n                            } else {\n                                return <span>\n                                    <NumberFormat\n                                        value={prices[0]}\n                                        thousandSeparator={true}\n                                        prefix={'HK$'}\n                                        displayType={'text'}\n                                        renderText={v => v}\n                                    />\n                                </span>\n                            }\n                        })()}\n                    </div>\n                    {/* ---- Description ----- */}\n                    {(n.description || \"\").trim().length ? <div className={classes.rowItemDescription}>\n                        {(n.description || \"\").length > 80 ? n.description.substr(0,100) + \"...\" : n.description}\n                    </div> : null}\n                    {/* ---- tags ----- */}\n                    {n.tags.length ? <div className={classes.tags}>#{n.tags.join(' #')}</div> : null}\n                </div>\n            </button>;\n        });\n    };\n\n\n\n    /**\n     * \n     *  ------------------------------- GRID -------------------------------\n     * \n     */\n    const renderProductGrids = function(){\n        return products.map((n, i) => {\n            const media = (n.media || []).filter(m => /^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(m.ext));\n            const variants = n.variants || [];\n            const prices = [n.price].concat(n.variants.map(v => v.price)).filter((p, i, a) => a.indexOf(p) == i).sort((a, b) => a - b);\n            \n            return <button\n                key={i}\n                type=\"button\"\n                className={classes.item}\n                onClick={() => redirectUrl('/products/' + n.id, props.history)}\n            >\n                <div className={classes.media}>\n                    <img src={(function(){\n                        // preset thumbnail url\n                        var thumbnail = '/notFound/not-found-image.jpg';\n                        // has media?\n                        if(media.length && media[0].url){\n                            thumbnail = media[0].url.replace('.cloud/','.cloud/380xAUTO/');\n                        } else {\n                            // get from variants\n                            variants.forEach(v => {\n                                if(v.media.length > 0 && thumbnail == '/notFound/not-found-image.jpg'){\n                                    thumbnail = v.media[0].url;\n                                }\n                            });\n                        }\n                        return thumbnail;\n                    })()} width=\"100%\"/>\n                </div>\n                <div className={classes.name}>\n                    {n.name}\n                </div>\n                {/* ----- stock status ------ */}\n                <div className={classes.stockStatus}>\n                    <span style={{ color : \"#e0674f\" }}>\n                        {\n                            (n.variants || []).map(v => v.stock).reduce((c, o) => (c+o), 0) <= 0 ?\n                            <i><I18nText keyOfI18n={keyOfI18n.PRODUCT_DETAIL_OUT_OF_STOCK}/></i> :\n                            <i>&nbsp;</i>\n                        }\n                    </span>\n                </div>\n                <div className={classes.price}>\n                    {(function(){\n                        if(prices.length > 1){\n                            return (\n                                <span>\n                                    <NumberFormat\n                                        value={prices[0]}\n                                        thousandSeparator={true}\n                                        prefix={'HK$'}\n                                        displayType={'text'}\n                                        renderText={v => v}\n                                    /> -&nbsp;\n                                    <NumberFormat\n                                        value={prices[prices.length - 1]}\n                                        thousandSeparator={true}\n                                        prefix={'HK$'}\n                                        displayType={'text'}\n                                        renderText={v => v}\n                                    />\n                                </span>\n                            );\n                        } else {\n                            return <span>\n                                <NumberFormat\n                                    value={prices[0]}\n                                    thousandSeparator={true}\n                                    prefix={'HK$'}\n                                    displayType={'text'}\n                                    renderText={v => v}\n                                />\n                            </span>\n                        }\n                    })()}\n                </div>\n                {n.tags.length ? <div className={classes.tags}>#{n.tags.join(' #')}</div> : null}\n            </button>;\n        });\n    };\n\n\n\n    // ----------------------------------------------------------------  Product List ----------------------------------------------------------------\n\n    return <div>\n        <Header\n            title={<I18nText keyOfI18n={keyOfI18n.SHOP}/>}\n            route={'home/shop'}\n        />\n        <div className={classes.wrapper}>\n            {\n                !products.length ?\n                <LoadingPage/> \n                :\n                [renderMenu(), renderProductList()]\n            }\n        </div>\n    </div>;\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopOverview)"],"sourceRoot":""}