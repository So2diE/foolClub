{"version":3,"sources":["components/Feed/Overview.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","moment__WEBPACK_IMPORTED_MODULE_4__","moment__WEBPACK_IMPORTED_MODULE_4___default","html2plaintext__WEBPACK_IMPORTED_MODULE_5__","html2plaintext__WEBPACK_IMPORTED_MODULE_5___default","classnames__WEBPACK_IMPORTED_MODULE_6__","classnames__WEBPACK_IMPORTED_MODULE_6___default","_Layout_Body_Header__WEBPACK_IMPORTED_MODULE_7__","_Widget_SearchBar_original__WEBPACK_IMPORTED_MODULE_8__","_api_ApiUtils__WEBPACK_IMPORTED_MODULE_9__","_constants_actionType__WEBPACK_IMPORTED_MODULE_10__","_Layout_LoadingPage__WEBPACK_IMPORTED_MODULE_11__","_Widget_I18nText__WEBPACK_IMPORTED_MODULE_12__","_constants_locale_interface__WEBPACK_IMPORTED_MODULE_13__","_hooks_useI18nText__WEBPACK_IMPORTED_MODULE_14__","styles","createUseStyles","feeds","wrapper","display","padding","menu","width","list","marginLeft","flexWrap","searchBox","marginBottom","categoryList","listStyle","margin","& > li:first-child > button","borderTop","menuHead","menuTitle","flex","fontFamily","fontSize","fontWeight","marginTop","backgroundColor","menuItem","color","borderBottom","borderLeftWidth","borderRightWidth","borderTopWidth","textTransform","cursor","textAlign","&:hover","menuTool","transform","borderWidth","height","opened","placeholder","item","flexBasis","flexDirection","transition","boxShadow","feedTitle","feedTimestamp","& > i","feedDesc","media","& > img","objectFit","@media (max-width: 1279px)","@media (max-width: 600px)","paddingTop","& > div:first-child","connect","state","feed","sort","filter","dispatch","editFeedFilter","key","value","type","FEED_EDIT_FILTER","payload","props","classes","a","createElement","className","keyOfI18n","SEARCH","keyword","useI18nText","TYPE_KEYWORDS","FEED_CATEGORY","classNames","onClick","e","btn","target","parentNode","nextSibling","window","getComputedStyle","getPropertyValue","style","classList","none","block","getTagsCountsArray","tag","map","t","i","label","undefined","length","NO_POST_AVAILABLE","desc","h2p","sections","description","short","substr","m","test","ext","redirectUrl","id","history","src","url","replace","title","moment","time","format","concat"],"mappings":"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","file":"static/js/7.54116cd8.chunk.js","sourcesContent":["import React from 'react';\r\nimport {createUseStyles} from 'react-jss';\r\nimport {connect} from 'react-redux';\r\n\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport h2p from 'html2plaintext';\r\nimport classNames from 'classnames';\r\n\r\nimport Header from '../Layout/Body/Header';\r\nimport SearchBar from '../Widget/SearchBar/original'\r\nimport {getTagsCountsArray, refactorTextLength} from \"../../api/ApiUtils\";\r\n\r\nimport {FEED_EDIT_FILTER} from \"../../constants/actionType\";\r\nimport LoadingPage from '../Layout/LoadingPage'\r\nimport {I18nText} from \"../Widget/I18nText\";\r\nimport {keyOfI18n} from \"../../constants/locale/interface\";\r\nimport {useI18nText} from \"../../hooks/useI18nText\";\r\nimport {redirectUrl} from \"../../api/ApiUtils\";\r\n\r\n\r\nconst styles = createUseStyles({\r\n    // for desktop & tablet\r\n    feeds: {\r\n        \r\n    },\r\n    wrapper: {\r\n        display: 'flex',\r\n        padding: '0 9%'\r\n    },\r\n    menu: {\r\n        width: '25%'\r\n    },\r\n    list: {\r\n        width: 'calc(75% - 35px)',\r\n        marginLeft: 35,\r\n        display: 'flex',\r\n        flexWrap: 'wrap'\r\n    },\r\n    \r\n    searchBox: {\r\n        marginBottom: 35\r\n    },\r\n    categoryList: {\r\n        listStyle: 'none',\r\n        padding: 0,\r\n        margin: 0,\r\n        '& > li:first-child > button': {\r\n            borderTop: '1px solid rgb(169, 169, 169)'\r\n        }\r\n    },\r\n\r\n    menuHead: {\r\n        display: 'flex'\r\n    },\r\n    menuTitle: {\r\n        flex: 1,\r\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\r\n        fontSize: 19,\r\n        fontWeight: 400,\r\n        padding: 0,\r\n        marginTop: 0,\r\n        backgroundColor: 'transparent'\r\n    },\r\n    menuItem: {\r\n        width: '100%',\r\n        color: '#000',\r\n        listStyle: 'none',\r\n        borderBottom: '1px solid rgb(169, 169, 169)',\r\n        borderLeftWidth: 0,\r\n        borderRightWidth: 0,\r\n        borderTopWidth: 0,\r\n        textTransform: 'uppercase',\r\n        backgroundColor: 'transparent',\r\n        margin: 0,\r\n        cursor: 'pointer',\r\n        padding: 10,\r\n        textAlign: 'left',\r\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\r\n        fontSize: 14,\r\n        '&:hover': {\r\n            backgroundColor: '#f4f4f4'\r\n        }\r\n    },\r\n    menuTool: {\r\n        display: 'none',\r\n        transform: 'rotate(90deg)',\r\n        padding: 0,\r\n        margin: '-18px 18px 0 0',\r\n        borderWidth: 0,\r\n        width: 25,\r\n        height: 60,\r\n        cursor: 'pointer',\r\n        backgroundColor: 'transparent'\r\n    },\r\n    opened: {\r\n        transform: 'rotate(90deg) !important'\r\n    },\r\n\r\n    placeholder: {\r\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif'\r\n    },\r\n    item: {\r\n        width: 'calc(33.3% - 30px)',\r\n        backgroundColor: 'transparent',\r\n        borderWidth: 0,\r\n        flexBasis: 'auto',\r\n        //boxShadow: '0px 1px 2px rgba(0, 0, 0, 0.1)',\r\n        cursor: 'pointer',\r\n        margin : 15,\r\n        padding: 15,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        transition : \"box-shadow 0.3s\",\r\n        \"&:hover\" : {\r\n            boxShadow: '3px 3px 15px rgba(0, 0, 0, 0.1)',\r\n        }\r\n    },\r\n    feedTitle : {\r\n        textAlign : \"left\",\r\n        margin : \"10px 0px\"\r\n    },\r\n    feedTimestamp : {\r\n        textAlign : \"left\",\r\n        \"& > i\" : {\r\n            textAlign : \"left\",\r\n            fontSize : \"12px\",\r\n            color : \"#666\"\r\n        }\r\n    },\r\n    feedDesc : {\r\n        textAlign : \"left\",\r\n        fontSize : \"14px\",\r\n        color : \"#333\"\r\n    },\r\n    media: {\r\n        '& > img': {\r\n            width: '100%',\r\n            height : \"150px\",\r\n            objectFit : \"cover\"\r\n        }\r\n    },\r\n    \r\n    '@media (max-width: 1279px)': {\r\n        item: {\r\n            width: '100%'\r\n        }\r\n    },\r\n\r\n    // for mobile\r\n    '@media (max-width: 600px)': {\r\n        feeds: {\r\n            paddingTop: 25,\r\n            '& > div:first-child': {\r\n                display: 'none'\r\n            }\r\n        },\r\n        wrapper: {\r\n            display: 'block',\r\n            padding: '0 5%'\r\n        },\r\n        menu: {\r\n            width: '100%'\r\n        },\r\n        list: {\r\n            width: '100%',\r\n            marginLeft: 0\r\n        },\r\n\r\n        categoryList: {\r\n            display: 'none',\r\n            marginBottom: 20\r\n        },\r\n\r\n        menuTool: {\r\n            display: 'block',\r\n            transform: 'rotate(270deg)',\r\n            paddingTop: 45\r\n        }\r\n    }\r\n});\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    feeds: state.feed.feeds,\r\n    sort: state.feed.sort,\r\n    filter: state.feed.filter\r\n});\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n        editFeedFilter: (key, value) => dispatch({\r\n            type: FEED_EDIT_FILTER,\r\n            payload: {\r\n                key: key,\r\n                value: value,\r\n            },\r\n        }),\r\n\r\n    }\r\n);\r\n\r\n\r\nconst ResponsiveDialog = props => {\r\n    const classes = styles();\r\n    const {feeds} = props;\r\n\r\n    const renderMenu = () => <div className={classes.menu}>\r\n        <div className={classes.searchBox}>\r\n            <h3 className={classes.menuTitle}>\r\n                <I18nText keyOfI18n={keyOfI18n.SEARCH}/>\r\n            </h3>\r\n            <div>\r\n                <SearchBar\r\n                    value={props.filter.keyword}\r\n                    // onChange={value => this.onChange(value)}\r\n                    placeholder={useI18nText(keyOfI18n.TYPE_KEYWORDS)}/>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <div className={classes.menuHead}>\r\n                <h3 className={classes.menuTitle}>\r\n                    <I18nText keyOfI18n={keyOfI18n.FEED_CATEGORY}/>\r\n                </h3>\r\n                <button\r\n                    type=\"button\"\r\n                    className={classNames(classes.menuTool, 'icon-play3')}\r\n                    onClick={e => {\r\n                        const btn = e.target;\r\n                        const categoryList = btn.parentNode.nextSibling;\r\n                        const value = window.getComputedStyle(categoryList).getPropertyValue('display') == 'none' ? 'block' : 'none';\r\n                        categoryList.style.display = value;\r\n                        btn.classList[{\r\n                            none: 'remove',\r\n                            block: 'add'\r\n                        }[value]](classes.opened);\r\n                        btn.style['padding' + {\r\n                            none: 'Top',\r\n                            block: 'Bottom'\r\n                        }[value]] = '45px';\r\n                        btn.style['padding' + {\r\n                            none: 'Bottom',\r\n                            block: 'Top'\r\n                        }[value]] = 0;\r\n                    }}\r\n                ></button>\r\n            </div>\r\n            <ul className={classes.categoryList}>\r\n                {getTagsCountsArray(feeds, tag => props.editFeedFilter('tag', tag)).map((t, i) => <li\r\n                    key={i}\r\n                >\r\n                    <button\r\n                        type=\"button\"\r\n                        className={classes.menuItem}\r\n                    >{t.label}</button>\r\n                </li>)}\r\n            </ul>\r\n        </div>\r\n    </div>;\r\n    const renderList = () => <div className={classes.list}>\r\n        {feeds == undefined ? <LoadingPage/> : (\r\n            feeds.length < 1 ? <p className={classes.placeholder}>\r\n                    <I18nText keyOfI18n={keyOfI18n.NO_POST_AVAILABLE}/>\r\n            </p> : feeds.map((n, i) => {\r\n                const desc = h2p(n.sections[0].description);\r\n                const short = desc.substr(0, 70);\r\n                const media = (n.sections[0].media || []).filter(m => /^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(m.ext));\r\n                return <button\r\n                    key={i}\r\n                    type=\"button\"\r\n                    className={classes.item}\r\n                    onClick={() => redirectUrl('/articles/' + n.id, props.history)}\r\n                >\r\n                    {media.length > 0 && <div className={classes.media}>\r\n                        <img src={media[0].url.replace('.cloud/','.cloud/380xAUTO/')} width=\"100%\"/> \r\n                    </div>}\r\n                    <h5 className={classes.feedTitle}>{n.sections[0].title}</h5>\r\n                    <div className={classes.feedTimestamp}>\r\n                        <i>{moment(n.time).format('ll')}</i>\r\n                    </div>\r\n                    <p className={classes.feedDesc}>{short == desc ? short : `${short}...`}</p>\r\n                </button>;\r\n            })\r\n        )}\r\n    </div>;\r\n\r\n    return <div className={classes.feeds}>\r\n        <Header/>\r\n        <div className={classes.wrapper}>\r\n            {renderMenu()}\r\n            {renderList()}\r\n        </div>\r\n    </div>;\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResponsiveDialog)"],"sourceRoot":""}