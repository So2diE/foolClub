{"version":3,"sources":["components/Feed/Overview.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","moment__WEBPACK_IMPORTED_MODULE_4__","moment__WEBPACK_IMPORTED_MODULE_4___default","html2plaintext__WEBPACK_IMPORTED_MODULE_5__","html2plaintext__WEBPACK_IMPORTED_MODULE_5___default","classnames__WEBPACK_IMPORTED_MODULE_6__","classnames__WEBPACK_IMPORTED_MODULE_6___default","_Layout_Body_Header__WEBPACK_IMPORTED_MODULE_7__","_Widget_SearchBar_original__WEBPACK_IMPORTED_MODULE_8__","_api_ApiUtils__WEBPACK_IMPORTED_MODULE_9__","_constants_actionType__WEBPACK_IMPORTED_MODULE_10__","_Layout_LoadingPage__WEBPACK_IMPORTED_MODULE_11__","_Widget_I18nText__WEBPACK_IMPORTED_MODULE_12__","_constants_locale_interface__WEBPACK_IMPORTED_MODULE_13__","_hooks_useI18nText__WEBPACK_IMPORTED_MODULE_14__","styles","createUseStyles","feeds","wrapper","display","padding","menu","width","list","marginLeft","flexWrap","searchBox","marginBottom","categoryList","listStyle","margin","& > li:first-child > button","borderTop","menuHead","menuTitle","flex","fontFamily","fontSize","fontWeight","marginTop","backgroundColor","menuItem","color","borderBottom","borderLeftWidth","borderRightWidth","borderTopWidth","textTransform","cursor","textAlign","&:hover","menuTool","transform","borderWidth","height","opened","placeholder","item","flexBasis","boxShadow","flexDirection","media","& > img","@media (max-width: 1279px)","@media (max-width: 600px)","paddingTop","& > div:first-child","connect","state","feed","sort","filter","dispatch","editFeedFilter","key","value","type","FEED_EDIT_FILTER","payload","props","classes","a","createElement","className","keyOfI18n","SEARCH","keyword","useI18nText","TYPE_KEYWORDS","FEED_CATEGORY","classNames","onClick","e","btn","target","parentNode","nextSibling","window","getComputedStyle","getPropertyValue","style","classList","none","block","getTagsCountsArray","tag","map","t","i","label","undefined","length","NO_POST_AVAILABLE","desc","h2p","sections","description","short","substr","m","test","ext","redirectUrl","id","history","src","url","replace","title","moment","time","format","concat"],"mappings":"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","file":"static/js/6.0caa25cc.chunk.js","sourcesContent":["import React from 'react';\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\n\nimport _ from 'lodash';\nimport moment from 'moment';\nimport h2p from 'html2plaintext';\nimport classNames from 'classnames';\n\nimport Header from '../Layout/Body/Header';\nimport SearchBar from '../Widget/SearchBar/original'\nimport {getTagsCountsArray, refactorTextLength} from \"../../api/ApiUtils\";\n\nimport {FEED_EDIT_FILTER} from \"../../constants/actionType\";\nimport LoadingPage from '../Layout/LoadingPage'\nimport {I18nText} from \"../Widget/I18nText\";\nimport {keyOfI18n} from \"../../constants/locale/interface\";\nimport {useI18nText} from \"../../hooks/useI18nText\";\nimport {redirectUrl} from \"../../api/ApiUtils\";\n\n\nconst styles = createUseStyles({\n    // for desktop & tablet\n    feeds: {\n        \n    },\n    wrapper: {\n        display: 'flex',\n        padding: '0 9%'\n    },\n    menu: {\n        width: '25%'\n    },\n    list: {\n        width: 'calc(75% - 35px)',\n        marginLeft: 35,\n        display: 'flex',\n        flexWrap: 'wrap'\n    },\n    \n    searchBox: {\n        marginBottom: 35\n    },\n    categoryList: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        '& > li:first-child > button': {\n            borderTop: '1px solid rgb(169, 169, 169)'\n        }\n    },\n\n    menuHead: {\n        display: 'flex'\n    },\n    menuTitle: {\n        flex: 1,\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        fontSize: 19,\n        fontWeight: 400,\n        padding: 0,\n        marginTop: 0,\n        backgroundColor: 'transparent'\n    },\n    menuItem: {\n        width: '100%',\n        color: '#000',\n        listStyle: 'none',\n        borderBottom: '1px solid rgb(169, 169, 169)',\n        borderLeftWidth: 0,\n        borderRightWidth: 0,\n        borderTopWidth: 0,\n        textTransform: 'uppercase',\n        backgroundColor: 'transparent',\n        margin: 0,\n        cursor: 'pointer',\n        padding: 10,\n        textAlign: 'left',\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif',\n        fontSize: 14,\n        '&:hover': {\n            backgroundColor: '#f4f4f4'\n        }\n    },\n    menuTool: {\n        display: 'none',\n        transform: 'rotate(90deg)',\n        padding: 0,\n        margin: '-18px 18px 0 0',\n        borderWidth: 0,\n        width: 25,\n        height: 60,\n        cursor: 'pointer',\n        backgroundColor: 'transparent'\n    },\n    opened: {\n        transform: 'rotate(90deg) !important'\n    },\n\n    placeholder: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,sans-serif'\n    },\n    item: {\n        width: 'calc(33.3% - 30px)',\n        backgroundColor: 'transparent',\n        borderWidth: 0,\n        flexBasis: 'auto',\n        boxShadow: '0px 1px 2px rgba(0, 0, 0, 0.1)',\n        cursor: 'pointer',\n        margin: 15,\n        padding: 0,\n        display: 'flex',\n        flexDirection: 'column'\n    },\n    media: {\n        '& > img': {\n            width: '100%'\n        }\n    },\n    \n    '@media (max-width: 1279px)': {\n        item: {\n            width: '100%'\n        }\n    },\n\n    // for mobile\n    '@media (max-width: 600px)': {\n        feeds: {\n            paddingTop: 25,\n            '& > div:first-child': {\n                display: 'none'\n            }\n        },\n        wrapper: {\n            display: 'block',\n            padding: '0 5%'\n        },\n        menu: {\n            width: '100%'\n        },\n        list: {\n            width: '100%',\n            marginLeft: 0\n        },\n\n        categoryList: {\n            display: 'none',\n            marginBottom: 20\n        },\n\n        menuTool: {\n            display: 'block',\n            transform: 'rotate(270deg)',\n            paddingTop: 45\n        }\n    }\n});\n\n\nconst mapStateToProps = state => ({\n    feeds: state.feed.feeds,\n    sort: state.feed.sort,\n    filter: state.feed.filter\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n        editFeedFilter: (key, value) => dispatch({\n            type: FEED_EDIT_FILTER,\n            payload: {\n                key: key,\n                value: value,\n            },\n        }),\n\n    }\n);\n\n\nconst ResponsiveDialog = props => {\n    const classes = styles();\n    const {feeds} = props;\n\n    const renderMenu = () => <div className={classes.menu}>\n        <div className={classes.searchBox}>\n            <h3 className={classes.menuTitle}>\n                <I18nText keyOfI18n={keyOfI18n.SEARCH}/>\n            </h3>\n            <div>\n                <SearchBar\n                    value={props.filter.keyword}\n                    // onChange={value => this.onChange(value)}\n                    placeholder={useI18nText(keyOfI18n.TYPE_KEYWORDS)}/>\n            </div>\n        </div>\n        <div>\n            <div className={classes.menuHead}>\n                <h3 className={classes.menuTitle}>\n                    <I18nText keyOfI18n={keyOfI18n.FEED_CATEGORY}/>\n                </h3>\n                <button\n                    type=\"button\"\n                    className={classNames(classes.menuTool, 'icon-play3')}\n                    onClick={e => {\n                        const btn = e.target;\n                        const categoryList = btn.parentNode.nextSibling;\n                        const value = window.getComputedStyle(categoryList).getPropertyValue('display') == 'none' ? 'block' : 'none';\n                        categoryList.style.display = value;\n                        btn.classList[{\n                            none: 'remove',\n                            block: 'add'\n                        }[value]](classes.opened);\n                        btn.style['padding' + {\n                            none: 'Top',\n                            block: 'Bottom'\n                        }[value]] = '45px';\n                        btn.style['padding' + {\n                            none: 'Bottom',\n                            block: 'Top'\n                        }[value]] = 0;\n                    }}\n                ></button>\n            </div>\n            <ul className={classes.categoryList}>\n                {getTagsCountsArray(feeds, tag => props.editFeedFilter('tag', tag)).map((t, i) => <li\n                    key={i}\n                >\n                    <button\n                        type=\"button\"\n                        className={classes.menuItem}\n                    >{t.label}</button>\n                </li>)}\n            </ul>\n        </div>\n    </div>;\n    const renderList = () => <div className={classes.list}>\n        {feeds == undefined ? <LoadingPage/> : (\n            feeds.length < 1 ? <p className={classes.placeholder}>\n                    <I18nText keyOfI18n={keyOfI18n.NO_POST_AVAILABLE}/>\n            </p> : feeds.map((n, i) => {\n                const desc = h2p(n.sections[0].description);\n                const short = desc.substr(0, 150);\n                const media = (n.sections[0].media || []).filter(m => /^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(m.ext));\n                return <button\n                    key={i}\n                    type=\"button\"\n                    className={classes.item}\n                    onClick={() => redirectUrl('/articles/' + n.id, props.history)}\n                >\n                    {media.length > 0 && <div className={classes.media}>\n                        <img src={media[0].url.replace('.cloud/','.cloud/380xAUTO/')} width=\"100%\"/> \n                    </div>}\n                    <h5>{n.sections[0].title}</h5>\n                    <div>{moment(n.time).format('ll')}</div>\n                    <p style={{\n                        margin: 0,\n                        padding: 15\n                    }}>{short == desc ? short : `${short}...`}</p>\n                </button>;\n            })\n        )}\n    </div>;\n\n    return <div className={classes.feeds}>\n        <Header/>\n        <div className={classes.wrapper}>\n            {renderMenu()}\n            {renderList()}\n        </div>\n    </div>;\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResponsiveDialog)"],"sourceRoot":""}