{"version":3,"sources":["components/NavBar/index.js","components/Footer/index.js","helpers/actions.js","components/widgets/Seperator/index.js","components/widgets/Banner/index.js","components/widgets/Product/index.js","components/widgets/ArticleTile/index.js","components/widgets/index.js","scenes/Home/index.js","scenes/Product/index.js","scenes/Product/Detail/index.js","scenes/Blog/index.js","scenes/Blog/Detail/index.js","scenes/404/index.js","helpers/formValidator.js","scenes/Checkout/index.js","scenes/User/Profile/index.js","scenes/User/index.js","scenes/User/Register/index.js","scenes/User/Login/index.js","scenes/Cart/index.js","scenes/Checkout/OrderSnapshot/index.js","scenes/Page/index.js","scenes/Routes/index.js","scenes/App/index.js","serviceWorker.js","helpers/reducers/product.js","helpers/reducers/article.js","helpers/reducers/user.js","helpers/reducers/shop.js","helpers/reducers/cart.js","helpers/reducers/home.js","helpers/reducers/index.js","index.js","config.js"],"names":["connect","state","shop","session","cart","props","location","useLocation","useState","hasShadow","setHasShadow","navBarExpanded","setNavBarExpanded","useEffect","window","onscroll","pageYOffset","className","style","boxShadow","border","logo","length","src","name","to","fontWeight","pathname","startsWith","items","onClick","settings","description","fontawesomeMap","facebook","instagram","twitter","youtube","pinterest","socialLinks","links","social","Object","keys","filter","s","map","key","href","target","Date","getFullYear","Separator","id","width","height","backgroundColor","styles","ownProps","homeContext","home","dispatch","setHomeContext","payload","type","actions","OS","Oneshop","articleInfoExtractor","article","title","sections","thumbnail","media","url","filters","ordering","tags","keywords","ids","collections","get","then","rows","catch","error","alert","fetchArticles","properties","duration","undefined","transitionDuration","infinite","indicators","arrows","a","idx","backgroundImage","renderSlider","display","alignItems","justifyContent","size","color","loading","productInfoExtractor","product","variants","v","price","merchandise","fetchProducts","cols","gap","loop","p","Item","currency","toUpperCase","toFixed","Banner","Product","Seperator","ArticleTile","replace","substr","layout","content","widgetSettings","Widget","widget","widgets","products","setProducts","status","setStatus","toggleLoading","page","Math","ceil","concat","console","extractThumbnail","thumbnail_url","variantsHasThumbnails","oldStatus","newStatus","padding","setCartItems","params","useParams","setProduct","setVariants","addingToCart","redirect","setRedirect","selectedVariant","setSelectedVariant","setLoading","selectOption","selectedOption","selectedValue","oldVariants","newVariants","forEach","valueName","oldSelectedVariant","newSelectedVariant","getSelectedVariant","targetVariant","desc","identical","split","o","reduce","optionSet","option","assign","options","optionName","optionValue","selectedVariantObj","urls","m","push","index","indexOf","stock","t","values","async","variant_id","qty","item","add","disabled","articles","setArticles","thumbnailExtractor","sectionHasMedia","captionExtractor","section","time","toLocaleDateString","ArticleDetail","setArticle","parseHTML","NotFound","validate","path","form","rule","findRuleByPath","value","getValueAtObjectByPath","getFieldError","rules","contact","first_name","field_name","regex","required","last_name","email","phone","payment","card","csc","exp_date","coupons","shipping","address","country","drill","paths","obj","shift","prototype","toString","call","deleteValueAtObjectByPath","i","pop","setValueAtObjectByPath","_obj","field","assignHandler","prop","e","RegExp","test","user","step","setStep","shippingMethods","setShippingMethods","isLoading","setIsLoading","preview","setPreview","paid","setPaid","shippings","notes","setForm","formErrors","setFormErrors","countries","getCodeList","makePayment","trim","slice","consumer","checkout","order","create","Array","isArray","message","join","setFormValue","oldForm","newForm","getFormErrorView","error_msg","validateField","oldFormErrors","newFormErrors","isFormValid","isValid","renderStep","placeholder","onChange","onBlur","toLowerCase","label","shipping_methods","fetch","method","customShippings","json","data","code","charge","address_required","shipping_address_required","auto_ship","body","JSON","stringify","autoShippings","rates","loadShippingMethods","maxLength","previewForm","messages","previewOrder","match","sub_total","total","shipping_fee","breakdowns","discounts","d","data-tip","substring","amount","gross_total","log","profile","setProfile","updateFormData","formChanged","hasChanges","update","logout","User","Profile","setEmail","password","setPassword","confirmPassword","setConfirmPassword","firstName","setFirstName","lastName","setLastName","event","signUp","passwd","confpasswd","login","removeItem","itemId","remove","refreshCart","editItemQty","alt","variant","initCart","cartId","resetCart","Cookies","set","discounted_amount","html","fileName","file","text","setText","fetchFile","parser","withRouter","NavBar","component","Home","exact","ProductDetail","Blog","BlogDetail","Page","Register","Login","from","Checkout","OrderSnapshot","Cart","setShop","oneshop","cookies","setupCart","getShop","cart_items","validateCart","Boolean","hostname","initState","best_sellers","require","default","combineReducers","action","OS_Config","store","createStore","reducer","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","numberToShow","margin","policies","shipping_policy","privacy_policy","terms_and_conditions"],"mappings":"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","file":"static/js/main.db76d2af.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport './navBar.css';\nimport { connect } from 'react-redux';\n\n\nconst mapStateToProps = state => ({\n    shop: state.shop.session,\n    cart: state.cart\n});\n\n\nfunction NarBar(props){\n\n    // get window href\n    let location = useLocation();\n    // navBar style override state\n    let [hasShadow, setHasShadow] = useState(false);\n    // expand status\n    let [navBarExpanded, setNavBarExpanded] = useState(false);\n    // get shop\n    const { shop, cart } = props;\n    \n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // scroll listener\n        window.onscroll = function() {\n            setHasShadow(window.pageYOffset > 69);\n        };\n        // remove listener\n        return () => { window.onscroll = null; };\n    }, []);\n    // ---------------- /LIFECYCLE ----------------\n\n    return (\n        <div className=\"navBar\" style={{ \n            boxShadow : hasShadow ? \"0px 1px 8px #dddddd\" : \"none\",\n            border : \"0.5px solid #dddddd\"\n        }}>\n\n            {/* ------------------ Desktop Nav Bar -----------------*/}\n            <div className=\"navBar-wrapper\">\n                <div className=\"navBar-item title\">\n                    {shop.logo.length > 0 ? <img className=\"logo\" src={shop.logo} /> : null}\n                    <h2>{shop.name}</h2>\n                </div>\n                <div className=\"navBar-item\">\n                    <Link to='/' style={{fontWeight:location.pathname === \"/\" ? 500 : 300}}>Home</Link>\n                </div>\n                <div className=\"navBar-item\">\n                    <Link to='/blogs' style={{fontWeight:location.pathname.startsWith(\"/blogs\") ? 500 : 300}}>Blog</Link>\n                </div>\n                <div className=\"navBar-item\">\n                    <Link to='/products' style={{fontWeight:location.pathname.startsWith(\"/products\") ? 500 : 300}}>Shop</Link>\n                </div>\n                <div className=\"navBar-item\">\n                    <Link to='/cart'>\n                        {\n                            cart.items.length > 0 ?\n                            <span className=\"count\">\n                                {cart.items.length}\n                            </span> : null\n                        }\n                        <i className=\"fas fa-shopping-cart\"></i>\n                    </Link>\n                </div>\n                <div className=\"navBar-item\">\n                    <Link to='/users'>\n                        <i className=\"fas fa-user\"></i>\n                    </Link>\n                </div>\n            </div>\n            {/* ------------------ /Desktop Nav Bar -----------------*/}\n\n\n            {/* ------------------ Mobile Nav Bar -----------------*/}\n            <div className=\"navBar-wrapper-mobile\">\n                <div className=\"top-body\">\n                    <button className=\"expand-btn\" onClick={() => setNavBarExpanded(!navBarExpanded)}>\n                        {navBarExpanded ? <i className=\"fas fa-times\"></i> : <i className=\"fas fa-bars\"></i>}\n                    </button>\n                    <div className=\"navBar-item title\">\n                        {shop.logo.length > 0 ? <img className=\"logo\" src={shop.logo} /> : null}\n                        <h2>{shop.name}</h2>\n                    </div>\n                    <div className=\"fast-link\">\n                        <Link to='/cart' onClick={() => setNavBarExpanded(false)}>\n                            {\n                                cart.items.length > 0 ?\n                                <span className=\"count\">\n                                    {cart.items.length}\n                                </span> : null\n                            }\n                            <i className=\"fas fa-shopping-cart\"></i>\n                        </Link>\n                    </div>\n                    <div className=\"fast-link\">\n                        <Link to='/users' onClick={() => setNavBarExpanded(false)}>\n                            <i className=\"fas fa-user\"></i>\n                        </Link>\n                    </div>\n                </div>\n                {/* ------------ Expandable list ------------ */}\n                <div className={`navBar-item-list ${navBarExpanded ? \"expand\" : \"\"}`}>\n                    <div className=\"navBar-item\">\n                        <Link to='/' style={{fontWeight:location.pathname === \"/\" ? 500 : 300}} onClick={() => setNavBarExpanded(false)}>Home</Link>\n                    </div>\n                    <div className=\"navBar-item\">\n                        <Link to='/blogs' style={{fontWeight:location.pathname.startsWith(\"/blogs\") ? 500 : 300}} onClick={() => setNavBarExpanded(false)}>Blog</Link>\n                    </div>\n                    <div className=\"navBar-item\">\n                        <Link to='/products' style={{fontWeight:location.pathname.startsWith(\"/products\") ? 500 : 300}} onClick={() => setNavBarExpanded(false)}>Shop</Link>\n                    </div>\n                </div>\n                {/* ------------ Expandable list ------------ */}\n            </div>\n            {/* ------------------/ Mobile Nav Bar -----------------*/}\n\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps)(NarBar);","import React from 'react';\nimport {  Link } from 'react-router-dom';\nimport './footer.css';\nimport { connect } from 'react-redux';\n\n\nconst mapStateToProps = state => ({\n    shop: state.shop.session,\n    settings : state.shop.settings\n});\n\n\nfunction Footer(props){\n\n    // get shop\n    let { shop, settings } = props;\n    \n    return <div className=\"footer\">\n        <div className=\"cols\">\n            <div className=\"col shop\">\n                <div className=\"shop-title\">\n                    {shop.name}\n                </div>\n                <div className=\"shop-desc\">\n                    {shop.description}\n                </div>\n            </div>\n            <div className=\"col links\">\n                <Link to=\"/\">\n                    Home\n                </Link>\n                <Link to=\"/blogs\">\n                    Blog\n                </Link>\n                <Link to=\"/products\">\n                    Shop\n                </Link>\n                <Link to=\"/cart\">\n                    Cart\n                </Link>\n                <Link to=\"/users\">\n                    My Account\n                </Link>\n            </div>\n            <div className=\"col links\">\n                <Link to=\"/pages/terms_and_conditions\">\n                    Terms and Conditions\n                </Link>\n                <Link to=\"/pages/privacy_policy\">\n                    Privacy Policy\n                </Link>\n                <Link to=\"/pages/shipping_policy\">\n                    Shipping Policy\n                </Link>\n            </div>\n            <div className=\"col links social\">\n                {(() => {\n                    const fontawesomeMap = {\n                        facebook  : \"fab fa-facebook\",\n                        instagram : \"fab fa-instagram\",\n                        twitter   : \"fab fa-twitter\",\n                        youtube   : \"fab fa-youtube\",\n                        pinterest : \"fab fa-pinterest\"\n                    };\n                    const socialLinks = ((settings || {}).links || {}).social || {};\n                    return Object.keys(socialLinks)\n                    .filter(s => socialLinks[s].length > 0 || socialLinks[s] != \"#\").map(s => (\n                        <a key={`footer-social-link-${s}`} href={socialLinks[s]} target=\"_blank\">\n                            <i className={fontawesomeMap[s]}></i>\n                        </a>\n                    ));\n                })()}\n            </div>\n        </div>\n        <div className=\"copyright\">\n            <span>Copyright@{new Date().getFullYear()} {shop.name}</span>\n        </div>\n    </div>\n\n}\n\nexport default connect(mapStateToProps)(Footer);","export default {\n    SET_SHOP         : 'SET_SHOP',\n    SET_USER         : 'SET_USER',\n    SET_PRODUCTS     : 'SET_PRODUCTS',\n    ADD_BEST_SELLERS : 'ADD_BEST_SELLERS',\n    SET_ARTICLES     : 'SET_ARTICLES'   ,\n    INIT_CART        : 'INIT_CART',\n    SET_CART_ITEMS   : 'SET_CART_ITEMS',\n    SET_HOME_CONTEXT : 'SET_HOME_CONTEXT'\n}","import React from 'react';\n\nfunction Separator(props) {\n    return <div id={props.id} \n                style={{ \n                    width : \"100%\", \n                    height : 1, \n                    backgroundColor : \"#dfdfdf\", \n                    ...props.styles\n            }}></div>;\n}\n\nexport default Separator;","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport actions from '../../../helpers/actions';\nimport './widget.banner.css';\nimport Oneshop from 'oneshop.web';\nimport { MoonLoader } from 'react-spinners';\nimport { Slide } from 'react-slideshow-image';\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = (state, ownProps) => ({\n    homeContext : state.home,\n    ...ownProps\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    setHomeContext : (key, payload) => dispatch({\n        type    : actions.SET_HOME_CONTEXT,\n        payload : payload,\n        key\n    }),\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Banner(props){\n\n    // get cached\n    const { setHomeContext, homeContext, id } = props;\n    // get oneshop instance\n    const OS = new Oneshop();\n\n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // not fetch yet?\n        if(!homeContext[id]) fetchArticles();\n    }, []);\n\n    function fetchArticles(){\n        // set filters container\n        let filters = {};\n        // filters\n        if((props.ordering || \"\").length > 0) filters.ordering = props.ordering;\n        if((props.tags || \"\").length > 0) filters.tags = props.tags;\n        if((props.keywords || \"\").length > 0) filters.keywords = props.keywords;\n        if((props.ids || \"\").length > 0) filters.ids = props.ids;\n        if((props.collections || \"\").length > 0) filters.collections = props.collections;\n        // get articles\n        OS.article.get({...filters})\n        // got articles\n        .then(rows => setHomeContext(id, rows))\n        // db error\n        .catch(error => {\n            alert(\"Failed to get featured article\");\n        });\n    }\n    // ---------------- /LIFECYCLE ----------------\n    \n\n    // ---------------- RENDERING ----------------\n    function renderSlider(){\n        // define properties\n        const properties = {\n           duration : props.duration != undefined ? props.duration : 5000,\n           transitionDuration : props.transitionDuration != undefined ? props.transitionDuration : 300,\n           infinite : props.infinite != undefined ? props.infinite : false,\n           indicators : props.indicators != undefined ? props.indicators : true,\n           arrows : props.arrows != undefined ? props.arrows : true\n       };\n       return <Slide {...properties}>\n            {(homeContext[id] || []).map((a, idx) => (\n                <Link key={`slide-image-${idx}`} to={`/blogs/${a.id}`}>\n                    <div className=\"each-slide\">\n                        <div style={{ backgroundImage : `url(${articleInfoExtractor(a).thumbnail})`}}>\n                            <h1>{articleInfoExtractor(a).title}</h1>\n                        </div>\n                    </div>\n                </Link>\n            ))}\n        </Slide>;\n    }\n\n    function articleInfoExtractor(article){\n        // set thumbnail\n        return {\n            title     : article.sections[0].title,\n            thumbnail : ((((article.sections || []).filter(s => s.media.length > 0) || [])[0] || {}).media || [])[0].url || \"\"\n        }\n    }\n    // ---------------- /RENDERING ----------------\n\n    // banner data loaded?\n    return homeContext[id] ? <div className=\"widget-banner\" style={{...props.styles}}>\n        {renderSlider()}\n    </div> : \n    <div style={{ width : \"100%\", height : 500, display:\"flex\", alignItems : \"center\", justifyContent : \"center\" }}>\n        <MoonLoader \n            size={20}\n            color={\"#000000\"}\n            loading={true}\n        />\n    </div>;\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Banner);","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport actions from '../../../helpers/actions';\nimport './widget.product.css';\nimport Oneshop from 'oneshop.web';\nimport { MoonLoader } from 'react-spinners';\nimport Carousel from 'react-grid-carousel'\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = (state, ownProps) => ({\n    homeContext : state.home,\n    shop        : state.shop.session,\n    ...ownProps\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    setHomeContext : (key, payload) => dispatch({\n        type    : actions.SET_HOME_CONTEXT,\n        payload : payload,\n        key\n    }),\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Product(props){\n\n    // get cached\n    const { setHomeContext, homeContext, id, shop } = props;\n    // get oneshop instance\n    const OS = new Oneshop();\n\n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // not fetch yet?\n        if(!homeContext[id]) fetchProducts();\n    }, []);\n\n    function fetchProducts(){\n        // set filters container\n        let filters = {};\n        // filters\n        if((props.ordering || \"\").length > 0) filters.ordering = props.ordering;\n        if((props.tags || \"\").length > 0) filters.tags = props.tags;\n        if((props.keywords || \"\").length > 0) filters.keywords = props.keywords;\n        if((props.ids || \"\").length > 0) filters.ids = props.ids;\n        if((props.collections || \"\").length > 0) filters.collections = props.collections;\n        // get \n        OS.merchandise.get({...filters})\n        // got products\n        .then(rows => setHomeContext(id, rows))\n        // db error\n        .catch(error => {\n            alert(\"Failed to get products\");\n        });\n    }\n    // ---------------- /LIFECYCLE ----------------\n    \n    // ---------------- RENDERING ----------------\n    function renderSlider(){\n        return <Carousel cols={props.cols || 5} rows={props.rows || 1} gap={15} loop>\n            {(homeContext[id] || []).map((p, idx) => (\n                <Carousel.Item key={`slide-image-${idx}`} >\n                    <Link to={`/products/${p.id}`}>\n                        <div className=\"product-grid\">\n                            <img src={productInfoExtractor(p).thumbnail} />\n                            <div className=\"title\">{productInfoExtractor(p).title}</div>\n                            <div className=\"price\">{shop.currency.toUpperCase()} {productInfoExtractor(p).price.toFixed(2)}</div>\n                        </div>\n                    </Link>\n                </Carousel.Item>\n            ))}\n        </Carousel>;\n   }\n\n   function productInfoExtractor(product){\n        // set thumbnail\n        return {\n            title     : product.name,\n            thumbnail : ((((product.variants || []).filter(v => v.media.length > 0) || [])[0] || {}).media || [])[0].url || \"\",\n            price     : product.price\n        }\n   }\n   // ---------------- /RENDERING ----------------\n\n    // product data loaded?\n    return homeContext[id] ? <div className=\"widget-product\" style={{...props.styles}}>\n        <h1>{props.title}</h1>\n        {renderSlider()}\n    </div> : \n    <div style={{ width:\"100%\", height:500, display:\"flex\", alignItems:\"center\", justifyContent:\"center\" }}>\n        <MoonLoader \n            size={20}\n            color={\"#000000\"}\n            loading={true}\n        />\n    </div>;\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport actions from '../../../helpers/actions';\nimport './widget.article.tile.css';\nimport Oneshop from 'oneshop.web';\nimport { MoonLoader } from 'react-spinners';\nimport Carousel from 'react-grid-carousel';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = (state, ownProps) => ({\n    homeContext : state.home,\n    ...ownProps\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    setHomeContext : (key, payload) => dispatch({\n        type    : actions.SET_HOME_CONTEXT,\n        payload : payload,\n        key\n    }),\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Article(props){\n\n    // get cached\n    const { setHomeContext, homeContext, id } = props;\n    // get oneshop instance\n    const OS = new Oneshop();\n\n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // not fetch yet?\n        if(!homeContext[id]) fetchArticles();\n    }, []);\n\n    function fetchArticles(){\n        // set filters container\n        let filters = {};\n        // filters\n        if((props.ordering || \"\").length > 0) filters.ordering = props.ordering;\n        if((props.tags || \"\").length > 0) filters.tags = props.tags;\n        if((props.keywords || \"\").length > 0) filters.keywords = props.keywords;\n        if((props.ids || \"\").length > 0) filters.ids = props.ids;\n        if((props.collections || \"\").length > 0) filters.collections = props.collections;\n        // get \n        OS.article.get({...filters})\n        // got articles\n        .then(rows => setHomeContext(id, rows))\n        // db error\n        .catch(error => {\n            alert(\"Failed to get articles\");\n        });\n    }\n    // ---------------- /LIFECYCLE ----------------\n    \n    // ---------------- RENDERING ----------------\n    function renderSlider(){\n       return <Carousel cols={props.cols || 2} rows={props.rows || 2} gap={15} loop>\n            {(homeContext[id] || []).map((a, idx) => (\n                <Carousel.Item  key={`slide-image-${idx}`}>\n                    <Link to={`/blogs/${a.id}`}>\n                        <div className=\"article-grid\">\n                            <div className=\"thumb\">\n                                <img src={articleInfoExtractor(a).thumbnail} />\n                            </div>\n                            <div className=\"title\">{articleInfoExtractor(a).title}</div>\n                            <div className=\"desc\">{articleInfoExtractor(a).description.replace(/<[^>]*>?/gm, '').substr(0, 70) + \"...\"}</div>\n                        </div>\n                    </Link>\n                </Carousel.Item>\n            ))}\n        </Carousel>;\n   }\n\n   function articleInfoExtractor(article){\n        // set thumbnail\n        return {\n            title       : article.sections[0].title,\n            description : article.sections[0].description,\n            thumbnail   : ((((article.sections || []).filter(s => s.media.length > 0) || [])[0] || {}).media || [])[0].url || \"\"\n        }\n    }\n   // ---------------- /RENDERING ----------------\n\n    // article data loaded?\n    return homeContext[id] ? <div className=\"widget-article\" style={{...props.styles}}>\n        <h1>{props.title}</h1>\n        {renderSlider()}\n    </div> : \n    <div style={{ width:\"100%\", height:500, display:\"flex\", alignItems:\"center\", justifyContent:\"center\" }}>\n        <MoonLoader \n            size={20}\n            color={\"#000000\"}\n            loading={true}\n        />\n    </div>;\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Article);","import Seperator from './Seperator';\nimport Banner from './Banner';\nimport Product from './Product';\nimport ArticleTile from './ArticleTile';\n\n\nexport default { \n    Banner, \n    Product, \n    Seperator, \n    ArticleTile \n};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './home.css';\nimport { connect } from 'react-redux';\nimport actions from '../../helpers/actions';\nimport { MoonLoader } from 'react-spinners';\nimport widgets from '../../components/widgets';\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    session : state.shop.session,\n    settings : state.shop.settings\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Home(props){\n\n    // get settings\n    let { settings } = props;\n    // get layout\n    const layout = settings.layout;\n\n    return (\n        <div className=\"home\">\n            {layout.content.map((widgetSettings, idx) => {\n                // get widget\n                let Widget = widgetSettings.widget != undefined && widgetSettings.widget.length > 0 ? widgets[widgetSettings.widget] : undefined;\n                // widget found?\n                if(Widget != undefined) {\n                    // return widget\n                    return <Widget \n                                key={`widget-${widgetSettings.widget}-${idx}`} \n                                id={`widget-${widgetSettings.widget}-${idx}`} \n                                {...widgetSettings}\n                            />;\n                }\n            })}\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps)(Home);","import React, { useState, useEffect } from 'react';\nimport Oneshop from 'oneshop.web';\nimport { Link } from 'react-router-dom';\nimport './products.css';\nimport { connect } from 'react-redux';\nimport actions from '../../helpers/actions';\nimport { MoonLoader } from 'react-spinners';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    products : state.product.products\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setProducts : (products) => dispatch({\n        type    : actions.SET_PRODUCTS,\n        payload : products\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Product(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get products\n    let { products } = props;\n    // statuses\n    var [status, setStatus] = useState({\n        loading : false\n    });\n\n\n\n    // ----------------------- LIFECYCYLE -----------------------\n    useEffect(() => {\n        // active fetch products if no product is loaded\n        if(!(products || []).length) fetchProducts();\n    }, []);\n\n\n    function fetchProducts(){\n        // start loading\n        toggleLoading();\n        // fetch products\n        OS.merchandise.get({\n            page : Math.ceil(products.length/15) + 1\n        })\n        // got products\n        .then((rows) => {\n            // set products\n            props.setProducts(products.concat(rows));\n            // has result\n            toggleLoading();\n        })\n        // error\n        .catch(error => console.error(error));\n    }\n    // ----------------------- /LIFECYCYLE -----------------------\n\n\n\n    // ----------------------- HELPERS -----------------------\n    function extractThumbnail(p){\n        let thumbnail_url = \"https://via.placeholder.com/150\";\n        let variantsHasThumbnails = p.variants.filter(v => v.media.length > 0);\n        if(variantsHasThumbnails.length > 0) thumbnail_url = variantsHasThumbnails[0].media[0].url;\n        return thumbnail_url;\n    }\n\n    function toggleLoading(){\n        setStatus(oldStatus => {\n            var newStatus = {...oldStatus};\n            // finish loading\n            newStatus.loading = !newStatus.loading;\n            // return new status set\n            return newStatus;\n        });\n    }\n    // ----------------------- /HELPERS -----------------------\n\n\n    return (\n        <div className=\"products\">\n            <h1>Products - All</h1>\n            <div className=\"list\">\n                {(products || []).map((p, idx) => (\n                    <div key={`product-${idx}`} className=\"item\">\n                        <Link to={`/products/${p.id}`}>\n                            <div className=\"item-wrapper\">\n                                <div className=\"thumbnail\">\n                                    <img src={extractThumbnail(p)} />\n                                </div>\n                                <div className=\"info\">\n                                    <div className=\"name\">{p.name}</div>\n                                    <div className=\"price\">HKD {p.price}</div>\n                                </div>\n                            </div>\n                        </Link>\n                    </div>\n                ))}\n            </div>\n            <div style={{ width:\"100%\", display:\"flex\", justifyContent: \"center\", alignItems :\"center\", padding : \"30px 0px\" }}>\n                {\n                    status.loading === false ? \n                    <button className=\"load-more-btn\" onClick={fetchProducts}>\n                        Load more\n                    </button> :\n                    <MoonLoader \n                        size={20}\n                        color={\"#000000\"}\n                        loading={true}\n                    /> \n                }\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);","import React, { useState, useEffect } from 'react';\nimport Oneshop from 'oneshop.web';\nimport { useParams, Redirect, Link } from 'react-router-dom';\nimport { Slide } from 'react-slideshow-image';\nimport './product.detail.css';\nimport { MoonLoader } from 'react-spinners';\nimport { connect } from 'react-redux';\nimport actions from '../../../helpers/actions';\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    cart : state.cart,\n    shop : state.shop.session\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCartItems : (items) => dispatch({\n        type    : actions.SET_CART_ITEMS,\n        payload : items\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction ProductDetail(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get params\n    const params = useParams();\n    // products\n    let [product, setProduct] = useState({});\n    // setup variants \n    let [variants, setVariants] = useState({});\n    // statuses\n    let [status, setStatus] = useState({ loading : false, addingToCart : false });\n    // setup redirect\n    let [redirect, setRedirect] = useState(null);\n    // setup selected variant\n    let [selectedVariant, setSelectedVariant] = useState({});\n\n    // get cart\n    let { cart, shop } = props;\n\n\n    // ----------------------- LIFECYCYLE -----------------------\n    useEffect(() => {\n        // not loading?\n        if(!status.loading && !Object.keys(product).length){\n            // start loading\n            setLoading(true);\n            // fetch product by id\n            OS.merchandise.get({page:status.page, ids: params.id})\n            // got products\n            .then(rows => {\n                // no product found\n                if(!rows.length) setRedirect(\"/notfound\");\n                // set product\n                setProduct((() => {\n                    // manipulate product\n                    let p = {...rows[0]};\n                    // variants\n                    p.variants = p.variants.map(v => {\n                        // transform description\n                        v.description = v.description.split(\",\").map(o => ({ [o.split(\":\")[0]] : o.split(\":\")[1] })).reduce((optionSet, option) => Object.assign(optionSet, option), {});\n                        return v;\n                    });\n                    return p;\n                })());\n                // set variants\n                setVariants(function(){\n                    // extract options\n                    let options = {};\n                    (rows[0].variants || []).forEach(v => {\n                        Object.keys(v.description).forEach(o=> {\n                            // option name\n                            let optionName = o;\n                            // option value\n                            let optionValue = v.description[o];\n                            // if its undefined, set it as an empty Object\n                            options[optionName] = options[optionName] || {};\n                            // set value \n                            options[optionName][optionValue] = options[optionName][optionValue] || Object.keys(options[optionName]).length == 0;\n                        });\n                    });\n                    return options;\n                }());\n                // finish loading\n                setLoading(false);\n            })\n            // error\n            .catch(error => {\n                // finish loading\n                setLoading(false);\n                // not found\n                setRedirect(\"/notfound\");\n            });\n        }\n        // pre-select variant\n        if(Object.keys(variants).length > 0 && !Object.keys(selectedVariant).length){\n            Object.keys(variants).forEach(v => {\n                Object.keys(variants[v]).forEach(o => {\n                    if(variants[v][o] === true) {\n                        selectOption(v, o);\n                    }\n                });\n            });\n        }\n    }, [variants]);\n    // ----------------------- /LIFECYCYLE -----------------------\n\n\n\n\n    // ----------------------- HELPERS -----------------------\n    function setLoading(loading, cart = false){\n        setStatus(oldStatus => {\n            let newStatus = {...oldStatus};\n            // settings carts\n            if(cart){\n                newStatus.addingToCart = loading;\n            } else {\n                newStatus.loading = loading;\n            }\n            return newStatus;\n        });\n    }\n\n    function selectOption(selectedOption, selectedValue){\n        // alter variant states\n        setVariants(oldVariants => {\n            let newVariants = {...oldVariants};\n            Object.keys(newVariants[selectedOption]).forEach(valueName => (newVariants[selectedOption][valueName] = valueName == selectedValue));\n            return newVariants;\n        });\n        // set selected variants\n        setSelectedVariant(oldSelectedVariant => {\n            // clone options\n            let newSelectedVariant = {...oldSelectedVariant};\n            // save selected value\n            newSelectedVariant[selectedOption] = selectedValue;\n            // update\n            return newSelectedVariant;\n        });\n    }\n\n    function getSelectedVariant(){\n        // set variant container\n        let targetVariant = null;\n        // search for variant\n        ((product || {}).variants || []).forEach(v => {\n            // get description {}\n            let desc = v.description;\n            // at least identical in key length\n            if(Object.keys(selectedVariant).length === Object.keys(desc).length){\n                // set flag\n                let identical = true;\n                // compare with all keys\n                Object.keys(desc).forEach(key => {\n                    // values from desc\n                    let descVal = desc[key];\n                    // compare, set to false with no mercy\n                    if(descVal != selectedVariant[key]) identical = false;\n                });\n                if(identical) targetVariant = v;\n            }\n        });\n        return targetVariant;\n    }\n\n    async function addToCart(){\n        // start loading\n        setLoading(true, true);\n        // get selected variant Obj\n        let variant_id = (getSelectedVariant() || {}).id || null;\n        // get id?\n        if(variant_id){\n            // pre set qty\n            let qty = 0;\n            // existed in cart?\n            cart.items.forEach(item => {\n                // clone qty is already exists\n                if(item.id == variant_id) qty = item.qty;\n            });\n            // add to cart\n            try {\n                // success?\n                await OS.cart.item.add(\n                    cart.id, \n                    {\n                        id  : variant_id, \n                        qty : qty+1\n                    }\n                );\n                // get cart items\n                let items = await OS.cart.item.get(cart.id);\n                // set cart items\n                props.setCartItems(items);\n                // finish loading\n                setLoading(false, true);\n            } catch(error) {\n                // show alert msg\n                alert(\"Failed to add item to cart\");\n                // finish loading\n                setLoading(false, true);\n            }\n        }\n    }\n    // ----------------------- /HELPERS -----------------------\n\n\n\n\n    // ----------------------- RENDERING -----------------------\n    function renderSlides(){\n        // define properties\n        const properties = {\n            duration : 5000,\n            transitionDuration : 300,\n            infinite :  false,\n            indicators : true,\n            arrows : true\n        };\n        return <div className=\"slide-container\">\n            <Slide {...properties}>\n                {(() => {\n                    // urls container\n                    let urls = [];\n                    // append variant media to urls container\n                    (product.variants || []).forEach(v => v.media.forEach(m => urls.push(m.url)));\n                    // return slides\n                    return urls.filter((url, index) => urls.indexOf(url) === index).map((url, idx) => (\n                        <div key={`slide-image-${idx}`} className=\"each-slide\">\n                            <div style={{ backgroundImage : `url(${url})`}}>\n                            </div>\n                        </div>\n                    ));\n                })()}\n            </Slide>\n        </div>\n    }\n\n    function renderVariants(){\n        // only have one variant and one option, no need to choose\n        if(Object.keys(variants).length == 1 && Object.values(variants).length == 1){\n            return null;\n        } else {\n            return Object.keys(variants).map(o => <div key={`variant-list-${o}`} className=\"list\">\n                <h4>{o.toUpperCase()}</h4>\n                <div className=\"items\">\n                    {Object.keys(variants[o]).map(v => {\n                        return <div onClick={() => {selectOption(o, v)}} key={`variant-${o}-${v}`} className={`item ${variants[o][v] === true ? \"selected\" : \"\"}`}>{v}</div>\n                    })}\n                </div>\n            </div>);   \n        }\n    }\n    // ----------------------- /RENDERING -----------------------\n\n    // get selected variant's object\n    let selectedVariantObj = getSelectedVariant() || {};\n\n    return status.loading ? \n        <div style={{ width : \"100%\", height : \"100vh\", display : \"flex\", justifyContent : \"center\", alignItems : \"center\" }}>\n            <MoonLoader \n                size={20}\n                color={\"#000000\"}\n                loading={true}\n            /> \n        </div>\n        :\n        (\n            // product not found? back to product list\n            redirect ? <Redirect to={redirect} /> : \n            (\n                <div className=\"product-detail\">\n                    <div className=\"rows\">\n                        <div className=\"back-button-wrapper\">\n                            <Link to={\"/products\"}>\n                                <i className=\"fas fa-chevron-left\"></i>\n                                Back to Products\n                            </Link>\n                        </div>\n                        <div className=\"upper-row\">\n                            {renderSlides()}\n                        </div>\n                        <div className=\"lower-row\">\n                            <div className=\"description\">\n                                <h1>{product.name}</h1>\n                                <div className=\"price\">\n                                    {shop.currency.toUpperCase()} {(selectedVariantObj.price || 0).toFixed(2)}\n                                    {selectedVariantObj.stock == 0 ? <span className=\"out-of-stock\">Out of stock</span> : null}\n                                </div>\n                                <p>{product.description}</p>\n                                <div className=\"tags\">\n                                    {(product.tags || []).map(t => <div key={`product-tag-${t}`} className=\"tag\">#{t}</div>)}\n                                </div>\n                            </div>\n                            <div className=\"gap\" style={{width:\"50px\"}}></div>\n                            <div className=\"variants\">\n                                {renderVariants()}\n                                <button className=\"add-to-cart\" onClick={addToCart} disabled={selectedVariantObj.stock == 0 || status.addingToCart}>\n                                    {\n                                        status.addingToCart ? \n                                        <MoonLoader \n                                            size={20}\n                                            color={\"white\"}\n                                            loading={true}\n                                        /> :\n                                        \"Add to Cart\"\n                                    }\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDetail);","import React, { useState, useEffect } from 'react';\nimport Oneshop from 'oneshop.web';\nimport { Link } from 'react-router-dom';\nimport './blog.css';\nimport { connect } from 'react-redux';\nimport actions from '../../helpers/actions';\nimport { MoonLoader } from 'react-spinners';\n// import parseHTML from 'html-react-parser';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    articles : state.article.articles\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setArticles : (articles) => dispatch({\n        type    : actions.SET_ARTICLES,\n        payload : articles\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\n\nfunction Blog(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get articles\n    let { articles } = props;\n    // statuses\n    var [status, setStatus] = useState({\n        loading : false\n    });\n\n\n    // ----------------------- LIFECYCYLE -----------------------\n    useEffect(() => {\n        // active fetch articles if no product is loaded\n        if(!(articles || []).length) fetchArticles();\n    }, []);\n\n\n    function fetchArticles(){\n        // start loading\n        toggleLoading();\n        // fetch articles\n        OS.article.get({\n            page : Math.ceil(articles.length/15) + 1\n        })\n        // got articles\n        .then((rows) => {\n            // set articles\n            props.setArticles(articles.concat(rows));\n            // has result\n            toggleLoading();\n        })\n        // error\n        .catch(error => console.error(error));\n    }\n    // ----------------------- /LIFECYCYLE -----------------------\n\n\n\n    // ----------------------- HELPERS -----------------------\n    function thumbnailExtractor(a){\n        // default value\n        let thumbnail_url = \"https://via.placeholder.com/150\";\n        // has media?\n        let sectionHasMedia = a.sections.filter(v => v.media.length > 0);\n        // get first image as the thumbnail\n        if(sectionHasMedia.length > 0) thumbnail_url = sectionHasMedia[0].media[0].url;\n        // return's thumnail url\n        return thumbnail_url;\n    }\n\n    function captionExtractor(a){\n        // setup title container\n        let section = {};\n        // search title\n        (a.sections || []).forEach(s => {\n            // title not found yet and section title exists?\n            if(!Object.keys(section).length && s.title.length > 0) \n                // save the valid section\n                section = s;\n        });\n        // return result title\n        return section;\n    }\n\n    function toggleLoading(){\n        setStatus(oldStatus => {\n            var newStatus = {...oldStatus};\n            // finish loading\n            newStatus.loading = !newStatus.loading;\n            // return new status set\n            return newStatus;\n        });\n    }\n    // ----------------------- /HELPERS -----------------------\n\n\n    return (\n        <div className=\"blogs\">\n            <h1>Blog - All</h1>\n            <div className=\"list\">\n            {articles.map((a, idx) => (\n                <div key={`blog-${a.id}`} className=\"blog\">\n                    <Link to={`/blogs/${a.id}`}>\n                        <div className=\"blog-wrapper\">\n                            <div className=\"thumbnail\">\n                                <img src={thumbnailExtractor(a)} />\n                            </div>\n                            <div className=\"info\">\n                                <div className=\"title\">{captionExtractor(a).title}</div>\n                                <div className=\"description\">{`${(captionExtractor(a).description || \"\").replace(/<[^>]*>?/gm, '').substr(0, 100)}...`}</div>\n                                <div className=\"time\">{new Date(a.time).toLocaleDateString()}</div>\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n            ))}\n            </div>\n            <div style={{ width:\"100%\", display:\"flex\", justifyContent: \"center\", alignItems :\"center\", padding : \"30px 0px\" }}>\n                {\n                    status.loading === false ? \n                    <button className=\"load-more-btn\" onClick={fetchArticles}>\n                        Load more\n                    </button> :\n                    <MoonLoader \n                        size={20}\n                        color={\"#000000\"}\n                        loading={true}\n                    /> \n                }\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Blog);","import React, { useState, useEffect } from 'react';\nimport Oneshop from 'oneshop.web';\nimport { useParams, Redirect, Link } from 'react-router-dom';\nimport { Slide } from 'react-slideshow-image';\nimport './blog.detail.css';\nimport { MoonLoader } from 'react-spinners';\nimport parseHTML from 'html-react-parser';\n\nfunction ArticleDetail(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get params\n    const params = useParams();\n    // articles\n    let [article, setArticle] = useState({});\n    // statuses\n    let [status, setStatus] = useState({ loading : false });\n    // setup redirect\n    let [redirect, setRedirect] = useState(null);\n\n    // get shop\n    let { shop } = props;\n\n\n    // ----------------------- LIFECYCYLE -----------------------\n    useEffect(() => {\n        // not loading?\n        if(!status.loading && !Object.keys(article).length){\n            // start loading\n            setLoading(true);\n            // fetch article by id\n            OS.article.get({ids: params.id})\n            // got articles\n            .then(rows => {\n                // no article found\n                if(!rows.length) setRedirect(\"/notfound\");\n                // save article\n                setArticle(rows[0]);\n                // finish loading\n                setLoading(false);\n            })\n            // error\n            .catch(error => {\n                // finish loading\n                setLoading(false);\n                // not found\n                setRedirect(\"/notfound\");\n            });\n        }\n    }, []);\n    // ----------------------- /LIFECYCYLE -----------------------\n\n\n\n\n    // ----------------------- HELPERS -----------------------\n    function setLoading(loading){\n        setStatus(oldStatus => {\n            let newStatus = {...oldStatus};\n            newStatus.loading = loading;\n            return newStatus;\n        });\n    }\n    // ----------------------- /HELPERS -----------------------\n\n\n    // ----------------------- RENDERING -----------------------\n    function renderSlider(s){\n         // define properties\n         const properties = {\n            duration : 5000,\n            transitionDuration : 300,\n            infinite :  false,\n            indicators : true,\n            arrows : true\n        };\n        return <div className=\"slide-container\">\n            <Slide {...properties}>\n                {(s.media || []).map((m, idx) => (\n                    <div key={`slide-image-${idx}`} className=\"each-slide\">\n                        <div style={{ backgroundImage : `url(${m.url})`}}></div>\n                    </div>\n                ))}\n            </Slide>\n        </div>\n        \n    }\n\n    function renderSections(a){\n        return (a.sections || []).map((s,idx, sections) => (\n            <div key={`article-section-${idx}`} className=\"section\">\n                {s.media.length > 0 ? renderSlider(s) : null}\n                {idx == 0 && sections.length > 1 ? <h1>{s.title}</h1> : <h2>{s.title}</h2>}\n                {idx == 0 ? <span>{new Date(a.time).toLocaleDateString()}</span> : null}\n                <p>{parseHTML(s.description)}</p>\n            </div>\n        ));\n    }\n    // ----------------------- /RENDERING -----------------------\n\n\n\n    return status.loading ? \n        <div style={{ width : \"100%\", height : \"100vh\", display : \"flex\", justifyContent : \"center\", alignItems : \"center\" }}>\n            <MoonLoader \n                size={20}\n                color={\"#000000\"}\n                loading={true}\n            /> \n        </div>\n        :\n        (\n            // article not found? back to article list\n            redirect ? <Redirect to={redirect} /> : \n            (\n                <div className=\"article-detail\">\n                    <div className=\"article-detail-wrapper\">\n                        <div className=\"back-button-wrapper\">\n                            <Link to={\"/blogs\"}>\n                                <i className=\"fas fa-chevron-left\"></i>\n                                Back to Blog\n                            </Link>\n                        </div>\n                        <div className=\"content\">\n                            {renderSections(article)}\n                        </div>\n                    </div>\n                </div>\n            )\n        )\n}\n\nexport default ArticleDetail;","import React from 'react';\n\nfunction NotFound(){\n    return (\n        <div>\n            404 Not Found\n        </div>\n    )\n}\n\nexport default NotFound;","const validate = function(path, form){\n    // get rule\n    const rule = findRuleByPath(path);\n    // get value from form obj\n    const value = getValueAtObjectByPath(path, form);\n    // return error msg if rule and error exists\n    return rule ? getFieldError(rule, value) : null;\n};\n\n\n// setup validation rules\nconst rules = {\n    contact : {\n        first_name : {\n            field_name : \"First Name\",\n            regex : /^.*$/,\n            required : true\n        },\n        last_name : {\n            field_name : \"Last Name\",\n            regex : /^.*$/,\n            required : true\n        },\n        email : {\n            field_name : \"Email\",\n            regex : /^[a-zA-Z0-9\\-\\_]+\\@([0-9a-zA-Z\\-\\_]+\\.)+[a-zA-Z0-9\\-\\_]+$/,\n            required : true\n        },\n        phone : {\n            field_name : \"Phone\",\n            regex : /^\\+?[0-9]+$/,\n            required : true\n        }\n    },\n    payment : {\n        card : {\n            field_name : \"Card Number\",\n            regex : /^([0-9]{4}\\-?){4}$/,\n            required : true\n        },\n        csc : {\n            field_name : \"CVC\",\n            regex : /^[0-9]{3,4}$/,\n            required : true\n        },\n        exp_date : {\n            field_name : \"Expiry\",\n            regex : /^[0-9]{2}\\/?[0-9]{2}$/,\n            required : true\n        }\n    },\n    coupons :  {\n        field_name : \"Coupon\",\n        regex : /^[a-zA-Z0-9]+$/,\n        required : false\n    },\n    shipping : {\n        address : {\n            field_name : \"Address\",\n            regex : /^.*$/,\n            required : true\n        },\n        country : {\n            field_name : \"Country\",\n            regex : /^[A-Z]{2}$/,\n            required : true\n        }\n    }\n};\n\n\n\n// ----- helpers ------\nconst findRuleByPath = (path) => getValueAtObjectByPath(path, rules);\n\n\nconst getValueAtObjectByPath = function(path, form){\n    const drill = (paths, obj) => {\n        // get path\n        let path = paths.shift();\n        // still need to get sub path?\n        if(paths.length > 0){\n            // ensure its a object\n            if(obj[path] && Object.prototype.toString.call(obj[path]) === \"[object Object]\"){\n                return drill(paths, obj[path]);\n            } else {\n                return obj[path] || null;\n            }\n        } else {\n            return obj[path] || null;\n        }\n    };\n    return drill(path.split(\".\"), form);\n}\n\n\nconst deleteValueAtObjectByPath = function (obj, path) {\n    if (!obj || !path) {\n      return;\n    }\n    if (typeof path === 'string') {\n      path = path.split('.');\n    }\n    for (var i = 0; i < path.length - 1; i++) {  \n      obj = obj[path[i]];\n      if (typeof obj === 'undefined') {\n        return;\n      }\n    }\n    delete obj[path.pop()];\n}\n\nconst setValueAtObjectByPath = function(_obj, field, value){\n    const assignHandler = (obj, prop, value) => {\n        if (typeof prop === \"string\")\n            prop = prop.split(\".\");\n        if (prop.length > 1) {\n            var e = prop.shift();\n            assignHandler(obj[e] =\n                    Object.prototype.toString.call(obj[e]) === \"[object Object]\"\n                    ? obj[e]\n                    : {},\n                prop,\n                value);\n        } else\n            obj[prop[0]] = value;\n    }\n    return assignHandler(_obj, field, value);\n}\n\n\nconst getFieldError = function(rule, value){\n    // has input\n    if((value || \"\").length){\n        return (new RegExp(rule.regex, \"ig\")).test(value) ? null : `${rule.field_name} is invalid`;\n    } else\n    // not empty\n    if(rule.required === true && !(value || \"\").length){\n        return `${rule.field_name} is required`\n    }\n}\n\n\n\nexport { \n    validate, \n    getValueAtObjectByPath, \n    deleteValueAtObjectByPath, \n    setValueAtObjectByPath \n};","import React, { useState } from 'react';\nimport Oneshop from 'oneshop.web';\nimport './checkout.css';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport actions from '../../helpers/actions';\nimport { MoonLoader } from 'react-spinners';\nimport Select from 'react-select';\nimport {getCodeList} from 'country-list';\nimport Tooltip from 'react-tooltip';\nimport { validate, getValueAtObjectByPath, setValueAtObjectByPath, deleteValueAtObjectByPath } from '../../helpers/formValidator';\nimport { Redirect } from 'react-router-dom';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    cart : state.cart,\n    shop : state.shop.session,\n    user : state.user.session\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCartItems : (items) => dispatch({\n        type    : actions.SET_CART_ITEMS,\n        payload : items\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\n\nfunction Checkout(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get cart and shop\n    let {cart, shop, user} = props;\n    // steps\n    let [step, setStep] = useState(1);\n    // shipping methods\n    let [shippingMethods, setShippingMethods] = useState([]);\n    // loading?\n    let [isLoading, setIsLoading] = useState(false);\n    // preview\n    let [preview, setPreview] = useState(null);\n    // paid?\n    let [paid, setPaid] = useState(null);\n    // form\n    let [form, setForm] = useState({\n        contact : {\n            first_name : \"\",\n            last_name : \"\",\n            email : \"\",\n            phone : \"\"\n        },\n        payment : {\n            card : \"\",\n            csc : \"\",\n            exp_date : \"\"\n        },\n        shipping : {\n            address : null,\n            country : \"HK\"\n        },\n        shippings : {\n            [shop.id] : null\n        },\n        items : cart.id,\n        notes : \"\"\n    });\n    let [formErrors, setFormErrors] = useState({});\n    // country code list\n    const countries = getCodeList();\n\n    \n    // -------------------- HELPERS --------------------\n    async function loadShippingMethods(){\n        // set loading\n        setIsLoading(true);\n        // setup shipping methods\n        let shipping_methods = [];\n        // process shipping methods\n        try {\n            // fetch shipping methods\n            let customShippings = await fetch(\n                '/api/shipping_methods', \n                { \n                    method : \"GET\" \n                }\n            );\n            // transform json\n            customShippings = (((((await customShippings.json()) || {}).data || {}).rows || [])[0] || {}).shipping_methods || [];\n            // append to container\n            shipping_methods = shipping_methods.concat(customShippings.map(s => ({\n                id               : s.code.replace(/\\r?\\n|\\r/g, \"\"),\n                charge           : s.charge,\n                title            : s.title,\n                address_required : s.shipping_address_required\n            })));\n            // has auto ship?\n            if(shop.auto_ship){\n                let autoShippings = await fetch(\n                    `/api/carts/${cart.id}/shipment/rates`, \n                    {\n                        method : \"POST\",\n                        body : JSON.stringify({\n                            shipping : {\n                                address : \"HK\",\n                                country : form.shipping.country\n                            }\n                        })\n                    }\n                );\n                // transform json\n                autoShippings = (await autoShippings.json()).data.rows;\n                // append to container\n                shipping_methods = shipping_methods.concat(autoShippings.filter(s => s.rates[shop.id] != undefined).map(s => ({\n                    id               : s.id,\n                    charge           : s.rates[shop.id],\n                    title            : s.name,\n                    address_required : true\n                })));\n            }\n            // preselect one shipping method\n            if(shipping_methods.length && form.shippings[shop.id] == null) {\n                setFormValue(`shippings.${shop.id}`, shipping_methods[0].id);\n            }\n            // set shipping method\n            setShippingMethods(shipping_methods);\n            // got to step 2\n            setStep(2);\n            // finish loading\n            setIsLoading(false);\n        } catch (error) {\n            alert(\"Failed to load shipping methods\");\n            // loading finish\n            setIsLoading(false);\n        }\n    }\n\n    async function previewOrder(){\n        // set loading\n        setIsLoading(true);\n        try {\n            // clone form\n            let previewForm = {...form};\n            // remove coupon field if coupons field is empty\n            if((previewForm.coupons || \"\").trim().length == 0) delete previewForm.coupons;\n            // remove shippings if not shipping method is selected\n            if(previewForm.shippings[shop.id] == null) delete previewForm.shippings[shop.id];\n            // fetch order previews\n            let preview = await fetch(\n                `/api/carts/${cart.id}/previews`, \n                { \n                    method : \"POST\",\n                    body : JSON.stringify({\n                        ...previewForm\n                    })\n                }\n            );\n            // parse json\n            preview = (await preview.json());\n            // got error\n            if(preview.data){\n                preview = preview.data.rows[0];\n                // set preview object\n                setPreview(preview);\n                // go to step 3\n                setStep(3);\n            } else {\n                alert(preview.messages ? (preview.messages || []).join(\"\\n\") : \"Failed to confirm order amount.\");\n            }\n            // loading finish\n            setIsLoading(false);\n        } catch (error) {\n            alert(\"Failed to confirm order amount.\");\n            // loading finish\n            setIsLoading(false);\n        }\n    }\n\n    async function makePayment(){\n        // set loading\n        setIsLoading(true);\n        // clone form\n        let payload = {...form};\n        // ----- manupulate form data\n        // no coupon?\n        if(!(payload.coupons || \"\").trim().length) delete form.coupons;\n        // no notes?\n        if(!(payload.notes || \"\").trim().length) delete form.notes;\n        // split expiry\n        payload.payment.exp_date = `${payload.payment.exp_date.slice(0,2)}/${payload.payment.exp_date.slice(2)}`;\n        // trying to make payment\n        try {\n            // make payment\n            let payment = user != null ? (await OS.consumer.checkout(payload)) : (await OS.order.create(payload));\n            // success?\n            if(payment.rows && \n                (payment.rows || []).length > 0){\n                // set paid object and go to /checkout/success\n                setPaid({\n                    ...preview,\n                    shipping : form.shipping,\n                    contact : form.contact,\n                    notes : form.notes || \"\",\n                    items : [...cart.items],\n                });\n            } else {\n                // unknown error\n                alert(\"Unknown error occured, please try again\");\n            }\n            // finished loading\n            setIsLoading(false);\n        } catch (error) {\n            // error messages\n            if(Array.isArray(error.message) && (error.message || []).length > 0){\n                alert(error.message.join(\"\\n\"))\n            } else {\n                // unknow error\n                alert(\"Unknown error occured, please try again\");\n            }\n            // finished loading\n            setIsLoading(false);\n        }\n        \n    }\n\n    function setFormValue(field, value){\n        setForm(oldForm => {\n            let newForm = {...oldForm};\n            setValueAtObjectByPath(newForm, field, value);\n            return newForm;\n        });\n    }\n    // -------------------- /HELPERS --------------------\n\n\n    // -------------------- ERROR HANDLING --------------------\n    function getFormErrorView(path){\n        // get error\n        const error_msg = getValueAtObjectByPath(path, formErrors) || null;\n        return <span className=\"error-msg\">{error_msg || \"\"}</span>;\n    }\n    \n    function validateField(field){\n        // validate\n        let error_msg = validate(field || \"\", form);\n        // has error?\n        setFormErrors(oldFormErrors => {\n            let newFormErrors = {...oldFormErrors};\n            // save error if has error has error msg\n            // otherwise delete error message from formErrors\n            error_msg ? setValueAtObjectByPath(newFormErrors, field, error_msg) : deleteValueAtObjectByPath(newFormErrors, field);\n            return newFormErrors;\n        });\n    }\n\n    function isFormValid(){\n        // preset result\n        let isValid = true;\n        // loop through the process\n        ['contact', 'payment', 'shipping'].forEach(field => {\n            // field exists\n            if(formErrors[field] != undefined && Object.keys(formErrors[field]).length > 0){\n                isValid = false;\n            }\n        });\n        return isValid;\n    }\n    // -------------------- /ERROR HANDLING --------------------\n\n\n    // -------------------- FORM RENDERING --------------------\n    function renderStep1(){\n        return <div className=\"step-1\">\n            <h2>Your Information</h2>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <label>First Name</label>\n                    <input placeholder=\"Peter\" \n                            value={form.contact.first_name} \n                            onChange={(e) => setFormValue('contact.first_name', e.target.value)}\n                            onBlur={() => validateField(\"contact.first_name\")}\n                    />\n                    {getFormErrorView(\"contact.first_name\")}\n                </div>\n                <div className=\"form-group\">\n                    <label>Last Name</label>\n                    <input placeholder=\"Chan\" \n                            value={form.contact.last_name} \n                            onChange={(e) => setFormValue('contact.last_name', e.target.value)}\n                            onBlur={() => validateField(\"contact.last_name\")}\n                    />\n                    {getFormErrorView(\"contact.last_name\")}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <label>Email</label>\n                    <input placeholder=\"Peter.chan@abc.com\" \n                            value={form.contact.email} \n                            onChange={(e) => setFormValue('contact.email', e.target.value)}\n                            onBlur={() => validateField(\"contact.email\")}\n                    />\n                    {getFormErrorView(\"contact.email\")}\n                </div>\n                <div className=\"form-group\">\n                    <label>Phone</label>\n                    <input placeholder=\"+85291234567\" \n                            value={form.contact.phone} \n                            onChange={(e) => setFormValue('contact.phone', e.target.value)}\n                            onBlur={() => validateField(\"contact.phone\")}\n                    />\n                    {getFormErrorView(\"contact.phone\")}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <label>Country</label>\n                    <Select value={{ value : (form.shipping.country || \"hk\").toLowerCase(), label: countries[(form.shipping.country || \"hk\").toLowerCase()]}}\n                            onChange={option => setFormValue('shipping.country', option.value.toUpperCase())}\n                            options={Object.keys(countries).map(key => ({ value : key, label : countries[key]}))}\n                    />\n                </div>\n                <div className=\"form-group\"></div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\"></div>\n                <div className=\"form-group\">\n                    <button onClick={() => loadShippingMethods()} \n                            disabled={\n                                !(form.contact.first_name || \"\").length ||\n                                !(form.contact.last_name || \"\").length ||\n                                !(form.contact.email || \"\").length ||\n                                !(form.contact.phone || \"\").length ||  // triggers the button to disable at form init\n                                !isFormValid()\n                            }\n                    >\n                        Shipping <i className=\"fas fa-chevron-right\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    }\n\n    function renderStep2(){\n        // // is show shipping address field\n        // let shippingAddressRequired = false;\n        // // ensure not null\n        // if(form.shippings[shop.id] != null){\n        //     // need shipping address\n        //     shippingMethods.forEach(s => {\n        //         if(s.id == form.shippings[shop.id] && s.address_required === true){\n        //             // needs shipping address\n        //             shippingAddressRequired = true;\n        //         }\n        //     });\n        // }\n        return <div className=\"step-2\">\n            <h2>Select a Shipping Method</h2>\n            <div className=\"row\">\n                <div className=\"shipping-methods\">\n                    {\n                        shippingMethods.length ? \n                        shippingMethods.map(s => (\n                            <div key={`shipping-method-${s.id}`} \n                                className={`shipping-method ${form.shippings[shop.id] == s.id ? \"selected\" : \"\"}`}\n                                onClick={() => setFormValue(`shippings.${shop.id}`, s.id)}\n                            >\n                                {form.shippings[shop.id] == s.id ? <i className=\"fas fa-check-square\"></i> : <i className=\"far fa-check-square\"></i>}\n                                <div className=\"title\">{s.title}</div> - \n                                <div className=\"charge\">{shop.currency.toUpperCase()} {s.charge}</div>\n                            </div>\n                        )) :\n                        <div className=\"shipping-method-none\">No shipping method is available at the moment.</div>\n                    }\n                </div>\n            </div>\n            <h2>Shipping Address</h2>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <input placeholder=\"1/F, ABC Building, 12 ABC Road, Hong Kong\" value={form.shipping.address || \"\"} \n                            onChange={(e) => setFormValue('shipping.address', e.target.value)}\n                            onBlur={() => validateField(\"shipping.address\")}\n                    />\n                    {getFormErrorView(\"shipping.address\")}\n                </div>\n            </div>\n            <h2>Coupons</h2>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <input placeholder=\"SUMMERSALE10\" \n                            value={form.coupons || \"\"} \n                            onChange={(e) => setFormValue('coupons', e.target.value)}\n                            onBlur={() => validateField(\"coupons\")}\n                    />\n                    {getFormErrorView(\"coupons\")}\n                </div>\n            </div>\n            <h2>Notes</h2>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <textarea \n                        value={form.notes || \"\"}\n                        placeholder=\"Notes to us\"\n                        maxLength={500}\n                        onChange={(e) => setFormValue('notes', e.target.value)} \n                    />\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <button onClick={() => {\n                                setFormErrors({});\n                                setStep(1);\n                            }}\n                    >\n                        <i className=\"fas fa-chevron-left\"></i> Information\n                    </button>\n                </div>\n                <div className=\"form-group\">\n                    <button onClick={() => previewOrder()}\n                            disabled={!(form.shipping.address || \"\").length || !isFormValid()}\n                    >\n                        Payment <i className=\"fas fa-chevron-right\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    }\n\n    function renderStep3(){\n        return <div className=\"step-3\">\n            <h2>Payment</h2>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <label>Card Number</label>\n                    <input placeholder=\"4242-4242-4242-4242\" \n                            value={((form.payment.card || \"\").match(new RegExp('[0-9]{1,4}', 'g')) || []).join(\"-\")} \n                            onChange={(e) => setFormValue('payment.card', (e.target.value || \"\").split(\"-\").join(\"\"))} \n                            maxLength={19}\n                            onBlur={() => validateField(\"payment.card\")}\n                    />\n                    {getFormErrorView(\"payment.card\")}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <label>Expiry Date</label>\n                    <input placeholder=\"10/20\" \n                            value={((form.payment.exp_date || \"\").match(new RegExp('[0-9]{1,2}', 'g')) || []).join(\"/\")} \n                            onChange={(e) => setFormValue('payment.exp_date', (e.target.value || \"\").split(\"/\").join(\"\"))} \n                            onBlur={() => validateField(\"payment.exp_date\")}\n                            maxLength={5}\n                    />\n                    {getFormErrorView(\"payment.exp_date\")}\n                </div>\n                <div className=\"form-group\">\n                    <label>CSC</label>\n                    <input placeholder=\"123\" \n                            type=\"password\"\n                            value={form.payment.csc || \"\"} \n                            onChange={(e) => setFormValue('payment.csc', e.target.value)} \n                            onBlur={() => validateField(\"payment.csc\")}\n                            maxLength={4}\n                    />\n                    {getFormErrorView(\"payment.csc\")}\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"form-group\">\n                    <button onClick={() => {\n                        setPreview(null);\n                        setFormErrors({});\n                        setStep(2);\n                    }}>\n                        <i className=\"fas fa-chevron-left\"></i> Shipping\n                    </button>\n                </div>\n                <div className=\"form-group\">\n                    <button className=\"pay-btn\" \n                            onClick={makePayment}\n                            disabled={\n                                !(form.payment.card || \"\").length ||\n                                !(form.payment.exp_date || \"\").length ||\n                                !(form.payment.csc || \"\").length ||\n                                !isFormValid()\n                            }\n                    >\n                        Confirm & Pay <i className=\"fas fa-check-circle\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    }\n\n    const renderStep = [renderStep1, renderStep2, renderStep3];\n\n    function renderOrderForm(){\n        return (\n            <div className=\"checkout\">\n                <h1>Checkout</h1>\n                <div className=\"checkout-wrapper\">\n    \n                    {/* ---------------- Loading mask ---------------- */}\n                    {\n                        isLoading ? \n                        <div className=\"loading-mask\">\n                            <MoonLoader \n                                size={20}\n                                color={\"#000000\"}\n                                loading={true}\n                            />\n                        </div> : null\n                    }\n                    {/* ---------------- /Loading mask ---------------- */}\n    \n                    {/* ---------------------- STEPS ---------------------- */}\n                    <div className=\"steps\">\n    \n                        {/* --------------- Progress Bar --------------- */}\n                        <div className=\"progress-bar\">\n                            {[\"Information\", \"Shipping\", \"Finish\"].map((s, idx) => (\n                                <div key={`step-label-${idx}`} className={`step-label ${step >= idx+1 ? \"active\" : \"\"}`}>\n                                    {s}\n                                </div>\n                            ))}\n                            <div className=\"bar\">\n                                <div className=\"bar-fill\" style={{width:`${((step-1)/2)*100}%`}}></div>\n                            </div>\n                        </div>\n                        {/* --------------- /Progress Bar --------------- */}\n    \n                        {/* --------------- FORM --------------- */}\n                        <div className=\"form\">\n                            {renderStep[step-1]()}\n                        </div>\n                        {/* --------------- /FORM --------------- */}\n                        \n                        {/* --------------- Back to shoping cart button ------------- */}\n                        <div className=\"back-to-shopping-cart\">\n                            <Link to={\"/cart\"}>\n                                <i className=\"fas fa-chevron-left\"></i>\n                                Back to Shopping Cart\n                            </Link>\n                        </div>\n                        {/* --------------- /Back to shoping cart button ------------- */}\n                    </div>\n                    {/* ---------------------- /STEPS ---------------------- */}\n    \n    \n                    <div style={{width:15}}></div>\n    \n                    {/* ---------------------- SUMMARY ---------------------- */}\n                    <div className=\"summary\">\n                        <div className=\"summary-wrapper\">\n                            <h3>Summary</h3>\n                            <div className=\"amounts\">\n                                <div className=\"amt subtotal\">\n                                    <label>Subtotal</label> \n                                    <div className=\"amount\">\n                                        {shop.currency.toUpperCase()} {(() => {\n                                            return preview ? preview.sub_total : \n                                            (cart.items || []).reduce((total, item) => {\n                                                return total + (item.qty * item.price);\n                                            }, 0)\n                                        })().toFixed(2)}\n                                    </div>\n                                </div>\n                                <div className=\"amt shipping-fee\"> \n                                    <label>Shipping fee</label>\n                                    <div className=\"amount\">\n                                        {shop.currency.toUpperCase()} {(() => {\n                                            // has preview?\n                                            if(preview){\n                                                return preview.shipping_fee;\n                                            } else if(form.shippings[shop.id] != null){\n                                                return (shippingMethods.filter(s => s.id == form.shippings[shop.id])[0] || {}).charge || 0;\n                                            } else {\n                                                return 0;\n                                            }\n                                        })().toFixed(2)}\n                                    </div>\n                                </div>\n                                {\n                                    preview && ((preview.breakdowns[0] || {}).discounts || []).length > 0 ?\n                                    (\n                                        <div className=\"amt discounts\">\n                                            <label>Discounts</label>\n                                            {preview.breakdowns[0].discounts.map(d => (<div key={`discount-${d.id}`} className=\"item\">\n                                                <label data-tip={d.title || \"\"}>\n                                                    {(d.title || \"\").length > 20 ? `${(d.title || \"\").substring(0, 20)}...` : d.title}\n                                                    <Tooltip />\n                                                </label>\n                                                <div className=\"deducted-amt\">- {shop.currency.toUpperCase()} {d.amount}</div>\n                                            </div>))}\n                                        </div>\n                                    ) : null\n                                }\n                                <div className=\"amt total\">\n                                    <label>TOTAL</label>\n                                    <div className=\"amount\">\n                                        {shop.currency.toUpperCase()} {(() => {\n                                            return preview ? preview.gross_total : \n                                            (() => {\n                                                // get sub total\n                                                let subTotal = (cart.items || []).reduce((total, item) => {\n                                                    return total + (item.qty * item.price);\n                                                }, 0);\n                                                // get shipping fee\n                                                let shippingFee = form.shippings[shop.id] != null ? (shippingMethods.filter(s => s.id == form.shippings[shop.id])[0] || {}).charge : 0;\n                                                // return grand total\n                                                return subTotal + shippingFee;\n                                            })()\n                                        })().toFixed(2)}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {/* ---------------------- /SUMMARY ---------------------- */}\n                </div>\n            </div>\n        );\n    }\n    // -------------------- /FORM RENDERING --------------------\n\n\n    // Render starting point\n    return paid ? <Redirect to={{ pathname : \"/checkout/success\", state : paid }} /> : renderOrderForm();\n    \n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Checkout);","import React, { useState } from 'react';\nimport Oneshop from 'oneshop.web';\nimport './profile.css';\nimport { connect, useSelector } from 'react-redux';\nimport { MoonLoader } from 'react-spinners';\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    shop : state.shop.session\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction UserProfile(props){\n    console.log(props);\n    // set profile\n    let [profile, setProfile] = useState(props.profile);\n    // form data for updating profile\n    let [form, setForm] = useState(props.profile);\n    // loading status\n    let [isLoading, setIsLoading] = useState(false);\n    // get oneshop instance\n    var OS = new Oneshop();\n\n    // ------------------ HELPERS ------------------\n    async function logout(){\n        // set loading\n        setIsLoading(true);\n        // logging out\n        OS.consumer.logout()\n        .then(() => {\n            // loading finished\n            setIsLoading(false);\n            // redirect\n            window.location.pathname = \"/users\";\n        })\n        .catch(error => {\n            // loading finished\n            setIsLoading(false);\n            // show error msg\n            alert(error.message);\n        });\n    }\n\n    async function updateProfile(){\n        try {\n            // set loading\n            setIsLoading(true);\n            // update profile\n            await OS.consumer.profile.update(form);\n            // save form\n            setProfile({...form});\n            // finish loading\n            setIsLoading(false);\n        } catch (error) {\n            // finish loading\n            setIsLoading(false);\n            // show error msg\n            alert(error.message);\n        }\n    }\n\n\n    function updateFormData(key, value){\n        setForm(oldForm => {\n            // clone old form\n            let newForm = {...oldForm};\n            // update form data\n            newForm[key] = value;\n            // return updated form\n            return newForm;\n        });\n    }\n\n    function hasChanges(){\n        // preset result to false\n        let formChanged = false;\n        // searh any changes in profile\n        Object.keys(profile).forEach(key => {\n            // changes has been made\n            if(form[key] != undefined && profile[key] != form[key]){\n                // set to true\n                formChanged = true;\n            }\n        });\n        // return result\n        return formChanged;\n    }\n    // ------------------ /HELPERS ------------------\n\n    return (\n        <div className=\"profile\">\n            <div className=\"profile-wrapper\">\n                <div className=\"left-col\">\n                    <h1>Profile</h1>\n                    <div className=\"data-group\">\n                        <label>First Name</label>\n                        <input value={form.first_name} onChange={(e) => updateFormData('first_name', e.target.value)} />\n                    </div>\n                    <div className=\"data-group\">\n                        <label>Last Name</label>\n                        <input value={form.last_name} onChange={(e) => updateFormData('last_name', e.target.value)} />\n                    </div>\n                    {\n                        hasChanges() ? \n                        // show save button and cancel button\n                        <div>\n                            <button onClick={updateProfile} disabled={isLoading}>\n                                {\n                                    isLoading ? \n                                    <MoonLoader \n                                        size={20}\n                                        color={\"white\"}\n                                        loading={true}\n                                    /> :\n                                    \"Save\"\n                                }\n                            </button>\n                            <button className=\"light\" onClick={() => setForm({...profile})} disabled={isLoading}>\n                                Cancel\n                            </button>\n                        </div> : \n                        // show logout button only if no changes\n                        <button className=\"light\" onClick={logout} disabled={isLoading}>\n                            {\n                                isLoading ? \n                                <MoonLoader \n                                    size={20}\n                                    color={\"black\"}\n                                    loading={true}\n                                /> :\n                                \"Logout\"\n                            }\n                        </button>\n                    }\n                </div>\n                <div className=\"right-col\">\n                    <h1>My Orders</h1>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps)(UserProfile);","import React, { useEffect, useState } from 'react';\nimport Oneshop from 'oneshop.web';\nimport ProfilePage from './Profile';\nimport { Redirect } from 'react-router-dom';\nimport './user.css';\nimport { MoonLoader } from 'react-spinners';\n\n\nfunction User(props){\n    \n    let [profile, setProfile] = useState(null);\n    let [isLoading, setIsLoading] = useState(true);\n    let OS = new Oneshop();\n\n\n    // --------------- LIFECYCLE ---------------\n    useEffect(() => {\n        // retreive profile eveyr time\n        OS.consumer.profile.get()\n        // got \n        .then((rows) => {\n            var user = rows[0];\n            setProfile(user);\n            setIsLoading(false);\n        })\n        .catch((error) => {\n            setIsLoading(false);\n            setProfile(null);\n        });\n    },[]);\n    // --------------- /LIFECYCLE ---------------\n\n    return (\n        <div className=\"user\">\n            <div className=\"wrapper\">\n                { \n                    isLoading ? \n                    // show loading screen when loading\n                    loadingScreen() \n                    : (\n                        // logged in already?\n                        profile ? \n                        // show profile\n                        <ProfilePage profile={profile}/> \n                        : \n                        // redriect to loging page\n                        <Redirect to=\"/users/login\"/>\n                    )}\n            </div>\n        </div>\n    );\n}\n\nfunction loadingScreen(){\n    return (<div className=\"loading\">\n        <MoonLoader \n            size={20}\n            color={\"#000000\"}\n            loading={true}\n        /> \n    </div>);\n}\n\n export default User;\n\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Oneshop from 'oneshop.web';\nimport './register.css';\nimport { connect } from 'react-redux';\nimport { MoonLoader } from 'react-spinners';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    shop : state.shop.session\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Register(props){\n\n    // form data state\n    let [email, setEmail] = useState(\"\");\n    let [password, setPassword] = useState(\"\");\n    let [confirmPassword, setConfirmPassword] = useState(\"\");\n    let [firstName, setFirstName] = useState(\"\");\n    let [lastName, setLastName] = useState(\"\");\n    // loading status\n    let [isLoading, setIsLoading] = useState(false);\n    // get oneshop instance\n    var OS = new Oneshop();\n    // get shop\n    const { shop } = props;\n\n    // -------------------- HELPER --------------------\n    function register(){\n        // set loading\n        setIsLoading(true);\n        // sign up\n        OS.consumer.signUp({\n            email      : email,\n            passwd     : password,\n            confpasswd : confirmPassword,\n            first_name : firstName,\n            last_name  : lastName\n        })\n        .then(() => {\n            // finished loading\n            setIsLoading(false);\n            // back to login page\n            window.location.href = \"/users/login\";\n        })\n        .catch(error => {\n            // finished loading\n            setIsLoading(false);\n            // error message\n            alert(error.message);\n        });\n    }\n    // -------------------- /HELPER --------------------\n\n    return (\n        <div className=\"user-register\">\n            <div className=\"user-register-wrapper\">\n                <div className=\"form\">\n                    <div className=\"greeting\">\n                        {shop.logo ? <img src={shop.logo}/> : null}\n                        <h1>Get Your Account</h1>\n                    </div>\n                    <div className=\"form-wrapper\">\n                        <div className=\"form-group\">\n                            <label>First Name</label>\n                            <input \n                                type=\"text\" \n                                value={firstName} \n                                onChange={(event) => { setFirstName(event.target.value); }}\n                                placeholder=\"Peter\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Last Name</label>\n                            <input \n                                type=\"text\" \n                                value={lastName} \n                                onChange={(event) => { setLastName(event.target.value); }}\n                                placeholder=\"Chan\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Email</label>\n                            <input \n                                type=\"text\" \n                                value={email} \n                                onChange={(event) => { setEmail(event.target.value); }}\n                                placeholder=\"peter.chan@abc.com\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Password</label>\n                            <input \n                                type=\"password\" \n                                value={password}  \n                                onChange={(event) => { setPassword(event.target.value); }}\n                                placeholder=\"・・・・・・・・\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Confirm Password</label>\n                            <input \n                                type=\"password\" \n                                value={confirmPassword}  \n                                onChange={(event) => { setConfirmPassword(event.target.value); }}\n                                placeholder=\"・・・・・・・・\"\n                            />\n                        </div>\n                        <button onClick={register} disabled={isLoading}>\n                            {\n                                isLoading ? \n                                <MoonLoader \n                                    size={20}\n                                    color={\"white\"}\n                                    loading={true}\n                                /> :\n                                \"Register\"\n                            }\n                        </button>\n                        <div className=\"register\">\n                            <Link to=\"/users/login\">Already a member?</Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps)(Register);","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Oneshop from 'oneshop.web';\nimport './login.css';\nimport { connect } from 'react-redux';\nimport { MoonLoader } from 'react-spinners';\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    shop : state.shop.session\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Login(props){\n\n    // email state\n    let [email, setEmail] = useState(\"\");\n    // password state\n    let [password, setPassword] = useState(\"\");\n    // loading status\n    let [isLoading, setIsLoading] = useState(false);\n    // get oneshop instance\n    const OS = new Oneshop();\n    // get shop\n    const { shop } = props;\n\n\n\n    // -------------------- HELPER --------------------\n    function login(){\n        // start loading\n        setIsLoading(true);\n        // login\n        OS.consumer.login({\n            email  : email,\n            passwd : password\n        })\n        // login success\n        .then(() => {\n            // finish loading\n            setIsLoading(false);\n            // redirect to checking again\n            window.location.href = \"/users\";\n        })\n        // error\n        .catch(error => {\n            // finish loading\n            setIsLoading(false);\n            // show message\n            alert(\"Username or password invalid.\");\n        });\n    }\n    // -------------------- /HELPER --------------------\n\n\n    return (\n        <div className=\"user-login\">\n            <div className=\"user-login-wrapper\">\n                <div className=\"form\">\n                    <div className=\"greeting\">\n                        {shop.logo ? <img src={shop.logo}/> : null}\n                        <h1>Welcome Back</h1>\n                    </div>\n                    <div className=\"form-wrapper\">\n                        <div className=\"form-group\">\n                            <label>Email</label>\n                            <input \n                                type=\"text\" \n                                value={email} \n                                onChange={(event) => { setEmail(event.target.value); }}\n                                placeholder=\"peter.chan@abc.com\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <label>Password</label>\n                            <input \n                                type=\"password\" \n                                value={password}  \n                                onChange={(event) => { setPassword(event.target.value); }}\n                                placeholder=\"・・・・・・・・\"\n                            />\n                        </div>\n                        <button onClick={login} disabled={isLoading}>\n                            {\n                                isLoading ? \n                                <MoonLoader \n                                    size={20}\n                                    color={\"white\"}\n                                    loading={true}\n                                /> :\n                                \"Login\"\n                            }\n                        </button>\n                        <div className=\"register\">\n                            <Link to=\"/users/new\">Not a member? Register now!</Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps)(Login);","import React, { useState } from 'react';\nimport Oneshop from 'oneshop.web';\nimport './cart.css';\nimport { connect } from 'react-redux';\nimport actions from '../../helpers/actions';\nimport { MoonLoader } from 'react-spinners';\nimport { Link } from 'react-router-dom';\n\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    cart : state.cart,\n    shop : state.shop.session\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCartItems : (items) => dispatch({\n        type    : actions.SET_CART_ITEMS,\n        payload : items\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Cart(props){\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // loading state\n    let [isLoading, setIsLoading] = useState(false);\n    // get cart items\n    let { cart, shop } = props;\n\n    // ------------------------ HELPERS ------------------------\n    function extractThumbnail(item){\n        let thumbnail_url = \"https://via.placeholder.com/150\";\n        if((item.media || []).length > 0) thumbnail_url = item.media[0];\n        return thumbnail_url;\n    }\n\n    \n    async function removeItem(itemId){\n        // set loading\n        setIsLoading(true);\n        // success?\n        try {\n            // remove item\n            await OS.cart.item.remove(cart.id, itemId);\n            // refresh cart\n            await refreshCart();\n            // removed\n            setIsLoading(false);\n        } catch (error) {\n            // show error\n            alert(\"Failed to remove item\");\n            // finish loading\n            setIsLoading(false);\n        }\n    }\n\n    async function editItemQty(itemId, qty){\n        // set loading\n        setIsLoading(true);\n        // success?\n        try {\n            // remove item\n            await OS.cart.item.add(cart.id, {\n                id  : itemId,\n                qty : qty\n            });\n            // refresh cart\n            await refreshCart();\n            // removed\n            setIsLoading(false);\n        } catch (error) {\n            // show error\n            alert(\"Failed to edit item qty\");\n            // finish loading\n            setIsLoading(false);\n        }\n    }\n\n    async function refreshCart(){\n        // get cart item\n        try {\n            let items = await OS.cart.item.get(cart.id);\n            // set items\n            props.setCartItems(items);\n        } catch (error) {\n            // error on get items\n            alert(\"Failed to get cart item\");\n        }\n    }\n    // ------------------------ /HELPERS ------------------------\n\n\n\n    // ------------------------ REDNERS ------------------------\n    function renderList(){\n        return <div className=\"items\">\n            {\n                isLoading ? \n                <div className=\"loading-mask\">\n                    <MoonLoader \n                        size={20}\n                        color={\"#000000\"}\n                        loading={true}\n                    />\n                </div> : null\n            }\n            {(cart.items || []).map((item, idx) => (\n                <div key={`item-${idx}`} className=\"item\">\n                    <div className=\"thumbnail\">\n                        <img src={extractThumbnail(item)} alt={`image of ${item.name}`}/>\n                    </div>\n                    <div className=\"info\">\n                        <div className=\"name\">\n                            {item.name}\n                        </div>\n                        <div className=\"description\">\n                            {item.variant}\n                        </div>\n                    </div>\n                    <div className=\"form\">\n                        <div className=\"unit-price\">\n                            {(shop.currency || \"hkd\").toUpperCase()} {item.price.toFixed(2)} <i className=\"fas fa-times\"></i>\n                        </div>\n                        <div className=\"qty\">\n                            {item.qty}\n                        </div>\n                        <div className=\"qty-btns\">\n                            <button onClick={() => editItemQty(item.id, item.qty + 1)}>\n                                <i className=\"fas fa-sort-up\"></i>\n                            </button>\n                            <button onClick={() => item.qty < 2 ? removeItem(item.id) : editItemQty(item.id, item.qty - 1)}>\n                                <i className=\"fas fa-sort-down\"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div className=\"subtotal\">\n                        {(shop.currency || \"hkd\").toUpperCase()} {(item.price * item.qty).toFixed(2)}\n                    </div>\n                    <div className=\"remove-btn-wrapper\">\n                        <button onClick={() => removeItem(item.id)}>\n                            <i className=\"fas fa-trash\"></i>\n                        </button>\n                    </div>\n                </div>\n            ))}\n            <div className=\"checkout-btn-wrapper\">\n                <div className=\"total\">\n                    Total : {(shop.currency || \"hkd\").toUpperCase()} {(cart.items || []).reduce((total, item) => {\n                        return (total + (item.qty * item.price));\n                    }, 0).toFixed(2)}\n                </div>\n                <Link to=\"/checkout\">\n                    Checkout\n                </Link>\n            </div>\n        </div>\n    }\n\n    function renderPlaceholder(){\n        return <div className=\"placeholder\">\n            <i className=\"fas fa-shopping-cart\"></i>\n            <div className=\"message\">\n                Your shopping cart is empty.\n            </div>\n            <Link to=\"/products\">Shop Now</Link>\n        </div>\n    }\n    // ------------------------ REDNERS ------------------------\n\n\n    return (\n        <div className=\"cart\">\n            <h1>My Cart</h1>\n            <div className=\"list\">\n                {(cart.items || []).length ? renderList() : renderPlaceholder()}\n            </div>\n        </div>\n    );\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","import React, { useEffect } from 'react';\nimport Oneshop from 'oneshop.web';\nimport './order.snapshot.css';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport actions from '../../../helpers/actions';\nimport Tooltip from 'react-tooltip';\nimport Cookies from 'universal-cookie';\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    shop : state.shop.session\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCartItems : (items) => dispatch({\n        type    : actions.SET_CART_ITEMS,\n        payload : items\n    }),\n    initCart : (cartId) => dispatch({\n        type    : actions.INIT_CART,\n        payload : cartId\n    })\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction OrderSnapshot(props) {\n\n    // oneshop instance\n    const OS = new Oneshop();\n    // get passed props\n    let order = (useLocation() || {}).state || null;\n    // get cart items\n    let { shop } = props;\n    // get shop currency\n    const currency = (shop.currency || \"hkd\").toUpperCase();\n\n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // if order exists, reset cart\n        if(order != null) resetCart();\n    }, []);\n    // ---------------- /LIFECYCLE ----------------\n\n\n    // ------------- HELPER -------------\n    function extractThumbnail(item){\n        let thumbnail_url = \"https://via.placeholder.com/150\";\n        if((item.media || []).length > 0) thumbnail_url = item.media[0];\n        return thumbnail_url;\n    }\n\n    async function resetCart(){\n        try {\n            // retrieve cart id\n            let cartId = (await OS.cart.create()).rows[0].id;\n            // setup cookies\n            const cookies = new Cookies();\n            // save cart id\n            cookies.set('cartId', cartId);\n            // save to state\n            props.initCart(cartId);\n            // reset cart items\n            props.setCartItems([]);\n        } catch(error) {\n            // retry\n            resetCart();\n        }\n    }\n    // ------------- HELPER -------------\n\n    return order != null ? <div className=\"order-snapshot\">\n        <div className=\"order-snapshot-wrapper\">\n            <div className=\"content\">\n                <h1>Thank You!</h1>\n                <div className=\"order-id\">\n                    <b>Order #{order.id}</b>\n                </div>\n                <div className=\"order-detail\">\n                    <div className=\"order-detail-row\">\n                        <div className=\"icon\">\n                            <i className=\"fas fa-male\"></i>    \n                        </div> \n                        {order.contact.first_name} {order.contact.last_name}\n                    </div>\n                    <div className=\"order-detail-row\">\n                        <div className=\"icon\">\n                            <i className=\"fas fa-envelope\"></i> \n                        </div>\n                        {order.contact.email}\n                    </div>\n                    <div className=\"order-detail-row\">\n                        <div className=\"icon\">\n                            <i className=\"fas fa-phone\"></i>\n                        </div>\n                        {order.contact.phone}\n                    </div>\n                    <div className=\"order-detail-row\">\n                        <div className=\"icon\">\n                            <i className=\"fas fa-map-marker-alt\"></i>\n                        </div>\n                        {order.shipping.address}\n                    </div>\n                    <div className=\"order-detail-row\">\n                        <div className=\"icon\">\n                            <i className=\"fas fa-sticky-note\"></i>\n                        </div>\n                        {order.notes || \"---\"}\n                    </div>\n                </div>\n                <div className=\"items\">\n                    {(order.items || []).map(item => (<div key={`order-snapshot-item-${item.id}`} className=\"item\">\n                        <div className=\"thumbnail\">\n                            <img src={extractThumbnail(item)} alt={`image of ${item.name}`}/>\n                        </div>\n                        <div className=\"info\">\n                            <div className=\"name\">\n                                {item.name}\n                            </div>\n                            <div className=\"description\">\n                                {item.variant}\n                            </div>\n                        </div>\n                        <div className=\"unit-price\">\n                            {currency} {item.price.toFixed(2)} <i className=\"fas fa-times\"></i>\n                        </div>\n                        <div className=\"qty\">\n                            {item.qty}\n                        </div>\n                        <div className=\"subtotal\">\n                            {currency} {(item.price * item.qty).toFixed(2)}\n                        </div>\n                    </div>))}\n                </div>\n                <div className=\"order-summary\">\n                    <div className=\"subtotal\">\n                        Subtotal: {currency} {order.sub_total.toFixed(2)}\n                    </div>\n                    {\n                        (((order.breakdowns || [])[0] || {}).discounts || []).length > 0 ?\n                        <div className=\"discount\">\n                            <i data-tip={`${order.breakdowns[0].discounts.map((d, idx) => `${idx+1}. <b>${d.title}</b> -${currency}${d.amount}`).join(\"<br/>\")}`} className=\"fas fa-info-circle\"></i> Discount: {currency} {order.discounted_amount.toFixed(2)}\n                            <Tooltip type=\"dark\" html={true} />\n                        </div> : null\n                    }\n                    <div className=\"total\">\n                        Total: {currency} {order.gross_total.toFixed(2)}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div> : <Redirect to=\"/products\" />;\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderSnapshot);\n\n","import React, { useEffect, useState } from 'react';\nimport './page.css';\nimport { connect } from 'react-redux';\nimport parser from 'html-react-parser';\nimport { useParams } from 'react-router-dom';\n\n\n// ------------------------ REDUX ------------------------\nconst mapStateToProps = state => ({\n    shop : state.shop.session\n});\n// ------------------------ /REDUX ------------------------\n\n\nfunction Page(props){\n\n    // get shop\n    let { shop } = props;\n    // get filename\n    let fileName = useParams().file;\n    // text\n    let [text, setText] = useState(\"\");\n\n    // ----------------------- HELPERS -----------------------\n    useEffect(() => {\n        // load text file\n        fetchFile(fileName);\n    })\n\n    async function fetchFile(file){\n        try {\n            let text = await fetch(`/assets/text_files/${file}.txt`);\n            text = await text.text();\n            setText(text);\n        } catch (error) {\n            setText(`Failed to load ${file}.txt.`);\n        }\n    }\n    // ----------------------- /HELPERS -----------------------\n\n\n    return (\n        <div className=\"page\">\n            <div className=\"content\">\n                {parser(text)}\n            </div>\n        </div>\n    );\n}\n\nexport default connect(mapStateToProps)(Page);","import React from 'react';\nimport { Route, Switch, withRouter, Redirect} from 'react-router-dom';\nimport './routes.css';\n\nimport NavBar from '../../components/NavBar';\nimport Footer from '../../components/Footer';\nimport Home from '../Home';\nimport Product from '../Product';\nimport ProductDetail from '../Product/Detail';\nimport Blog from '../Blog';\nimport BlogDetail from '../Blog/Detail';\nimport NotFound from '../404';\nimport Checkout from '../Checkout';\nimport User from '../User';\nimport Register from '../User/Register';\nimport Login from '../User/Login';\nimport Cart from '../Cart';\nimport OrderSnapshot from '../Checkout/OrderSnapshot';\nimport Page from '../Page';\n\nfunction Routes(){\n\n    return (\n        <div className=\"wrapper\">\n            <NavBar/>\n            <div className=\"scene\">\n                <Switch>\n                    <Route path=\"/\" component={Home} exact />\n                    <Route path=\"/products\" component={Product} exact />\n                    <Route path=\"/products/:id\" component={ProductDetail} exact />\n                    <Route path=\"/blogs\" component={Blog} exact />\n                    <Route path=\"/blogs/:id\" component={BlogDetail} exact />\n                    <Route path=\"/pages/:file\" component={Page} exact />\n                    <Route path=\"/users\" component={User} exact/>\n                    <Route path=\"/users/new\" component={Register} exact/>\n                    <Route path=\"/users/login\" component={Login} exact/>\n                    <Redirect from=\"/login\" to=\"/users/login\" exact/>\n                    <Route path=\"/checkout\" component={Checkout} exact />\n                    <Route path=\"/checkout/success\" component={OrderSnapshot} exact/>\n                    <Route path=\"/cart\" component={Cart} exact />\n                    <Route component={NotFound} />\n                </Switch>\n            </div>\n            <Footer/>\n        </div>\n    )\n}\n\nexport default withRouter(Routes);","import React, { useEffect, useState } from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport Routes from '../Routes';\nimport { connect } from 'react-redux';\nimport actions from '../../helpers/actions';\nimport oneshop from 'oneshop.web';\nimport { MoonLoader } from 'react-spinners';\nimport Cookies from 'universal-cookie';\n\nconst mapStateToProps = (state, ownProps) => ({\n    shop : state.shop.session,\n    cart : state.cart\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    setShop : (shop) => dispatch({\n        type    : actions.SET_SHOP,\n        payload : shop\n    }),\n    initCart : (cartId) => dispatch({\n        type    : actions.INIT_CART,\n        payload : cartId\n    }),\n    setCartItems : (items) => dispatch({\n        type    : actions.SET_CART_ITEMS,\n        payload : items\n    })\n});\n\nfunction App(props){\n\n    // create oneshop instance\n    const OS = new oneshop();\n    // setup cookies\n    const cookies = new Cookies();\n    // get props\n    const { shop, cart } = props;\n    \n    // ---------------- LIFECYCLE ----------------\n    useEffect(() => {\n        // shop not loaded yet\n        if(!shop){\n            // set get shop handler\n            (function getShop(){\n                OS.shop.settings()\n                // get shop settings\n                .then(rows => {\n                    // get shop\n                    props.setShop(rows[0]);\n                })\n                .catch(error => {\n                    // try again\n                    getShop();\n                });\n            })();\n        }\n        // load cart items if cart exists\n        !cart.id ? setupCart() : validateCart();\n    }, []);\n    // ---------------- /LIFECYCLE ----------------\n\n\n    // ---------------- HELPERS ----------------\n    async function setupCart(){\n        try {\n            // retrieve cart id\n            let cartId = (await OS.cart.create()).rows[0].id;\n            // save cart id\n            cookies.set('cartId', cartId);\n            // save to state\n            props.initCart(cartId);\n        } catch(error) {\n            // retry\n            setupCart();\n        }\n    }\n\n    async function validateCart(){\n        try {\n            // try to get items\n            let cart_items = await OS.cart.item.get(cart.id);    \n            // save cart items\n            props.setCartItems(cart_items);\n        } catch (error) {\n            // cart not valid, setup\n            setupCart();\n        }\n    }\n    // ---------------- /HELPERS ----------------\n\n    return (\n        // shop and cart not loaded yet?\n        shop == null || cart.id == null? \n        // show loader\n        <div style={{ width:\"100%\", height:\"100vh\", display:\"flex\", justifyContent: \"center\", \"alignItems\":\"center\" }}>\n            <MoonLoader \n                size={30}\n                color={\"#000000\"}\n                loading={true}\n            /> \n        </div>\n        :\n        // show web\n        <BrowserRouter>\n            <Routes/>\n        </BrowserRouter>\n    );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let initState = {\n    products : [],\n    best_sellers : []\n};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'SET_PRODUCTS' :\n            return {\n                ...state,\n                products : action.payload\n            };\n        case 'ADD_BEST_SELLERS' :\n            return {\n                ...state,\n                best_sellers : action.payload\n            };\n        default:\n            return state;\n    }\n}","let initState = {\n    articles : []\n};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'SET_ARTICLES' :\n            return {\n                ...state,\n                articles : action.payload\n            };\n        default:\n            return state;\n    }\n}","let initState = {\n    user : null\n};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'SET_USER' :\n            return {\n                user : action.payload\n            };\n        default:\n            return state;\n    }\n}","import OS_Config from '../../config';\n\nlet initState = {\n    session : null\n};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'SET_SHOP' :\n            return {\n                session  : action.payload,\n                settings : OS_Config.settings\n            };\n        default:\n            return state;\n    }\n}","const Cookies = require('universal-cookie').default;\n// setup cookies\nconst cookies = new Cookies();\n\nlet initState = {\n    id : cookies.get('cartId') || null,\n    items : []\n};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'INIT_CART' : {\n            return {\n                ...state,\n                id : action.payload\n            };\n        }\n        case 'SET_CART_ITEMS' :\n            return {\n                ...state,\n                items : action.payload\n            };\n        default:\n            return state;\n    }\n}","let initState = {};\n\nexport default (state = initState, action) => {\n    switch(action.type) {\n        case 'SET_HOME_CONTEXT' :\n            return {\n                ...state,\n                [action.key] : action.payload\n            };\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport product from './product';\nimport article from './article';\nimport user from './user';\nimport shop from './shop';\nimport cart from './cart';\nimport home from './home';\n\nexport default combineReducers({ product, article, user, shop, cart, home });","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './scenes/App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport reducer from './helpers/reducers';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, \n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = {\n    // Shop settings goes here\n    settings : {\n        layout : {\n            // Key - widget name\n            content : [\n                /**\n                 *  Banner (articles)\n                 */\n                {\n                    widget : \"Banner\", // type is required\n                    // filters\n                    tags : \"\",\n                    ordering : \"\",\n                    numberToShow : 1,\n                    ids : \"\",\n                    collections : \"\",\n                    // silder settings\n                    duration : 5000,\n                    transitionDuration : 300,\n                    infinite : true,\n                    indicators : false,\n                    arrows : false,\n                    // styles to override\n                    styles : {\n                        height : 630\n                    }\n                },\n\n                /** Products */\n                {\n                    widget : \"Product\", // type is required\n                    // filters\n                    tags : \"\",\n                    ordering : \"\",\n                    ids : \"\",\n                    rows : 1,\n                    cols : 4,\n                    collections : \"\",\n                    // title\n                    title : \"Best Sellers\",\n                    type : \"sale\",\n                    // styles to override\n                    styles : {\n                    }\n                },\n\n                /** */\n                {\n                    widget : \"Seperator\",\n                    styles : {\n                        margin : \"50px 0px 60px 0px\",\n                        height : \"0.5px\"\n                    }\n                },\n\n                /** Article Tile */\n                {\n                    widget : \"ArticleTile\", // type is required\n                    // filters\n                    tags : \"\",\n                    ordering : \"\",\n                    ids : \"\",\n                    rows : 1,\n                    cols : 4,\n                    collections : \"\",\n                    // title\n                    title : \"Latest\",\n                    type : \"sale\",\n                    // styles to override\n                    styles : {\n                    }\n                },\n\n                /**  Seperator */\n                /*\n                {\n                    widget : \"Seperator\",\n                    styles : {\n                        margin : \"10px 0px\"\n                    }\n                }\n                */\n            ]            \n        },\n        links : {\n            policies : {\n                shipping_policy      : \"shipping_policy\", // the file name id of your shipping policy (path: /public/assets/text_files)\n                privacy_policy       : \"privacy_policy\", // the file name id of your privacy policy (path: /public/assets/text_files)\n                terms_and_conditions : \"terms_and_conditions\"  // the file name id of your terms and condition (path: /public/assets/text_files)\n            },\n            social : {\n                facebook : \"https://facebook.com\",\n                instagram : \"https://instagram.com\",\n                youtube : \"https://youtube.com\",\n                twitter : \"https://twitter.com\",\n                pinterest : \"https://pinterest.com\"\n            }\n        }\n    }\n};"],"sourceRoot":""}