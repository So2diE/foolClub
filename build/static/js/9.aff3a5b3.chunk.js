(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{788:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(13),c=a.n(o),i=a(8);t.a=Object(i.withStyles)(function(e){return{root:{padding:"12px",marginRight:"3px",borderRadius:"5px",cursor:"pointer",display:"inline-block",fontSize:"24px"},reddit:{"&:before":{color:"#ff8c39"},"&:hover":{backgroundColor:"#ff8c39","&:before":{color:"white"}}},youtube:{"&:before":{color:"#ff342f"},"&:hover":{backgroundColor:"#ff342f","&:before":{color:"white"}}},twitter:{"&:before":{color:"#3c16ff"},"&:hover":{backgroundColor:"#3c16ff","&:before":{color:"white"}}},facebook:{"&:before":{color:"#5567ff"},"&:hover":{backgroundColor:"#5567ff","&:before":{color:"white"}}},whatsapp:{"&:before":{color:"#74ff57"},"&:hover":{backgroundColor:"#74ff57","&:before":{color:"white"}}}}})(function(e){var t=e.classes,a=e.type,r=e.onClick;return n.a.createElement("div",{onClick:r,className:c()(t[a],t.root,function(e){switch(e){case"reddit":return"icon-reddit";case"youtube":return"icon-youtube";case"twitter":return"icon-twitter";case"facebook":return"icon-facebook2";case"whatsapp":return"icon-whatsapp";default:return"icon-facebook2"}}(a))})})},849:function(e,t,a){"use strict";a.r(t);var r=a(49),n=a(5),o=a(21),c=a(30),i=a.n(c),s=a(50),l=a(0),d=a.n(l),u=a(205),p=a(43),f=a(138),m=a(13),b=a.n(m),k=a(787),h=a(207),v=a(795),y=(a(800),a(40)),w=a(9),g=a(17),E=a(10),x=a(788),O=a(103),C=a(145),N=a(6),T=Object(u.a)({wrapper:{padding:"0 9%"},navigator:{marginBottom:45},content:{display:"flex",flexDirection:"row-reverse"},viewer:{width:"35%"},detail:{width:"65%",marginRight:100},backArrow:{cursor:"pointer",backgroundColor:"transparent",borderWidth:0,display:"flex",alignItems:"center",padding:0},backIcon:{fontSize:20,marginRight:5},backText:{fontFamily:"-apple-system,BlinkMacSystemFont,sans-serif"},description:{fontFamily:"-apple-system,BlinkMacSystemFont,sans-serif",color:"#555",fontSize:15},addBtn:{marginTop:10,"& > button":{backgroundColor:"transparent",border:"1px black solid",padding:"10px 20px",borderRadius:"3px",cursor:"pointer"}},addBtnDisabled:{marginTop:10,"& > button":{backgroundColor:"transparent",border:"1px #DDD solid",borderRadius:"3px",padding:"10px 20px",opacity:"0.6"}},stock:{padding:"10px 0px",fontSize:"13px"},sku:{fontSize:"13px"},form:{marginTop:"35px",marginBottom:"15px"},qtyGroup:{padding:"15px 0px"},qtyInput:{height:"30px",border:"0.5px #DDD solid",transform:"border 0.3s"},"@media (max-width: 600px)":{wrapper:{padding:"0 5%"},viewer:{width:"100%"},detail:{width:"100%",marginRight:0},content:{display:"block"}}}),I=new f.a;t.default=Object(p.b)(function(e){return{products:e.product.products,feeds:e.feed.feeds,category:e.category.category}},function(e){return{addToCart:function(){var t=Object(s.a)(i.a.mark(function t(a,r){var n,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=4;break}alert("Please select a variant first."),t.next=15;break;case 4:if(n=I.get("cart"),o=null,n){t.next=11;break}return t.next=8,y.a.Checkout.getCart();case 8:o=t.sent,(n=(((((o||{}).data||{}).data||{}).rows||[]).shift()||{}).id)&&I.set("cart",n);case 11:return t.next=13,y.a.Checkout.addItem(n,{id:a.id,qty:r});case 13:(((o=t.sent)||{}).data||{}).result?(y.a.Checkout.initCart(n).then(function(t){return e({type:N.q,payload:t.data.data.rows})}).catch(function(t){return e({type:N.q,payload:[]})}),h.b.success("Item added.",{position:h.b.POSITION.TOP_RIGHT})):alert((((o||{}).data||{}).messages||[]).join("\n")||"Failed.");case 15:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(function(e){var t=T(),a=e.products,c=e.match,i=e.history,s=a?a.find(function(e){return e.id.toString()===c.params.id}):null;console.log("=====> ",s);var u={},p={};((s||{}).variants||[]).forEach(function(e){return(e.description||"").split(",").forEach(function(t){var a=t.indexOf(":"),r=t.substr(0,a),n=t.substring(a+1);u[r]=(u[r]||[]).concat([n]).filter(function(e,t,a){return a.indexOf(e)==t}),p[e.id]=p[e.id]||{id:e.id,media:e.media,price:e.price,stock:e.stock,sku:e.sku,description:[]},p[e.id].description.push(t)})});var f=Object(l.useState)({qty:1,variant:null}),m=Object(o.a)(f,2),h=m[0],y=m[1];if(void 0==a)return d.a.createElement(C.a,null);if(!s)return null;var N=function(){var e=Object.keys(h.variant||{}).map(function(e){return"".concat(e,":").concat(h.variant[e])});return p[Object.keys(p).filter(function(t){return p[t].description.length==p[t].description.filter(function(t){return e.indexOf(t)>=0}).length})[0]]};h.variant=h.variant||((((s||{}).variants||[])[0]||{}).description||"").split(/ *, */).filter(function(e){return e}).reduce(function(e,t){var a=t.indexOf(":");return Object(n.a)({},e,Object(r.a)({},t.substr(0,a),t.substring(a+1)))},{});var I=N();return d.a.createElement("div",null,d.a.createElement(O.a,{title:s.name,classes:{}}),d.a.createElement("div",{className:t.wrapper},d.a.createElement("div",{className:t.navigator},d.a.createElement("button",{type:"button",className:t.backArrow,onClick:function(){return Object(w.e)("/products",i)}},d.a.createElement("i",{className:b()("icon-circle-left",t.backIcon)}),"\xa0",d.a.createElement("b",null,d.a.createElement(g.a,{keyOfI18n:E.a.FEED_DETAIL_BACK_TO_FEED_LIST})))),d.a.createElement("div",{className:t.content},d.a.createElement("div",{className:t.viewer},d.a.createElement(v.Carousel,null,(I.media||s.media).map(function(e,t){return d.a.createElement("div",{key:t},d.a.createElement("img",{src:e.url}))}))),d.a.createElement("div",{className:t.detail},d.a.createElement("p",{className:t.description},d.a.createElement("h3",null,"Description:"),s.description),d.a.createElement("div",{className:t.price},d.a.createElement(k.a,{value:I.price,thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return d.a.createElement("b",null,e)}})),d.a.createElement("div",{className:t.stock},I.stock>0?d.a.createElement("span",{style:{color:"#1fa141"}},"In stock"):d.a.createElement("span",{style:{color:"#e0674f"}},"Out of stock")),d.a.createElement("div",{className:t.sku},"SKU: ",I.sku||"--"),d.a.createElement("div",{className:t.form},Object.keys(u).map(function(e,t){return d.a.createElement("div",{key:t},d.a.createElement("span",null,e)," :",u[e].map(function(t,a){return d.a.createElement("label",{key:a},d.a.createElement("input",{type:"radio",name:e,value:t,checked:(I.description||[]).indexOf("".concat(e,":").concat(t))>=0,onChange:function(e){return y(Object(n.a)({},h,{variant:Object(n.a)({},h.variant,Object(r.a)({},e.target.name,e.target.value))}))}}),t)}))}),d.a.createElement("div",{className:t.qtyGroup},d.a.createElement("input",{className:t.qtyInput,type:"number",defaultValue:h.qty||1,onChange:function(e){return y(Object(n.a)({},h,{qty:e.target.value}))}})),d.a.createElement("div",{className:I.stock>0?t.addBtn:t.addBtnDisabled},d.a.createElement("button",{type:"button",onClick:function(t){return e.addToCart(N(),h.qty)},disabled:!I.stock},d.a.createElement("i",{className:"icon-cart"}),"\xa0\xa0",d.a.createElement(g.a,{keyOfI18n:E.a.ADD_TO_CART})))),d.a.createElement("div",{className:t.shares},d.a.createElement("h6",null,d.a.createElement(g.a,{keyOfI18n:E.a.PRODUCT_DETAILS_SHARE_THIS_PRODUCT})),d.a.createElement("div",{className:t.shareIcons},d.a.createElement(x.a,{type:"whatsapp",onClick:function(){return window.open("https://web.whatsapp.com/send?text="+window.location.href)}}),d.a.createElement(x.a,{type:"facebook",onClick:function(){return window.open("https://www.facebook.com/sharer/sharer.php?u="+window.location.href)}})))))))})}}]);
//# sourceMappingURL=9.aff3a5b3.chunk.js.map