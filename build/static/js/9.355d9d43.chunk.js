(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{785:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})},857:function(e,t,n){"use strict";n.r(t);var r,a=n(785),o=n(33),i=n.n(o),l=n(60),c=n(0),s=n.n(c),u=n(42),p=n(780),d=(n(66),n(43)),m=n(14),f=n.n(m),y=n(104),g=n(6),x=n(141),b=n(48),h=n(204),E=Object(h.a)({wrapper:{display:"flex",padding:"0 9%",flexDirection:"column"},menu:{width:"calc(100% - 35px)"},categoryList:{display:"flex",flexDirection:"row",alignItems:"center",overflow:"scroll",padding:15,"& > button":{fontSize:13,padding:"10px 20px",border:"none",margin:5,backgroundColor:"transparent",borderRadius:25,cursor:"pointer",transition:"opacity 0.3s","&:hover":{opacity:.6}}},list:{width:"calc(100% - 35px)"},topbar:{display:"flex",borderTop:"1px solid #efefef",padding:"15px 15px",alignItems:"center","& > div":{flex:1},"& > div:nth-child(2)":{flex:2.5}},modes:{"& > button":(r={marginLeft:5,border:"1px solid #eee",backgroundColor:"transparent"},Object(b.a)(r,"border","none"),Object(b.a)(r,"transition","opacity 0.3s"),Object(b.a)(r,"&:hover",{opacity:.6}),r),"& > button:first-child":{marginLeft:0}},icon:{padding:10,cursor:"pointer",alignItems:"center",border:"1px solid black"},status:{fontFamily:"-apple-system,BlinkMacSystemFont,sans-serif",textAlign:"center"},sort:{fontFamily:"-apple-system,BlinkMacSystemFont,sans-serif",textAlign:"right"},context:{display:"flex",flexWrap:"wrap"},item:{display:"flex",flexDirection:"column",width:"calc(33.3% - 50px)",backgroundColor:"transparent",flexBasis:"auto",margin:25,padding:"10px 15px",cursor:"pointer",border:"none",transition:"opacity 0.3s","&:hover":{opacity:.6}},media:{marginBottom:25,height:250,"& > img":{width:"100%",height:"100%",objectFit:"contain"}},name:{textAlign:"left",marginTop:3,padding:0,fontSize:18,color:"#333"},price:{textAlign:"left",color:"#333"},tags:{padding:"10px 0px",textAlign:"left",fontSize:10,color:"#666",wordBreak:"break-word",textTransform:"uppercase"},rowItem:{display:"flex",flexDirection:"row",width:"calc(100% - 50px)",backgroundColor:"transparent",flexBasis:"auto",margin:25,flexWrap:"wrap",padding:"10px 15px",cursor:"pointer",border:"none",transition:"opacity 0.3s","&:hover":{opacity:.6}},rowItemInfo:{display:"flex",flexDirection:"column",padding:10,flexWrap:"wrap",minWidth:200,flex:2,alignItems:"flex-start",justifyContent:"center"},rowItemMedia:{flex:1,minWidth:180,marginBottom:15,height:180,"& > img":{width:"100%",height:"100%",objectFit:"contain"}},rowItemName:{textAlign:"left",marginTop:5,padding:0,fontSize:18,color:"#333"},rowItemDescription:{textAlign:"left",color:"#666",fontSize:13},rowItemPrice:{textAlign:"left",margin:"3px 0px 5px 0px",color:"#333"},stockStatus:{fontSize:12,margin:"5px 0px",textAlign:"left","& > span > i":{fontSize:12}},loadMoreBtnWrapper:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& > button":{marginTop:25,width:150,border:"none",backgroundColor:"#f6f6f6",fontSize:12,padding:"10px 20px",transition:"opacity 0.3s",cursor:"pointer","&:hover":{opacity:.6}}},sortSelect:{position:"relative",display:"flex",justifyContent:"flex-end",minWidth:100,"& > div > button":{display:"block",cursor:"pointer",borderWidth:0,backgroundColor:"transparent",fontSize:14,transition:"opacity 0.3s","&:focus":{outline:0},"&:hover":{opacity:.6}}},sortOptions:{width:"100%",position:"absolute",display:"none",marginTop:35,padding:0,boxShadow:"0 3px 8px 3px rgba(92, 92, 92, 0.2)","&:before":{content:'""',position:"absolute",borderColor:"transparent transparent #f3f3f3",borderStyle:"solid",borderWidth:"10px 15px",top:-20,left:"calc(90% - 15px)"},"& > li":{listStyle:"none"},"& > li > button":{display:"block",width:"100%",borderWidth:0,backgroundColor:"#f3f3f3",cursor:"pointer",padding:"5px 0",fontSize:15,"&:focus":{outline:0}}},"@media (max-width: 600px)":{wrapper:{display:"block",padding:"0 5%"},menu:{width:"100%"},list:{width:"100%",marginLeft:0},topbar:{display:"none"},categoryList:{display:"none",marginBottom:20},menuTool:{display:"block",transform:"rotate(270deg)",paddingTop:45},item:{width:"calc(100% - 50px)"},name:{fontSize:14},rowItem:{alignItems:"center",justifyContent:"center"},rowItemDescription:{display:"none"}}}),v=n(9),w=n(10),k=n(17),O=[{key:"nameAsc",element:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP_SORT_NAME_ASC})},{key:"nameDes",element:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP_SORT_NAME_DES})},{key:"priceAsc",element:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP_SORT_PRICE_ASC})},{key:"priceDes",element:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP_SORT_PRICE_DES})},{key:"clear",element:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP_SORT_CLEAR})}];t.default=Object(u.b)(function(e){return{products:e.product.products,viewMode:e.product.viewMode,sort:e.product.sort,filter:e.product.filter,productIsLoading:e.product.productIsLoading}},function(e){return{changeViewMode:function(t){return e({type:g.n,payload:t})},editProductSort:function(t){return e({type:g.x,payload:{key:"sortBy",value:t}})},editProductFilter:function(t,n){return e({type:g.w,payload:{key:t,value:n}})},closeSortOptions:function(e){for(var t=e.target;t&&!/^sortSelect-/i.test(t.className);)t=t.parentNode;if(t){var n=Object.values(t.childNodes).filter(function(e){return/^sortOptions-/i.test(e.className)})[0];n&&(n.style.display=/^block$/i.test(n.style.display)?"none":"block")}},loadProducts:function(){var t=Object(l.a)(i.a.mark(function t(n,r){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.Products.loadProducts(n);case 2:(a=t.sent).length&&e({type:g.t,payload:r.concat(a)});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}})(function(e){var t=E(),n=Object(a.a)(e.products||[]);n.length||e.loadProducts(1,[]),n=e.sort.sortBy&&e.sort.sortBy.length&&!/^clear$/.test(e.sort.sortBy)?n.sort(function(t,n){return/^nameAsc$/.test(e.sort.sortBy)?t.name>n.name:/^nameDes$/.test(e.sort.sortBy)?t.name<n.name:/^priceAsc$/.test(e.sort.sortBy)?t.price>n.price:/^priceDes$/.test(e.sort.sortBy)?t.price<n.price:void 0}):Object(a.a)(e.products||[]),e.filter.tag&&(n=n.filter(function(t){return t.tags.includes(e.filter.tag)}));var r=function(){return n.map(function(n,r){var a=(n.media||[]).filter(function(e){return/^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(e.ext)}),o=n.variants||[],i=[n.price].concat(n.variants.map(function(e){return e.price})).filter(function(e,t,n){return n.indexOf(e)==t}).sort(function(e,t){return e-t});return s.a.createElement("button",{key:r,type:"button",className:t.rowItem,onClick:function(){return Object(v.e)("/products/"+n.id,e.history)}},s.a.createElement("div",{className:t.rowItemMedia},s.a.createElement("img",{src:function(){var e="/notFound/not-found-image.jpg";return a.length&&a[0].url?e=a[0].url.replace(".cloud/",".cloud/380xAUTO/"):o.forEach(function(t){t.media.length>0&&"/notFound/not-found-image.jpg"==e&&(e=t.media[0].url)}),e}(),width:"100%"})),s.a.createElement("div",{className:t.rowItemInfo},s.a.createElement("div",{className:t.rowItemName},n.name),s.a.createElement("div",{className:t.stockStatus},(n.variants||[]).map(function(e){return e.stock}).reduce(function(e,t){return e+t},0)<=0?s.a.createElement("span",{style:{color:"#e0674f"}},s.a.createElement("i",null,s.a.createElement(k.a,{keyOfI18n:w.a.PRODUCT_DETAIL_OUT_OF_STOCK}))):null),s.a.createElement("div",{className:t.rowItemPrice},i.length>1?s.a.createElement("span",null,s.a.createElement(p.a,{value:i[0],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}})," -\xa0",s.a.createElement(p.a,{value:i[i.length-1],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}})):s.a.createElement("span",null,s.a.createElement(p.a,{value:i[0],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}}))),(n.description||"").trim().length?s.a.createElement("div",{className:t.rowItemDescription},(n.description||"").length>80?n.description.substr(0,100)+"...":n.description):null,n.tags.length?s.a.createElement("div",{className:t.tags},"#",n.tags.join(" #")):null))})},o=function(){return n.map(function(n,r){var a=(n.media||[]).filter(function(e){return/^(jpe?g|png|gif|bmp|mp4|qt|mov)$/i.test(e.ext)}),o=n.variants||[],i=[n.price].concat(n.variants.map(function(e){return e.price})).filter(function(e,t,n){return n.indexOf(e)==t}).sort(function(e,t){return e-t});return s.a.createElement("button",{key:r,type:"button",className:t.item,onClick:function(){return Object(v.e)("/products/"+n.id,e.history)}},s.a.createElement("div",{className:t.media},s.a.createElement("img",{src:function(){var e="/notFound/not-found-image.jpg";return a.length&&a[0].url?e=a[0].url.replace(".cloud/",".cloud/380xAUTO/"):o.forEach(function(t){t.media.length>0&&"/notFound/not-found-image.jpg"==e&&(e=t.media[0].url)}),e}(),width:"100%"})),s.a.createElement("div",{className:t.name},n.name),s.a.createElement("div",{className:t.stockStatus},s.a.createElement("span",{style:{color:"#e0674f"}},(n.variants||[]).map(function(e){return e.stock}).reduce(function(e,t){return e+t},0)<=0?s.a.createElement("i",null,s.a.createElement(k.a,{keyOfI18n:w.a.PRODUCT_DETAIL_OUT_OF_STOCK})):s.a.createElement("i",null,"\xa0"))),s.a.createElement("div",{className:t.price},i.length>1?s.a.createElement("span",null,s.a.createElement(p.a,{value:i[0],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}})," -\xa0",s.a.createElement(p.a,{value:i[i.length-1],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}})):s.a.createElement("span",null,s.a.createElement(p.a,{value:i[0],thousandSeparator:!0,prefix:"HK$",displayType:"text",renderText:function(e){return e}}))),n.tags.length?s.a.createElement("div",{className:t.tags},"#",n.tags.join(" #")):null)})};return s.a.createElement("div",null,s.a.createElement(y.a,{title:s.a.createElement(k.a,{keyOfI18n:w.a.SHOP}),route:"home/shop"}),s.a.createElement("div",{className:t.wrapper},n.length?[s.a.createElement("div",{className:t.menu},s.a.createElement("ul",{key:"menu",className:t.categoryList},Object(v.c)(e.products||[]).reduce(function(e,t){return e.map(function(e){return(e.value||"").toLowerCase()}).includes((t.value||"").toLowerCase())?e:[].concat(Object(a.a)(e),[t])},[]).map(function(n,r){return s.a.createElement("button",{type:"button",style:{border:((e.filter||{}).tag||"")==n.value?"1px solid black":"none"},className:t.menuItem,onClick:function(){console.log(e.filter),e.editProductFilter("tag",n.value)}},n.label.toUpperCase())}))),s.a.createElement("div",{className:t.list},s.a.createElement("div",{key:"product-list",className:t.topbar},s.a.createElement("div",{className:t.modes},s.a.createElement("button",{type:"button",onClick:function(){return e.changeViewMode("form")},className:f()(t.icon,"icon-table")}),s.a.createElement("button",{type:"button",onClick:function(){return e.changeViewMode("list")},className:f()("icon-list",t.icon)})),s.a.createElement("div",{className:t.status}),s.a.createElement("div",{className:t.sortSelect},s.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},e.sort.sortBy&&!/^clear$/.test(e.sort.sortBy)?O.filter(function(t){return t.key==e.sort.sortBy})[0].element:null,s.a.createElement("button",{type:"button",onClick:e.closeSortOptions,className:f()("icon-filter",t.icon)})),s.a.createElement("ul",{className:t.sortOptions},O.map(function(t){return s.a.createElement("li",null,s.a.createElement("button",{type:"button",onClick:function(n){e.editProductSort(t.key),e.closeSortOptions(n)}},t.element))})))),s.a.createElement("div",{className:t.context},/^form$/.test(e.viewMode)?o():r(),s.a.createElement("div",{className:t.loadMoreBtnWrapper},s.a.createElement("button",{onClick:function(){e.loadProducts(Math.ceil((e.products||[]).length/15)+1,n)}},s.a.createElement(k.a,{keyOfI18n:w.a.LOAD_MORE})))))]:s.a.createElement(x.a,null)))})}}]);
//# sourceMappingURL=9.355d9d43.chunk.js.map