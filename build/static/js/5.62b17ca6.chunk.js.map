{"version":3,"sources":["components/MainPage/Overview.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_jss__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","html2plaintext__WEBPACK_IMPORTED_MODULE_4__","html2plaintext__WEBPACK_IMPORTED_MODULE_4___default","_constants_actionType__WEBPACK_IMPORTED_MODULE_5__","_agent__WEBPACK_IMPORTED_MODULE_6__","styles","createUseStyles","featuredItems","display","padding","connect","state","collection","items","featuredArticles","feed","tips","dispatch","initFeaturedArticles","agent","Feeds","getFeaturedArticles","then","res","type","ARTICLE_INIT_FEATURED","payload","data","rows","catch","err","initTips","getTips","ARTICLE_INIT_TIPS","withRouter","props","classes","history","useEffect","undefined","a","createElement","map","article","idx","key","style","backgroundImage","concat","sections","media","url","backgroundSize","height","margin","flexWrap","width","backgroundColor","length","flex","backgroundPosition","flexDirection","alignItems","justifyContent","title","h2p","description","className","item","onClick","push","id","name"],"mappings":"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","file":"static/js/5.62b17ca6.chunk.js","sourcesContent":["import React, {useEffect} from 'react';\nimport {createUseStyles} from 'react-jss';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\n\nimport h2p from 'html2plaintext';\n\nimport {\n    ARTICLE_INIT_FEATURED,\n    ARTICLE_INIT_TIPS\n} from '../../constants/actionType';\nimport agent from '../../agent';\n\n\nconst styles = createUseStyles({\n    featuredItems: {\n        display: 'flex',\n        padding: '0 9%'\n    }\n    // section: {\n    //     width: '100%',\n    //     margin: '0 80px'\n    // },\n    // productCategory: {\n    //     paddingTop: '40px',\n\n    //     paddingBottom: '40px',\n    //     // backgroundColor: theme.palette.background.paper\n    // },\n    // text: {\n    //     textAlign: 'center',\n    //     // color: theme.palette.secondary.light,\n    //     marginBottom: '30px',\n    //     wordWrap: 'break-word',\n    //     wordBreak: 'break-all'\n\n    // },\n    // title: {\n    //     paddingTop: '20px',\n    //     marginTop: '50px',\n    //     fontWeight: '700',\n    //     // color: theme.palette.primary.dark,\n    //     marginBottom: '20px',\n    //     textAlign: 'center'\n    // }\n});\n\n\nconst mapStateToProps = state => ({\n    featuredItems: state.collection.items,\n    featuredArticles: state.feed.featuredArticles,\n    tips: state.feed.tips\n});\n\n\nconst mapDispatchToProps = dispatch => ({\n    initFeaturedArticles: () => {\n        try {\n            agent.Feeds.getFeaturedArticles()\n            .then(res => {\n                dispatch({\n                    type    : ARTICLE_INIT_FEATURED,\n                    payload : res.data.data.rows || []\n                })\n            })\n            .catch(err => {\n\n            })\n        } catch(err) {\n\n        }\n    },\n    initTips: () => {\n        try {\n            agent.Feeds.getTips()\n            .then(res => {\n                dispatch({\n                    type    : ARTICLE_INIT_TIPS,\n                    payload : res.data.data.rows || []\n                })\n            })\n            .catch(err => {\n\n            })\n        } catch(err) {\n\n        }\n    }\n});\n\n\nconst MainPageOverview = props => {\n    const classes = styles();\n    const {featuredItems, featuredArticles, tips, history} = props;\n\n    useEffect(() => {\n        if (featuredArticles === undefined) props.initFeaturedArticles();\n        if (tips === undefined) props.initTips();\n        return () => {\n\n        };\n    }, [featuredArticles, tips]);\n\n    return <div>\n        <div>\n            {(featuredArticles || []).map((article, idx) => <li\n                key={idx}\n                style={{\n                    backgroundImage: `url(${article.sections[0].media[0].url})`,\n                    backgroundSize: 'cover',\n                    height: 390\n                }}\n            >\n                \n            </li>)}\n        </div>\n        <br/><br/><br/>\n        <ul\n            style={{\n                padding: '0 3%',\n                margin: 0,\n                display: 'flex',\n                flexWrap: 'wrap'\n            }}\n        >\n            {(tips || []).map((article, idx) => <li\n                key={idx}\n                style={{\n                    display: 'flex',\n                    width: 'calc(50% - 20px)',\n                    backgroundColor: '#f7f7f7',\n                    margin: 10\n                }}\n            >\n                {(article.sections[0] || {}).media.length > 0 && <div\n                    style={{\n                        flex: 4,\n                        height: 250,\n                        backgroundImage: `url(${article.sections[0].media[0].url})`,\n                        backgroundSize: 'cover',\n                        backgroundPosition: 'center'\n                    }}\n                />}\n                <div\n                    style={{\n                        flex: 6,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        padding: 25,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }}\n                >\n                    <h5\n                        style={{\n                            margin: 0\n                        }}\n                    >{article.sections[0].title}</h5>\n                    <p>{h2p(article.sections[0].description)}</p>\n                </div>\n            </li>)}\n        </ul>\n        <br/><br/><br/>\n        <div className={classes.featuredItems}>\n            {featuredItems.map((item, idx) => <button\n                key={idx}\n                type=\"button\"\n                onClick={() => history.push(`/products/${item.id}`)}\n            >{item.name}</button>)}\n        </div>\n    </div>;\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(MainPageOverview))"],"sourceRoot":""}